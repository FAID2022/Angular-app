var LM=Object.defineProperty,VM=Object.defineProperties;var UM=Object.getOwnPropertyDescriptors;var Nu=Object.getOwnPropertySymbols,jM=Object.getPrototypeOf,eE=Object.prototype.hasOwnProperty,tE=Object.prototype.propertyIsEnumerable,BM=Reflect.get;var XI=(t,e,n)=>e in t?LM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})eE.call(e,n)&&XI(t,n,e[n]);if(Nu)for(var n of Nu(e))tE.call(e,n)&&XI(t,n,e[n]);return t},ce=(t,e)=>VM(t,UM(e));var nE=(t,e)=>{var n={};for(var r in t)eE.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Nu)for(var r of Nu(t))e.indexOf(r)<0&&tE.call(t,r)&&(n[r]=t[r]);return n};var qr=(t,e,n)=>BM(jM(t),n,e);var I=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function rE(t,e){return Object.is(t,e)}var st=null,Pu=!1,Ou=1,lr=Symbol("SIGNAL");function fe(t){let e=st;return st=t,e}function iE(){return st}var Aa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function up(t){if(Pu)throw new Error("");if(st===null)return;st.consumerOnSignalRead(t);let e=st.nextProducerIndex++;if(Vu(st),e<st.producerNode.length&&st.producerNode[e]!==t&&Sa(st)){let n=st.producerNode[e];Lu(n,st.producerIndexOfThis[e])}st.producerNode[e]!==t&&(st.producerNode[e]=t,st.producerIndexOfThis[e]=Sa(st)?cE(t,st,e):0),st.producerLastReadVersion[e]=t.version}function $M(){Ou++}function oE(t){if(!(Sa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ou)){if(!t.producerMustRecompute(t)&&!dp(t)){t.dirty=!1,t.lastCleanEpoch=Ou;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ou}}function sE(t){if(t.liveConsumerNode===void 0)return;let e=Pu;Pu=!0;try{for(let n of t.liveConsumerNode)n.dirty||HM(n)}finally{Pu=e}}function aE(){return st?.consumerAllowSignalWrites!==!1}function HM(t){t.dirty=!0,sE(t),t.consumerMarkedDirty?.(t)}function Fu(t){return t&&(t.nextProducerIndex=0),fe(t)}function lp(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Sa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Lu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function dp(t){Vu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(oE(n),r!==n.version))return!0}return!1}function hp(t){if(Vu(t),Sa(t))for(let e=0;e<t.producerNode.length;e++)Lu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function cE(t,e,n){if(uE(t),t.liveConsumerNode.length===0&&lE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=cE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Lu(t,e){if(uE(t),t.liveConsumerNode.length===1&&lE(t))for(let r=0;r<t.producerNode.length;r++)Lu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Vu(i),i.producerIndexOfThis[r]=e}}function Sa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Vu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function uE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function lE(t){return t.producerNode!==void 0}function dE(t){let e=Object.create(zM);e.computation=t;let n=()=>{if(oE(e),up(e),e.value===ku)throw e.error;return e.value};return n[lr]=e,n}var ap=Symbol("UNSET"),cp=Symbol("COMPUTING"),ku=Symbol("ERRORED"),zM=ce(U({},Aa),{value:ap,dirty:!0,error:null,equal:rE,producerMustRecompute(t){return t.value===ap||t.value===cp},producerRecomputeValue(t){if(t.value===cp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=cp;let n=Fu(t),r;try{r=t.computation()}catch(i){r=ku,t.error=i}finally{lp(t,n)}if(e!==ap&&e!==ku&&r!==ku&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function qM(){throw new Error}var hE=qM;function fE(){hE()}function pE(t){hE=t}var GM=null;function mE(t){let e=Object.create(yE);e.value=t;let n=()=>(up(e),e.value);return n[lr]=e,n}function fp(t,e){aE()||fE(),t.equal(t.value,e)||(t.value=e,WM(t))}function gE(t,e){aE()||fE(),fp(t,e(t.value))}var yE=ce(U({},Aa),{equal:rE,value:void 0});function WM(t){t.version++,$M(),sE(t),GM?.()}function ne(t){return typeof t=="function"}function Fo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Uu=Fo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Vi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ne(r))try{r()}catch(o){e=o instanceof Uu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{vE(o)}catch(s){e=e??[],s instanceof Uu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Uu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)vE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Vi(n,e)}remove(e){let{_finalizers:n}=this;n&&Vi(n,e),e instanceof t&&e._removeParent(this)}};Ke.EMPTY=(()=>{let t=new Ke;return t.closed=!0,t})();var pp=Ke.EMPTY;function ju(t){return t instanceof Ke||t&&"closed"in t&&ne(t.remove)&&ne(t.add)&&ne(t.unsubscribe)}function vE(t){ne(t)?t():t.unsubscribe()}var In={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Lo={setTimeout(t,e,...n){let{delegate:r}=Lo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Lo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bu(t){Lo.setTimeout(()=>{let{onUnhandledError:e}=In;if(e)e(t);else throw t})}function xa(){}var _E=mp("C",void 0,void 0);function wE(t){return mp("E",void 0,t)}function IE(t){return mp("N",t,void 0)}function mp(t,e,n){return{kind:t,value:e,error:n}}var Ui=null;function Vo(t){if(In.useDeprecatedSynchronousErrorHandling){let e=!Ui;if(e&&(Ui={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ui;if(Ui=null,n)throw r}}else t()}function EE(t){In.useDeprecatedSynchronousErrorHandling&&Ui&&(Ui.errorThrown=!0,Ui.error=t)}var ji=class extends Ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ju(e)&&e.add(this)):this.destination=YM}static create(e,n,r){return new Uo(e,n,r)}next(e){this.isStopped?yp(IE(e),this):this._next(e)}error(e){this.isStopped?yp(wE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yp(_E,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KM=Function.prototype.bind;function gp(t,e){return KM.call(t,e)}var vp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$u(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$u(r)}else $u(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$u(n)}}},Uo=class extends ji{constructor(e,n,r){super();let i;if(ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&In.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gp(e.next,o),error:e.error&&gp(e.error,o),complete:e.complete&&gp(e.complete,o)}):i=e}this.destination=new vp(i)}};function $u(t){In.useDeprecatedSynchronousErrorHandling?EE(t):Bu(t)}function QM(t){throw t}function yp(t,e){let{onStoppedNotification:n}=In;n&&Lo.setTimeout(()=>n(t,e))}var YM={closed:!0,next:xa,error:QM,complete:xa};var jo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Jt(t){return t}function _p(...t){return wp(t)}function wp(t){return t.length===0?Jt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=ZM(n)?n:new Uo(n,r,i);return Vo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=bE(r),new r((i,o)=>{let s=new Uo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[jo](){return this}pipe(...n){return wp(n)(this)}toPromise(n){return n=bE(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function bE(t){var e;return(e=t??In.Promise)!==null&&e!==void 0?e:Promise}function JM(t){return t&&ne(t.next)&&ne(t.error)&&ne(t.complete)}function ZM(t){return t&&t instanceof ji||JM(t)&&ju(t)}function Ip(t){return ne(t?.lift)}function we(t){return e=>{if(Ip(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,e,n,r,i){return new Ep(t,e,n,r,i)}var Ep=class extends ji{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Bo(){return we((t,e)=>{let n=null;t._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var $o=class extends pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ip(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ke;let n=this.getSubject();e.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ke.EMPTY)}return e}refCount(){return Bo()(this)}};var CE=Fo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ut=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Hu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new CE}next(n){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Vo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?pp:(this.currentObservers=null,o.push(n),new Ke(()=>{this.currentObservers=null,Vi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new pe;return n.source=this,n}}return t.create=(e,n)=>new Hu(e,n),t})(),Hu=class extends ut{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:pp}};var gt=class extends ut{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var bp={now(){return(bp.delegate||Date).now()},delegate:void 0};var zu=class extends Ke{constructor(e,n){super()}schedule(e,n=0){return this}};var Ra={setInterval(t,e,...n){let{delegate:r}=Ra;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ra;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ho=class extends zu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ra.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ra.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Vi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var zo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};zo.now=bp.now;var qo=class extends zo{constructor(e,n=zo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Cp=new qo(Ho);var qu=class extends Ho{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Gu=class extends qo{};var Dp=new Gu(qu);var Zt=new pe(t=>t.complete());function DE(t){return t&&ne(t.schedule)}function TE(t){return t[t.length-1]}function Wu(t){return ne(TE(t))?t.pop():void 0}function Gr(t){return DE(TE(t))?t.pop():void 0}function Tp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function SE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bi(t){return this instanceof Bi?(this.v=t,this):new Bi(t)}function xE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(C){return Promise.resolve(C).then(g,p)}}function a(g,C){r[g]&&(i[g]=function(P){return new Promise(function(N,j){o.push([g,P,N,j])>1||u(g,P)})},C&&(i[g]=C(i[g])))}function u(g,C){try{l(r[g](C))}catch(P){y(o[0][3],P)}}function l(g){g.value instanceof Bi?Promise.resolve(g.value.v).then(f,p):y(o[0][2],g)}function f(g){u("next",g)}function p(g){u("throw",g)}function y(g,C){g(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function RE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof SE=="function"?SE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Ku=t=>t&&typeof t.length=="number"&&typeof t!="function";function Qu(t){return ne(t?.then)}function Yu(t){return ne(t[jo])}function Ju(t){return Symbol.asyncIterator&&ne(t?.[Symbol.asyncIterator])}function Zu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function XM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xu=XM();function el(t){return ne(t?.[Xu])}function tl(t){return xE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Bi(n.read());if(i)return yield Bi(void 0);yield yield Bi(r)}}finally{n.releaseLock()}})}function nl(t){return ne(t?.getReader)}function et(t){if(t instanceof pe)return t;if(t!=null){if(Yu(t))return eN(t);if(Ku(t))return tN(t);if(Qu(t))return nN(t);if(Ju(t))return ME(t);if(el(t))return rN(t);if(nl(t))return iN(t)}throw Zu(t)}function eN(t){return new pe(e=>{let n=t[jo]();if(ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tN(t){return new pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function nN(t){return new pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Bu)})}function rN(t){return new pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ME(t){return new pe(e=>{oN(t,e).catch(n=>e.error(n))})}function iN(t){return ME(tl(t))}function oN(t,e){var n,r,i,o;return AE(this,void 0,void 0,function*(){try{for(n=RE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Bt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Wr(t,e=0){return we((n,r)=>{n.subscribe(ge(r,i=>Bt(r,t,()=>r.next(i),e),()=>Bt(r,t,()=>r.complete(),e),i=>Bt(r,t,()=>r.error(i),e)))})}function Kr(t,e=0){return we((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function NE(t,e){return et(t).pipe(Kr(e),Wr(e))}function PE(t,e){return et(t).pipe(Kr(e),Wr(e))}function OE(t,e){return new pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function kE(t,e){return new pe(n=>{let r;return Bt(n,e,()=>{r=t[Xu](),Bt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ne(r?.return)&&r.return()})}function rl(t,e){if(!t)throw new Error("Iterable cannot be null");return new pe(n=>{Bt(n,e,()=>{let r=t[Symbol.asyncIterator]();Bt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function FE(t,e){return rl(tl(t),e)}function LE(t,e){if(t!=null){if(Yu(t))return NE(t,e);if(Ku(t))return OE(t,e);if(Qu(t))return PE(t,e);if(Ju(t))return rl(t,e);if(el(t))return kE(t,e);if(nl(t))return FE(t,e)}throw Zu(t)}function Pe(t,e){return e?LE(t,e):et(t)}function Z(...t){let e=Gr(t);return Pe(t,e)}function Go(t,e){let n=ne(t)?t:()=>t,r=i=>i.error(n());return new pe(e?i=>e.schedule(r,0,i):r)}function Sp(t){return!!t&&(t instanceof pe||ne(t.lift)&&ne(t.subscribe))}var dr=Fo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:sN}=Array;function aN(t,e){return sN(e)?t(...e):t(e)}function il(t){return ie(e=>aN(t,e))}var{isArray:cN}=Array,{getPrototypeOf:uN,prototype:lN,keys:dN}=Object;function ol(t){if(t.length===1){let e=t[0];if(cN(e))return{args:e,keys:null};if(hN(e)){let n=dN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function hN(t){return t&&typeof t=="object"&&uN(t)===lN}function sl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function al(...t){let e=Gr(t),n=Wu(t),{args:r,keys:i}=ol(t);if(r.length===0)return Pe([],e);let o=new pe(fN(r,e,i?s=>sl(i,s):Jt));return n?o.pipe(il(n)):o}function fN(t,e,n=Jt){return r=>{VE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)VE(e,()=>{let l=Pe(t[u],e),f=!1;l.subscribe(ge(r,p=>{o[u]=p,f||(f=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function VE(t,e,n){t?Bt(n,t,e):e()}function UE(t,e,n,r,i,o,s,a){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},g=P=>l<r?C(P):u.push(P),C=P=>{o&&e.next(P),l++;let N=!1;et(n(P,f++)).subscribe(ge(e,j=>{i?.(j),o?g(j):e.next(j)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let j=u.shift();s?Bt(e,s,()=>C(j)):C(j)}y()}catch(j){e.error(j)}}))};return t.subscribe(ge(e,g,()=>{p=!0,y()})),()=>{a?.()}}function at(t,e,n=1/0){return ne(e)?at((r,i)=>ie((o,s)=>e(r,o,i,s))(et(t(r,i))),n):(typeof e=="number"&&(n=e),we((r,i)=>UE(r,i,t,n)))}function Ap(t=1/0){return at(Jt,t)}function jE(){return Ap(1)}function Wo(...t){return jE()(Pe(t,Gr(t)))}function cl(t){return new pe(e=>{et(t()).subscribe(e)})}function xp(...t){let e=Wu(t),{args:n,keys:r}=ol(t),i=new pe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let p=!1;et(n[f]).subscribe(ge(o,y=>{p||(p=!0,l--),a[f]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?sl(r,a):a),o.complete())}))}});return e?i.pipe(il(e)):i}function Xt(t,e){return we((n,r)=>{let i=0;n.subscribe(ge(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Qr(t){return we((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ge(n,void 0,void 0,s=>{o=et(t(s,Qr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function BE(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ge(s,f=>{let p=l++;u=a?t(u,f,p):(a=!0,f),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Yr(t,e){return ne(e)?at(t,e,1):at(t,1)}function Jr(t){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function hr(t){return t<=0?()=>Zt:we((e,n)=>{let r=0;e.subscribe(ge(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Rp(t){return ie(()=>t)}function ul(t=pN){return we((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function pN(){return new dr}function $i(t){return we((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function En(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xt((i,o)=>t(i,o,r)):Jt,hr(1),n?Jr(e):ul(()=>new dr))}function Ko(t){return t<=0?()=>Zt:we((e,n)=>{let r=[];e.subscribe(ge(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Mp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xt((i,o)=>t(i,o,r)):Jt,Ko(1),n?Jr(e):ul(()=>new dr))}function Np(t,e){return we(BE(t,e,arguments.length>=2,!0))}function Pp(...t){let e=Gr(t);return we((n,r)=>{(e?Wo(t,n,e):Wo(t,n)).subscribe(r)})}function en(t,e){return we((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ge(r,u=>{i?.unsubscribe();let l=0,f=o++;et(t(u,f)).subscribe(i=ge(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Op(t){return we((e,n)=>{et(t).subscribe(ge(n,()=>n.complete(),xa)),!n.closed&&e.subscribe(n)})}function Qe(t,e,n){let r=ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ge(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Jt}var x0="https://g.co/ng/security#xss",q=class extends Error{constructor(e,n){super(Xl(e,n)),this.code=e}};function Xl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function qa(t){return{toString:t}.toString()}var ll="__parameters__";function mN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function R0(t,e,n){return qa(()=>{let r=mN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,f){let p=u.hasOwnProperty(ll)?u[ll]:Object.defineProperty(u,ll,{value:[]})[ll];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var fr=globalThis;function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function gN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ft(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ft).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function $E(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var yN=Re({__forward_ref__:Re});function mn(t){return t.__forward_ref__=mn,t.toString=function(){return Ft(this())},t}function kt(t){return M0(t)?t():t}function M0(t){return typeof t=="function"&&t.hasOwnProperty(yN)&&t.__forward_ref__===mn}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ri(t){return{providers:t.providers||[],imports:t.imports||[]}}function ed(t){return HE(t,P0)||HE(t,O0)}function N0(t){return ed(t)!==null}function HE(t,e){return t.hasOwnProperty(e)?t[e]:null}function vN(t){let e=t&&(t[P0]||t[O0]);return e||null}function zE(t){return t&&(t.hasOwnProperty(qE)||t.hasOwnProperty(_N))?t[qE]:null}var P0=Re({\u0275prov:Re}),qE=Re({\u0275inj:Re}),O0=Re({ngInjectableDef:Re}),_N=Re({ngInjectorDef:Re}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function k0(t){return t&&!!t.\u0275providers}var wN=Re({\u0275cmp:Re}),IN=Re({\u0275dir:Re}),EN=Re({\u0275pipe:Re}),bN=Re({\u0275mod:Re}),Cl=Re({\u0275fac:Re}),Pa=Re({__NG_ELEMENT_ID__:Re}),GE=Re({__NG_ENV_ID__:Re});function es(t){return typeof t=="string"?t:t==null?"":String(t)}function CN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():es(t)}function DN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new q(-200,t)}function Gm(t,e){throw new q(-201,!1)}var ue=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ue||{}),Zp;function F0(){return Zp}function $t(t){let e=Zp;return Zp=t,e}function L0(t,e,n){let r=ed(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ue.Optional)return null;if(e!==void 0)return e;Gm(t,"Injector")}var TN={},Oa=TN,Xp="__NG_DI_FLAG__",Dl="ngTempTokenPath",SN="ngTokenPath",AN=/\n/gm,xN="\u0275",WE="__source",Zo;function RN(){return Zo}function Zr(t){let e=Zo;return Zo=t,e}function MN(t,e=ue.Default){if(Zo===void 0)throw new q(-203,!1);return Zo===null?L0(t,void 0,e):Zo.get(t,e&ue.Optional?null:void 0,e)}function K(t,e=ue.Default){return(F0()||MN)(kt(t),e)}function R(t,e=ue.Default){return K(t,td(e))}function td(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function em(t){let e=[];for(let n=0;n<t.length;n++){let r=kt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=ue.Default;for(let s=0;s<r.length;s++){let a=r[s],u=NN(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(K(i,o))}else e.push(K(r))}return e}function V0(t,e){return t[Xp]=e,t.prototype[Xp]=e,t}function NN(t){return t[Xp]}function PN(t,e,n,r){let i=t[Dl];throw e[WE]&&i.unshift(e[WE]),t.message=ON(`
`+t.message,i,n,r),t[SN]=i,t[Dl]=null,t}function ON(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==xN?t.slice(2):t;let i=Ft(e);if(Array.isArray(e))i=e.map(Ft).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ft(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(AN,`
  `)}`}var Lt=V0(R0("Optional"),8);var U0=V0(R0("SkipSelf"),4);function qi(t,e){let n=t.hasOwnProperty(Cl);return n?t[Cl]:null}function Wm(t,e){t.forEach(n=>Array.isArray(n)?Wm(n,e):e(n))}function j0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Tl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function kN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function FN(t,e,n){let r=Ga(t,e);return r>=0?t[r|1]=n:(r=~r,kN(t,r,e,n)),r}function kp(t,e){let n=Ga(t,e);if(n>=0)return t[n|1]}function Ga(t,e){return LN(t,e,1)}function LN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ts={},tn=[],Gi=new B(""),B0=new B("",-1),$0=new B(""),Sl=class{get(e,n=Oa){if(n===Oa){let r=new Error(`NullInjectorError: No provider for ${Ft(e)}!`);throw r.name="NullInjectorError",r}return n}},H0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(H0||{}),Fn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Fn||{}),ei=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ei||{});function VN(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function tm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];UN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function z0(t){return t===3||t===4||t===6}function UN(t){return t.charCodeAt(0)===64}function ka(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?KE(t,n,i,null,e[++r]):KE(t,n,i,null,null))}}return t}function KE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var q0="ng-template";function jN(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&VN(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Km(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Km(t){return t.type===4&&t.value!==q0}function BN(t,e,n){let r=t.type===4&&!n?q0:t.value;return e===r}function $N(t,e,n){let r=4,i=t.attrs,o=i!==null?qN(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!bn(r)&&!bn(u))return!1;if(s&&bn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!BN(t,u,n)||u===""&&e.length===1){if(bn(r))return!1;s=!0}}else if(r&8){if(i===null||!jN(t,i,u,n)){if(bn(r))return!1;s=!0}}else{let l=e[++a],f=HN(u,i,Km(t),n);if(f===-1){if(bn(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(bn(r))return!1;s=!0}}}}return bn(r)||s}function bn(t){return(t&1)===0}function HN(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return GN(e,t)}function zN(t,e,n=!1){for(let r=0;r<e.length;r++)if($N(t,e[r],n))return!0;return!1}function qN(t){for(let e=0;e<t.length;e++){let n=t[e];if(z0(n))return e}return t.length}function GN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function QE(t,e){return t?":not("+e.trim()+")":e}function WN(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!bn(s)&&(e+=QE(o,i),i=""),r=s,o=o||!bn(r);n++}return i!==""&&(e+=QE(o,i)),e}function KN(t){return t.map(WN).join(",")}function QN(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!bn(i))break;i=o}r++}return{attrs:e,classes:n}}function je(t){return qa(()=>{let e=Y0(t),n=ce(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===H0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Fn.Emulated,styles:t.styles||tn,_:null,schemas:t.schemas||null,tView:null,id:""});J0(n);let r=t.dependencies;return n.directiveDefs=JE(r,!1),n.pipeDefs=JE(r,!0),n.id=ZN(n),n})}function YN(t){return Wi(t)||G0(t)}function JN(t){return t!==null}function ii(t){return qa(()=>({type:t.type,bootstrap:t.bootstrap||tn,declarations:t.declarations||tn,imports:t.imports||tn,exports:t.exports||tn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function YE(t,e){if(t==null)return ts;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ei.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ei.None?[r,a]:r,e[o]=s):n[o]=r}return n}function $e(t){return qa(()=>{let e=Y0(t);return J0(e),e})}function Qm(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Wi(t){return t[wN]||null}function G0(t){return t[IN]||null}function W0(t){return t[EN]||null}function K0(t){let e=Wi(t)||G0(t)||W0(t);return e!==null?e.standalone:!1}function Q0(t,e){let n=t[bN]||null;if(!n&&e===!0)throw new Error(`Type ${Ft(t)} does not have '\u0275mod' property.`);return n}function Y0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ts,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||tn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:YE(t.inputs,e),outputs:YE(t.outputs),debugInfo:null}}function J0(t){t.features?.forEach(e=>e(t))}function JE(t,e){if(!t)return null;let n=e?W0:YN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(JN)}function ZN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function zt(t){return{\u0275providers:t}}function XN(...t){return{\u0275providers:Z0(!0,t),\u0275fromNgModule:!0}}function Z0(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Wm(e,s=>{let a=s;nm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&X0(i,o),n}function X0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ym(i,o=>{e(o,r)})}}function nm(t,e,n,r){if(t=kt(t),!t)return!1;let i=null,o=zE(t),s=!o&&Wi(t);if(!o&&!s){let u=t.ngModule;if(o=zE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)nm(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Wm(o.imports,f=>{nm(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&X0(l,e)}if(!a){let l=qi(i)||(()=>new i);e({provide:i,useFactory:l,deps:tn},i),e({provide:$0,useValue:i,multi:!0},i),e({provide:Gi,useValue:()=>K(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Ym(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ym(t,e){for(let n of t)k0(n)&&(n=n.\u0275providers),Array.isArray(n)?Ym(n,e):e(n)}var eP=Re({provide:String,useValue:Re});function eb(t){return t!==null&&typeof t=="object"&&eP in t}function tP(t){return!!(t&&t.useExisting)}function nP(t){return!!(t&&t.useFactory)}function ns(t){return typeof t=="function"}function rP(t){return!!t.useClass}var nd=new B(""),_l={},iP={},Fp;function Jm(){return Fp===void 0&&(Fp=new Sl),Fp}var Ht=class{},Fa=class extends Ht{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,im(e,s=>this.processProvider(s)),this.records.set(B0,Qo(void 0,this)),i.has("environment")&&this.records.set(Ht,Qo(void 0,this));let o=this.records.get(nd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($0,tn,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Zr(this),r=$t(void 0),i;try{return e()}finally{Zr(n),$t(r)}}get(e,n=Oa,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(GE))return e[GE](this);r=td(r);let i,o=Zr(this),s=$t(void 0);try{if(!(r&ue.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=uP(e)&&ed(e);l&&this.injectableDefInScope(l)?u=Qo(rm(e),_l):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ue.Self?Jm():this.parent;return n=r&ue.Optional&&n===Oa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Dl]=a[Dl]||[]).unshift(Ft(e)),o)throw a;return PN(a,e,"R3InjectorError",this.source)}else throw a}finally{$t(s),Zr(o)}}resolveInjectorInitializers(){let e=fe(null),n=Zr(this),r=$t(void 0),i;try{let o=this.get(Gi,tn,ue.Self);for(let s of o)s()}finally{Zr(n),$t(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){e=kt(e);let n=ns(e)?e:kt(e&&e.provide),r=sP(e);if(!ns(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Qo(void 0,_l,!0),i.factory=()=>em(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===_l&&(n.value=iP,n.value=n.factory()),typeof n.value=="object"&&n.value&&cP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=kt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function rm(t){let e=ed(t),n=e!==null?e.factory:qi(t);if(n!==null)return n;if(t instanceof B)throw new q(204,!1);if(t instanceof Function)return oP(t);throw new q(204,!1)}function oP(t){if(t.length>0)throw new q(204,!1);let n=vN(t);return n!==null?()=>n.factory(t):()=>new t}function sP(t){if(eb(t))return Qo(void 0,t.useValue);{let e=tb(t);return Qo(e,_l)}}function tb(t,e,n){let r;if(ns(t)){let i=kt(t);return qi(i)||rm(i)}else if(eb(t))r=()=>kt(t.useValue);else if(nP(t))r=()=>t.useFactory(...em(t.deps||[]));else if(tP(t))r=()=>K(kt(t.useExisting));else{let i=kt(t&&(t.useClass||t.provide));if(aP(t))r=()=>new i(...em(t.deps));else return qi(i)||rm(i)}return r}function Qo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function aP(t){return!!t.deps}function cP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function uP(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function im(t,e){for(let n of t)Array.isArray(n)?im(n,e):n&&k0(n)?im(n.\u0275providers,e):e(n)}function An(t,e){t instanceof Fa&&t.assertNotDestroyed();let n,r=Zr(t),i=$t(void 0);try{return e()}finally{Zr(r),$t(i)}}function lP(){return F0()!==void 0||RN()!=null}function dP(t){return typeof t=="function"}var nn=0,re=1,te=2,Dt=3,Cn=4,xn=5,Tn=6,Al=7,bt=8,rs=9,Ln=10,Le=11,La=12,ZE=13,hs=14,rn=15,is=16,Yo=17,os=18,rd=19,nb=20,Xr=21,Lp=22,pn=23,Ye=25,rb=1,Va=6,pr=7,xl=8,Rl=9,Ct=10,Ml=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ml||{});function Dn(t){return Array.isArray(t)&&typeof t[rb]=="object"}function Un(t){return Array.isArray(t)&&t[rb]===!0}function ib(t){return(t.flags&4)!==0}function Wa(t){return t.componentOffset>-1}function Zm(t){return(t.flags&1)===1}function ti(t){return!!t.template}function Nl(t){return(t[te]&512)!==0}var om=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ob(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function jn(){return sb}function sb(t){return t.type.prototype.ngOnChanges&&(t.setInput=fP),hP}jn.ngInherit=!0;function hP(){let t=cb(this),e=t?.current;if(e){let n=t.previous;if(n===ts)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fP(t,e,n,r,i){let o=this.declaredInputs[r],s=cb(t)||pP(t,{previous:ts,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new om(l&&l.currentValue,n,u===ts),ob(t,e,i,n)}var ab="__ngSimpleChanges__";function cb(t){return t[ab]||null}function pP(t,e){return t[ab]=e}var XE=null;var On=function(t,e,n){XE?.(t,e,n)},ub="svg",mP="math";function Sn(t){for(;Array.isArray(t);)t=t[nn];return t}function lb(t,e){return Sn(e[t])}function on(t,e){return Sn(e[t.index])}function Xm(t,e){return t.data[e]}function eg(t,e){return t[e]}function oi(t,e){let n=e[t];return Dn(n)?n:n[nn]}function tg(t){return(t[te]&128)===128}function gP(t){return Un(t[Dt])}function ss(t,e){return e==null?null:t[e]}function db(t){t[Yo]=0}function hb(t){t[te]&1024||(t[te]|=1024,tg(t)&&od(t))}function yP(t,e){for(;t>0;)e=e[hs],t--;return e}function id(t){return!!(t[te]&9216||t[pn]?.dirty)}function sm(t){t[Ln].changeDetectionScheduler?.notify(8),t[te]&64&&(t[te]|=1024),id(t)&&od(t)}function od(t){t[Ln].changeDetectionScheduler?.notify(0);let e=Ki(t);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!tg(e)));)e=Ki(e)}function fb(t,e){if((t[te]&256)===256)throw new q(911,!1);t[Xr]===null&&(t[Xr]=[]),t[Xr].push(e)}function vP(t,e){if(t[Xr]===null)return;let n=t[Xr].indexOf(e);n!==-1&&t[Xr].splice(n,1)}function Ki(t){let e=t[Dt];return Un(e)?e[Dt]:e}var oe={lFrame:bb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var pb=!1;function _P(){return oe.lFrame.elementDepthCount}function wP(){oe.lFrame.elementDepthCount++}function IP(){oe.lFrame.elementDepthCount--}function mb(){return oe.bindingsEnabled}function Ka(){return oe.skipHydrationRootTNode!==null}function EP(t){return oe.skipHydrationRootTNode===t}function bP(t){oe.skipHydrationRootTNode=t}function CP(){oe.skipHydrationRootTNode=null}function ye(){return oe.lFrame.lView}function St(){return oe.lFrame.tView}function He(t){return oe.lFrame.contextLView=t,t[bt]}function ze(t){return oe.lFrame.contextLView=null,t}function Vt(){let t=gb();for(;t!==null&&t.type===64;)t=t.parent;return t}function gb(){return oe.lFrame.currentTNode}function DP(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Qa(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function yb(){return oe.lFrame.isParent}function TP(){oe.lFrame.isParent=!1}function SP(){return oe.lFrame.contextLView}function vb(){return pb}function e0(t){pb=t}function sd(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function AP(){return oe.lFrame.bindingIndex}function xP(t){return oe.lFrame.bindingIndex=t}function fs(){return oe.lFrame.bindingIndex++}function _b(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function RP(){return oe.lFrame.inI18n}function MP(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,am(e)}function NP(){return oe.lFrame.currentDirectiveIndex}function am(t){oe.lFrame.currentDirectiveIndex=t}function PP(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function wb(t){oe.lFrame.currentQueryIndex=t}function OP(t){let e=t[re];return e.type===2?e.declTNode:e.type===1?t[xn]:null}function Ib(t,e,n){if(n&ue.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ue.Host);)if(i=OP(o),i===null||(o=o[hs],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=Eb();return r.currentTNode=e,r.lView=t,!0}function ng(t){let e=Eb(),n=t[re];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Eb(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?bb(t):e}function bb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Cb(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Db=Cb;function rg(){let t=Cb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function kP(t){return(oe.lFrame.contextLView=yP(t,oe.lFrame.contextLView))[bt]}function si(){return oe.lFrame.selectedIndex}function Qi(t){oe.lFrame.selectedIndex=t}function ad(){let t=oe.lFrame;return Xm(t.tView,t.selectedIndex)}function ps(){oe.lFrame.currentNamespace=ub}function Ya(){FP()}function FP(){oe.lFrame.currentNamespace=null}function Tb(){return oe.lFrame.currentNamespace}var Sb=!0;function ig(){return Sb}function ai(t){Sb=t}function LP(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=sb(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function og(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function wl(t,e,n){Ab(t,e,3,n)}function Il(t,e,n,r){(t[te]&3)===n&&Ab(t,e,n,r)}function Vp(t,e){let n=t[te];(n&3)===e&&(n&=16383,n+=1,t[te]=n)}function Ab(t,e,n,r){let i=r!==void 0?t[Yo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Yo]+=65536),(a<o||o==-1)&&(VP(t,n,e,u),t[Yo]=(t[Yo]&4294901760)+u+2),u++}function t0(t,e){On(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),On(5,t,e)}}function VP(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[te]>>14<t[Yo]>>16&&(t[te]&3)===e&&(t[te]+=16384,t0(a,o)):t0(a,o)}var Xo=-1,Yi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function UP(t){return t instanceof Yi}function jP(t){return(t.flags&8)!==0}function BP(t){return(t.flags&16)!==0}var Up={},cm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=td(r);let i=this.injector.get(e,Up,r);return i!==Up||n===Up?i:this.parentInjector.get(e,n,r)}};function xb(t){return t!==Xo}function Pl(t){return t&32767}function $P(t){return t>>16}function Ol(t,e){let n=$P(t),r=e;for(;n>0;)r=r[hs],n--;return r}var um=!0;function kl(t){let e=um;return um=t,e}var HP=256,Rb=HP-1,Mb=5,zP=0,kn={};function qP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pa)&&(r=n[Pa]),r==null&&(r=n[Pa]=zP++);let i=r&Rb,o=1<<i;e.data[t+(i>>Mb)]|=o}function Fl(t,e){let n=Nb(t,e);if(n!==-1)return n;let r=e[re];r.firstCreatePass&&(t.injectorIndex=e.length,jp(r.data,t),jp(e,null),jp(r.blueprint,null));let i=sg(t,e),o=t.injectorIndex;if(xb(i)){let s=Pl(i),a=Ol(i,e),u=a[re].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function jp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Nb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function sg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Lb(i),r===null)return Xo;if(n++,i=i[hs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xo}function lm(t,e,n){qP(t,e,n)}function GP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(z0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function Pb(t,e,n){if(n&ue.Optional||t!==void 0)return t;Gm(e,"NodeInjector")}function Ob(t,e,n,r){if(n&ue.Optional&&r===void 0&&(r=null),!(n&(ue.Self|ue.Host))){let i=t[rs],o=$t(void 0);try{return i?i.get(e,r,n&ue.Optional):L0(e,r,n&ue.Optional)}finally{$t(o)}}return Pb(r,e,n)}function kb(t,e,n,r=ue.Default,i){if(t!==null){if(e[te]&2048&&!(r&ue.Self)){let s=JP(t,e,n,r,kn);if(s!==kn)return s}let o=Fb(t,e,n,r,kn);if(o!==kn)return o}return Ob(e,n,r,i)}function Fb(t,e,n,r,i){let o=QP(n);if(typeof o=="function"){if(!Ib(e,t,r))return r&ue.Host?Pb(i,n,r):Ob(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ue.Optional))Gm(n);else return s}finally{Db()}}else if(typeof o=="number"){let s=null,a=Nb(t,e),u=Xo,l=r&ue.Host?e[rn][xn]:null;for((a===-1||r&ue.SkipSelf)&&(u=a===-1?sg(t,e):e[a+8],u===Xo||!r0(r,!1)?a=-1:(s=e[re],a=Pl(u),e=Ol(u,e)));a!==-1;){let f=e[re];if(n0(o,a,f.data)){let p=WP(a,e,n,s,r,l);if(p!==kn)return p}u=e[a+8],u!==Xo&&r0(r,e[re].data[a+8]===l)&&n0(o,a,e)?(s=f,a=Pl(u),e=Ol(u,e)):a=-1}}return i}function WP(t,e,n,r,i,o){let s=e[re],a=s.data[t+8],u=r==null?Wa(a)&&um:r!=s&&(a.type&3)!==0,l=i&ue.Host&&o===a,f=KP(a,s,n,u,l);return f!==null?as(e,s,f,a):kn}function KP(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,p=r?a:a+f,y=i?a+f:l;for(let g=p;g<y;g++){let C=s[g];if(g<u&&n===C||g>=u&&C.type===n)return g}if(i){let g=s[u];if(g&&ti(g)&&g.type===n)return u}return null}function as(t,e,n,r){let i=t[n],o=e.data;if(UP(i)){let s=i;s.resolving&&DN(CN(o[n]));let a=kl(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?$t(s.injectImpl):null,f=Ib(t,r,ue.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&LP(n,o[n],e)}finally{l!==null&&$t(l),kl(a),s.resolving=!1,Db()}}return i}function QP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Pa)?t[Pa]:void 0;return typeof e=="number"?e>=0?e&Rb:YP:e}function n0(t,e,n){let r=1<<t;return!!(n[e+(t>>Mb)]&r)}function r0(t,e){return!(t&ue.Self)&&!(t&ue.Host&&e)}var zi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return kb(this._tNode,this._lView,e,td(r),n)}};function YP(){return new zi(Vt(),ye())}function vr(t){return qa(()=>{let e=t.prototype.constructor,n=e[Cl]||dm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Cl]||dm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function dm(t){return M0(t)?()=>{let e=dm(kt(t));return e&&e()}:qi(t)}function JP(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[te]&2048&&!(s[te]&512);){let a=Fb(o,s,n,r|ue.Self,kn);if(a!==kn)return a;let u=o.parent;if(!u){let l=s[nb];if(l){let f=l.get(n,kn,r);if(f!==kn)return f}u=Lb(s),s=s[hs]}o=u}return i}function Lb(t){let e=t[re],n=e.type;return n===2?e.declTNode:n===1?t[xn]:null}function ag(t){return GP(Vt(),t)}function i0(t,e=null,n=null,r){let i=Vb(t,e,n,r);return i.resolveInjectorInitializers(),i}function Vb(t,e=null,n=null,r,i=new Set){let o=[n||tn,XN(t)];return r=r||(typeof t=="object"?void 0:Ft(t)),new Fa(o,e||Jm(),r||null,i)}var Tt=class t{static{this.THROW_IF_NOT_FOUND=Oa}static{this.NULL=new Sl}static create(e,n){if(Array.isArray(e))return i0({name:""},n,e,"");{let r=e.name??"";return i0({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=z({token:t,providedIn:"any",factory:()=>K(B0)})}static{this.__NG_ELEMENT_ID__=-1}};var ZP=new B("");ZP.__NG_ELEMENT_ID__=t=>{let e=Vt();if(e===null)throw new q(204,!1);if(e.type&2)return e.value;if(t&ue.Optional)return null;throw new q(204,!1)};var XP="ngOriginalError";function Bp(t){return t[XP]}var Ub=!0,jb=(()=>{class t{static{this.__NG_ELEMENT_ID__=e1}static{this.__NG_ENV_ID__=n=>n}}return t})(),hm=class extends jb{constructor(e){super(),this._lView=e}onDestroy(e){return fb(this._lView,e),()=>vP(this._lView,e)}};function e1(){return new hm(ye())}var ci=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}}return t})();var fm=class extends ut{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,lP()&&(this.destroyRef=R(jb,{optional:!0})??void 0,this.pendingTasks=R(ci,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ke&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ue=fm;function Ll(...t){}function Bb(t){let e,n;function r(){t=Ll;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function o0(t){return queueMicrotask(()=>t()),()=>{t=Ll}}var cg="isAngularZone",Vl=cg+"_ID",t1=0,Se=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Ub}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,i1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(cg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,n1,Ll,Ll);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},n1={};function ug(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function r1(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Bb(()=>{t.callbackScheduled=!1,pm(t),t.isCheckStableRunning=!0,ug(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),pm(t)}function i1(t){let e=()=>{r1(t)},n=t1++;t._inner=t._inner.fork({name:"angular",properties:{[cg]:!0,[Vl]:n,[Vl+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(o1(u))return r.invokeTask(o,s,a,u);try{return s0(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),a0(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return s0(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!s1(u)&&e(),a0(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,pm(t),ug(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function pm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function s0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function a0(t){t._nesting--,ug(t)}var mm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ue,this.onMicrotaskEmpty=new Ue,this.onStable=new Ue,this.onError=new Ue}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function o1(t){return $b(t,"__ignore_ng_zone__")}function s1(t){return $b(t,"__scheduler_tick__")}function $b(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var mr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Bp(e);for(;n&&Bp(n);)n=Bp(n);return n||null}},a1=new B("",{providedIn:"root",factory:()=>{let t=R(Se),e=R(mr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function c1(){return cd(Vt(),ye())}function cd(t,e){return new _r(on(t,e))}var _r=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=c1}}return t})();var u1="ngSkipHydration",l1="ngskiphydration";function Hb(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===l1)return!0}return!1}function zb(t){return t.hasAttribute(u1)}function Ul(t){return(t.flags&128)===128}function d1(t){if(Ul(t))return!0;let e=t.parent;for(;e;){if(Ul(t)||Hb(e))return!0;e=e.parent}return!1}var qb=new Map,h1=0;function f1(){return h1++}function p1(t){qb.set(t[rd],t)}function gm(t){qb.delete(t[rd])}var c0="__ngContext__";function Ji(t,e){Dn(e)?(t[c0]=e[rd],p1(e)):t[c0]=e}function Gb(t){return Kb(t[La])}function Wb(t){return Kb(t[Cn])}function Kb(t){for(;t!==null&&!Un(t);)t=t[Cn];return t}var ym;function Qb(t){ym=t}function ud(){if(ym!==void 0)return ym;if(typeof document<"u")return document;throw new q(210,!1)}var ld=new B("",{providedIn:"root",factory:()=>m1}),m1="ng",lg=new B(""),sn=new B("",{providedIn:"platform",factory:()=>"unknown"});var dg=new B("",{providedIn:"root",factory:()=>ud().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function g1(){let t=new ms;return R(sn)==="browser"&&(t.store=y1(ud(),R(ld))),t}var ms=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=z({token:t,providedIn:"root",factory:g1})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function y1(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var Yb="h",Jb="b",vm=function(t){return t.FirstChild="f",t.NextSibling="n",t}(vm||{}),v1="e",_1="t",hg="c",Zb="x",jl="r",w1="i",I1="n",Xb="d";var E1="__nghData__",eC=E1,$p="ngh",b1="nghm",tC=()=>null;function C1(t,e,n=!1){let r=t.getAttribute($p);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,u={};if(r!==""){let f=e.get(ms,null,{optional:!0});f!==null&&(u=f.get(eC,[])[Number(r)])}let l={data:u,firstChild:t.firstChild??null};return n&&(l.firstChild=t,dd(l,0,t.nextSibling)),a?t.setAttribute($p,a):t.removeAttribute($p),l}function D1(){tC=C1}function fg(t,e,n=!1){return tC(t,e,n)}function T1(t){let e=t._lView;return e[re].type===2?null:(Nl(e)&&(e=e[Ye]),e)}function S1(t){return t.textContent?.replace(/\s/gm,"")}function A1(t){let e=ud(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=S1(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function dd(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function _m(t,e){return t.segmentHeads?.[e]??null}function x1(t,e){let n=t.data,r=n[v1]?.[e]??null;return r===null&&n[hg]?.[e]&&(r=pg(t,e)),r}function nC(t,e){return t.data[hg]?.[e]??null}function pg(t,e){let n=nC(t,e)??[],r=0;for(let i of n)r+=i[jl]*(i[Zb]??1);return r}function R1(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[Xb];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Ja(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[Xb];t.disconnectedNodes=n?new Set(n):null}return!!R1(t)?.has(e)}var dl=new B(""),rC=!1,iC=new B("",{providedIn:"root",factory:()=>rC});var hl;function M1(){if(hl===void 0&&(hl=null,fr.trustedTypes))try{hl=fr.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hl}function N1(t){return M1()?.createScriptURL(t)||t}var fl;function P1(){if(fl===void 0&&(fl=null,fr.trustedTypes))try{fl=fr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fl}function u0(t){return P1()?.createScriptURL(t)||t}var Bl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${x0})`}};function Za(t){return t instanceof Bl?t.changingThisBreaksApplicationSecurity:t}function mg(t,e){let n=O1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${x0})`)}return n===e}function O1(t){return t instanceof Bl&&t.getTypeName()||null}var k1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function oC(t){return t=String(t),t.match(k1)?t:"unsafe:"+t}var hd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(hd||{});function Bn(t){let e=aC();return e?e.sanitize(hd.URL,t)||"":mg(t,"URL")?Za(t):oC(es(t))}function F1(t){let e=aC();if(e)return u0(e.sanitize(hd.RESOURCE_URL,t)||"");if(mg(t,"ResourceURL"))return u0(Za(t));throw new q(904,!1)}function fd(t){return N1(t[0])}function L1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?F1:Bn}function sC(t,e,n){return L1(e,n)(t)}function aC(){let t=ye();return t&&t[Ln].sanitizer}var V1=/^>|^->|<!--|-->|--!>|<!-$/g,U1=/(<|>)/g,j1="\u200B$1\u200B";function B1(t){return t.replace(V1,e=>e.replace(U1,j1))}function $1(t){return t.ownerDocument.body}function cC(t){return t instanceof Function?t():t}function pl(t){return(t??R(Tt)).get(sn)==="browser"}var gr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(gr||{}),H1;function gg(t,e){return H1(t,e)}function Jo(t,e,n,r,i){if(r!=null){let o,s=!1;Un(r)?o=r:Dn(r)&&(s=!0,r=r[nn]);let a=Sn(r);t===0&&n!==null?i==null?fC(e,n,a):$l(e,n,a,i||null,!0):t===1&&n!==null?$l(e,n,a,i||null,!0):t===2?wg(e,a,s):t===3&&e.destroyNode(a),o!=null&&iO(e,t,o,n,i)}}function uC(t,e){return t.createText(e)}function z1(t,e,n){t.setValue(e,n)}function lC(t,e){return t.createComment(B1(e))}function yg(t,e,n){return t.createElement(e,n)}function q1(t,e){dC(t,e),e[nn]=null,e[xn]=null}function G1(t,e,n,r,i,o){r[nn]=i,r[xn]=e,md(t,r,n,1,i,o)}function dC(t,e){e[Ln].changeDetectionScheduler?.notify(9),md(t,e,e[Le],2,null,null)}function W1(t){let e=t[La];if(!e)return Hp(t[re],t);for(;e;){let n=null;if(Dn(e))n=e[La];else{let r=e[Ct];r&&(n=r)}if(!n){for(;e&&!e[Cn]&&e!==t;)Dn(e)&&Hp(e[re],e),e=e[Dt];e===null&&(e=t),Dn(e)&&Hp(e[re],e),n=e&&e[Cn]}e=n}}function K1(t,e,n,r){let i=Ct+r,o=n.length;r>0&&(n[i-1][Cn]=e),r<o-Ct?(e[Cn]=n[i],j0(n,Ct+r,e)):(n.push(e),e[Cn]=null),e[Dt]=n;let s=e[is];s!==null&&n!==s&&hC(s,e);let a=e[os];a!==null&&a.insertView(t),sm(e),e[te]|=128}function hC(t,e){let n=t[Rl],r=e[Dt];if(Dn(r))t[te]|=Ml.HasTransplantedViews;else{let i=r[Dt][rn];e[rn]!==i&&(t[te]|=Ml.HasTransplantedViews)}n===null?t[Rl]=[e]:n.push(e)}function vg(t,e){let n=t[Rl],r=n.indexOf(e);n.splice(r,1)}function Ua(t,e){if(t.length<=Ct)return;let n=Ct+e,r=t[n];if(r){let i=r[is];i!==null&&i!==t&&vg(i,r),e>0&&(t[n-1][Cn]=r[Cn]);let o=Tl(t,Ct+e);q1(r[re],r);let s=o[os];s!==null&&s.detachView(o[re]),r[Dt]=null,r[Cn]=null,r[te]&=-129}return r}function pd(t,e){if(!(e[te]&256)){let n=e[Le];n.destroyNode&&md(t,e,n,3,null,null),W1(e)}}function Hp(t,e){if(e[te]&256)return;let n=fe(null);try{e[te]&=-129,e[te]|=256,e[pn]&&hp(e[pn]),Y1(t,e),Q1(t,e),e[re].type===1&&e[Le].destroy();let r=e[is];if(r!==null&&Un(e[Dt])){r!==e[Dt]&&vg(r,e);let i=e[os];i!==null&&i.detachView(t)}gm(e)}finally{fe(n)}}function Q1(t,e){let n=t.cleanup,r=e[Al];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Al]=null);let i=e[Xr];if(i!==null){e[Xr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Y1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Yi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];On(4,a,u);try{u.call(a)}finally{On(5,a,u)}}else{On(4,i,o);try{o.call(i)}finally{On(5,i,o)}}}}}function J1(t,e,n){return Z1(t,e.parent,n)}function Z1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[nn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Fn.None||o===Fn.Emulated)return null}return on(r,n)}}function $l(t,e,n,r,i){t.insertBefore(e,n,r,i)}function fC(t,e,n){t.appendChild(e,n)}function l0(t,e,n,r,i){r!==null?$l(t,e,n,r,i):fC(t,e,n)}function pC(t,e){return t.parentNode(e)}function X1(t,e){return t.nextSibling(e)}function eO(t,e,n){return nO(t,e,n)}function tO(t,e,n){return t.type&40?on(t,n):null}var nO=tO,d0;function _g(t,e,n,r){let i=J1(t,r,e),o=e[Le],s=r.parent||e[xn],a=eO(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)l0(o,i,n[u],a,!1);else l0(o,i,n,a,!1);d0!==void 0&&d0(o,r,e,n,i)}function Ma(t,e){if(e!==null){let n=e.type;if(n&3)return on(e,t);if(n&4)return wm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ma(t,r);{let i=t[e.index];return Un(i)?wm(-1,i):Sn(i)}}else{if(n&128)return Ma(t,e.next);if(n&32)return gg(e,t)()||Sn(t[e.index]);{let r=mC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ki(t[rn]);return Ma(i,r)}else return Ma(t,e.next)}}}return null}function mC(t,e){if(e!==null){let r=t[rn][xn],i=e.projection;return r.projection[i]}return null}function wm(t,e){let n=Ct+t+1;if(n<e.length){let r=e[n],i=r[re].firstChild;if(i!==null)return Ma(r,i)}return e[pr]}function wg(t,e,n){t.removeChild(null,e,n)}function gC(t){t.textContent=""}function Ig(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Ji(Sn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Ig(t,e,n.child,r,i,o,!1),Jo(e,t,i,a,o);else if(u&32){let l=gg(n,r),f;for(;f=l();)Jo(e,t,i,f,o);Jo(e,t,i,a,o)}else u&16?rO(t,e,r,n,i,o):Jo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function md(t,e,n,r,i,o){Ig(n,r,t.firstChild,e,i,o,!1)}function rO(t,e,n,r,i,o){let s=n[rn],u=s[xn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Jo(e,t,i,f,o)}else{let l=u,f=s[Dt];Ul(r)&&(l.flags|=128),Ig(t,e,l,f,i,o,!0)}}function iO(t,e,n,r,i){let o=n[pr],s=Sn(n);o!==s&&Jo(e,t,r,o,i);for(let a=Ct;a<n.length;a++){let u=n[a];md(u[re],u,t,e,r,o)}}function oO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:gr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=gr.Important),t.setStyle(n,r,i,o))}}function sO(t,e,n){t.setAttribute(e,"style",n)}function yC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function vC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&tm(t,e,r),i!==null&&yC(t,e,i),o!==null&&sO(t,e,o)}var Rn={};function k(t=1){_C(St(),ye(),si()+t,!1)}function _C(t,e,n,r){if(!r)if((e[te]&3)===3){let o=t.preOrderCheckHooks;o!==null&&wl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Il(e,o,0,n)}Qi(n)}function W(t,e=ue.Default){let n=ye();if(n===null)return K(t,e);let r=Vt();return kb(r,n,kt(t),e)}function wC(t,e,n,r,i,o){let s=fe(null);try{let a=null;i&ei.SignalBased&&(a=e[r][lr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ei.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):ob(e,a,r,o)}finally{fe(s)}}function aO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Qi(~i);else{let o=i,s=n[++r],a=n[++r];MP(s,o);let u=e[o];a(2,u)}}}finally{Qi(-1)}}function gd(t,e,n,r,i,o,s,a,u,l,f){let p=e.blueprint.slice();return p[nn]=i,p[te]=r|4|128|8|64,(l!==null||t&&t[te]&2048)&&(p[te]|=2048),db(p),p[Dt]=p[hs]=t,p[bt]=n,p[Ln]=s||t&&t[Ln],p[Le]=a||t&&t[Le],p[rs]=u||t&&t[rs]||null,p[xn]=o,p[rd]=f1(),p[Tn]=f,p[nb]=l,p[rn]=e.type==2?t[rn]:p,p}function yd(t,e,n,r,i){let o=t.data[e];if(o===null)o=cO(t,e,n,r,i),RP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=DP();o.injectorIndex=s===null?-1:s.injectorIndex}return Qa(o,!0),o}function cO(t,e,n,r,i){let o=gb(),s=yb(),a=s?o:o&&o.parent,u=t.data[e]=pO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function IC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function EC(t,e,n,r,i){let o=si(),s=r&2;try{Qi(-1),s&&e.length>Ye&&_C(t,e,Ye,!1),On(s?2:0,i),n(r,i)}finally{Qi(o),On(s?3:1,i)}}function bC(t,e,n){if(ib(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{fe(r)}}}function CC(t,e,n){mb()&&(wO(t,e,n,on(n,e)),(n.flags&64)===64&&RC(t,e,n))}function DC(t,e,n=on){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function TC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Eg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Eg(t,e,n,r,i,o,s,a,u,l,f){let p=Ye+r,y=p+i,g=uO(p,y),C=typeof l=="function"?l():l;return g[re]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:f}}function uO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Rn);return n}function lO(t,e,n,r){let o=r.get(iC,rC)||n===Fn.ShadowDom,s=t.selectRootElement(e,o);return dO(s),s}function dO(t){SC(t)}var SC=()=>null;function hO(t){zb(t)?gC(t):A1(t)}function fO(){SC=hO}function pO(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Ka()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function h0(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=ei.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?f0(r,n,l,a,u):f0(r,n,l,a)}return r}function f0(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function mO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let f=r;f<i;f++){let p=o[f],y=n?n.get(p):null,g=y?y.inputs:null,C=y?y.outputs:null;u=h0(0,p.inputs,f,u,g),l=h0(1,p.outputs,f,l,C);let P=u!==null&&s!==null&&!Km(e)?MO(u,f,s):null;a.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function gO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function bg(t,e,n,r,i,o,s,a){let u=on(e,n),l=e.inputs,f;!a&&l!=null&&(f=l[r])?(Cg(t,n,f,r,i),Wa(e)&&yO(n,e.index)):e.type&3?(r=gO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function yO(t,e){let n=oi(e,t);n[te]&16||(n[te]|=64)}function AC(t,e,n,r){if(mb()){let i=r===null?null:{"":-1},o=EO(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&xC(t,e,n,s,i,a),i&&bO(n,r,i)}n.mergedAttrs=ka(n.mergedAttrs,n.attrs)}function xC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)lm(Fl(n,e),t,r[l].type);DO(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,u=IC(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=ka(n.mergedAttrs,f.hostAttrs),TO(t,n,e,u,f),CO(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}mO(t,n,o)}function vO(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;_O(s)!=a&&s.push(a),s.push(n,r,o)}}function _O(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function wO(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Wa(n)&&SO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Fl(n,e),Ji(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=as(e,t,a,n);if(Ji(l,e),s!==null&&RO(e,a-i,l,u,n,s),ti(u)){let f=oi(n.index,e);f[bt]=as(e,t,a,n)}}}function RC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=NP();try{Qi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];am(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&IO(u,l)}}finally{Qi(-1),am(s)}}function IO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function EO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(zN(e,s.selectors,!1))if(r||(r=[]),ti(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Im(t,e,u)}else r.unshift(s),Im(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Im(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function bO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}}function CO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ti(e)&&(n[""]=t)}}function DO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function TO(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=qi(i.type,!0)),s=new Yi(o,ti(i),W);t.blueprint[r]=s,n[r]=s,vO(t,e,r,IC(t,n,i.hostVars,Rn),i)}function SO(t,e,n){let r=on(e,t),i=TC(n),o=t[Ln].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=vd(t,gd(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function AO(t,e,n,r,i,o){let s=on(t,e);xO(e[Le],s,o,t.value,n,r,i)}function xO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?es(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function RO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],f=s[a++],p=s[a++];wC(r,n,u,l,f,p)}}function MO(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function MC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function NC(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];wb(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function vd(t,e){return t[La]?t[ZE][Cn]=e:t[La]=e,t[ZE]=e,e}function Em(t,e,n){wb(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function NO(t){return t[Al]??=[]}function PO(t){return t.cleanup??=[]}function PC(t,e){let n=t[rs],r=n?n.get(mr,null):null;r&&r.handleError(e)}function Cg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],f=t.data[s];wC(f,l,r,a,u,i)}}function OC(t,e,n){let r=lb(e,t);z1(t[Le],r,n)}function OO(t,e){let n=oi(e,t),r=n[re];kO(r,n);let i=n[nn];i!==null&&n[Tn]===null&&(n[Tn]=fg(i,n[rs])),Dg(r,n,n[bt])}function kO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Dg(t,e,n){ng(e);try{let r=t.viewQuery;r!==null&&Em(1,r,n);let i=t.template;i!==null&&EC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[os]?.finishViewCreation(t),t.staticContentQueries&&NC(t,e),t.staticViewQueries&&Em(2,t.viewQuery,n);let o=t.components;o!==null&&FO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,rg()}}function FO(t,e){for(let n=0;n<e.length;n++)OO(t,e[n])}function _d(t,e,n,r){let i=fe(null);try{let o=e.tView,a=t[te]&4096?4096:16,u=gd(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[is]=l;let f=t[os];return f!==null&&(u[os]=f.createEmbeddedView(o)),Dg(o,u,n),u}finally{fe(i)}}function kC(t,e){let n=Ct+e;if(n<t.length)return t[n]}function ja(t,e){return!e||e.firstChild===null||Ul(t)}function wd(t,e,n,r=!0){let i=e[re];if(K1(i,e,t,n),r){let s=wm(n,t),a=e[Le],u=pC(a,t[pr]);u!==null&&G1(i,t[xn],a,e,u,s)}let o=e[Tn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function FC(t,e){let n=Ua(t,e);return n!==void 0&&pd(n[re],n),n}function Hl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Sn(o)),Un(o)&&LO(o,r);let s=n.type;if(s&8)Hl(t,e,n.child,r);else if(s&32){let a=gg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=mC(e,n);if(Array.isArray(a))r.push(...a);else{let u=Ki(e[rn]);Hl(u[re],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function LO(t,e){for(let n=Ct;n<t.length;n++){let r=t[n],i=r[re].firstChild;i!==null&&Hl(r[re],r,i,e)}t[pr]!==t[nn]&&e.push(t[pr])}var LC=[];function VO(t){return t[pn]??UO(t)}function UO(t){let e=LC.pop()??Object.create(BO);return e.lView=t,e}function jO(t){t.lView[pn]!==t&&(t.lView=null,LC.push(t))}var BO=ce(U({},Aa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{od(t.lView)},consumerOnSignalRead(){this.lView[pn]=this}});function $O(t){let e=t[pn]??Object.create(HO);return e.lView=t,e}var HO=ce(U({},Aa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Ki(t.lView);for(;e&&!VC(e[re]);)e=Ki(e);e&&hb(e)},consumerOnSignalRead(){this.lView[pn]=this}});function VC(t){return t.type!==2}var zO=100;function UC(t,e=!0,n=0){let r=t[Ln],i=r.rendererFactory,o=!1;o||i.begin?.();try{qO(t,n)}catch(s){throw e&&PC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function qO(t,e){let n=vb();try{e0(!0),bm(t,e);let r=0;for(;id(t);){if(r===zO)throw new q(103,!1);r++,bm(t,1)}}finally{e0(n)}}function GO(t,e,n,r){let i=e[te];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Ln].inlineEffectRunner?.flush(),ng(e);let a=!0,u=null,l=null;o||(VC(t)?(l=VO(e),u=Fu(l)):iE()===null?(a=!1,l=$O(e),u=Fu(l)):e[pn]&&(hp(e[pn]),e[pn]=null));try{db(e),xP(t.bindingStartIndex),n!==null&&EC(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let g=t.preOrderCheckHooks;g!==null&&wl(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Il(e,g,0,null),Vp(e,0)}if(s||WO(e),jC(e,0),t.contentQueries!==null&&NC(t,e),!o)if(f){let g=t.contentCheckHooks;g!==null&&wl(e,g)}else{let g=t.contentHooks;g!==null&&Il(e,g,1),Vp(e,1)}aO(t,e);let p=t.components;p!==null&&$C(e,p,0);let y=t.viewQuery;if(y!==null&&Em(2,y,r),!o)if(f){let g=t.viewCheckHooks;g!==null&&wl(e,g)}else{let g=t.viewHooks;g!==null&&Il(e,g,2),Vp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Lp]){for(let g of e[Lp])g();e[Lp]=null}o||(e[te]&=-73)}catch(f){throw o||od(e),f}finally{l!==null&&(lp(l,u),a&&jO(l)),rg()}}function jC(t,e){for(let n=Gb(t);n!==null;n=Wb(n))for(let r=Ct;r<n.length;r++){let i=n[r];BC(i,e)}}function WO(t){for(let e=Gb(t);e!==null;e=Wb(e)){if(!(e[te]&Ml.HasTransplantedViews))continue;let n=e[Rl];for(let r=0;r<n.length;r++){let i=n[r];hb(i)}}}function KO(t,e,n){let r=oi(e,t);BC(r,n)}function BC(t,e){tg(t)&&bm(t,e)}function bm(t,e){let r=t[re],i=t[te],o=t[pn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&dp(o)),s||=!1,o&&(o.dirty=!1),t[te]&=-9217,s)GO(r,t,r.template,t[bt]);else if(i&8192){jC(t,1);let a=r.components;a!==null&&$C(t,a,1)}}function $C(t,e,n){for(let r=0;r<e.length;r++)KO(t,e[r],n)}function Tg(t,e){let n=vb()?64:1088;for(t[Ln].changeDetectionScheduler?.notify(e);t;){t[te]|=n;let r=Ki(t);if(Nl(t)&&!r)return t;t=r}return null}var Zi=class{get rootNodes(){let e=this._lView,n=e[re];return Hl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bt]}set context(e){this._lView[bt]=e}get destroyed(){return(this._lView[te]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Dt];if(Un(e)){let n=e[xl],r=n?n.indexOf(this):-1;r>-1&&(Ua(e,r),Tl(n,r))}this._attachedToViewContainer=!1}pd(this._lView[re],this._lView)}onDestroy(e){fb(this._lView,e)}markForCheck(){Tg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){sm(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,UC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Nl(this._lView),n=this._lView[is];n!==null&&!e&&vg(n,this._lView),dC(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let n=Nl(this._lView),r=this._lView[is];r!==null&&!n&&hC(r,this._lView),sm(this._lView)}},Id=(()=>{class t{static{this.__NG_ELEMENT_ID__=JO}}return t})(),QO=Id,YO=class extends QO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=_d(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Zi(i)}};function JO(){return ZO(Vt(),ye())}function ZO(t,e){return t.type&4?new YO(e,t,cd(t,e)):null}var XO=new RegExp(`^(\\d+)*(${Jb}|${Yb})*(.*)`);function ek(t){let e=t.match(XO),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,f]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(f,10)||1;a.push(l,p)}return[s,...a]}function tk(t){return!t.prev&&t.parent?.type===8}function zp(t){return t.index-Ye}function nk(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Ed(t,e,n,r){let i=zp(r),o=nk(t,i);if(o===void 0){let s=t.data[I1];if(s?.[i])o=ik(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(tk(r)){let l=zp(r.parent);o=_m(t,l)}else{let l=on(u,n);if(a)o=l.firstChild;else{let f=zp(u),p=_m(t,f);if(u.type===2&&p){let g=pg(t,f)+1;o=bd(g,p)}else o=l.nextSibling}}}}return o}function bd(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function rk(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case vm.FirstChild:n=n.firstChild;break;case vm.NextSibling:n=n.nextSibling;break}}return n}function ik(t,e){let[n,...r]=ek(t),i;if(n===Yb)i=e[rn][nn];else if(n===Jb)i=$1(e[rn][nn]);else{let o=Number(n);i=Sn(e[o+Ye])}return rk(i,r)}var ok=!1;function sk(t){ok=t}function ak(t){let e=t[Tn];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[Le];for(let o of r.values())ck(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function ck(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Ye);i&&wg(t,i,!1)}}function HC(t){let e=t[Va]??[],r=t[Dt][Le];for(let i of e)uk(i,r);t[Va]=tn}function uk(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[jl];for(;n<i;){let o=r.nextSibling;wg(e,r,!1),r=o,n++}}}function zC(t){HC(t);let e=t[nn];Dn(e)&&zl(e);for(let n=Ct;n<t.length;n++)zl(t[n])}function zl(t){ak(t);let e=t[re];for(let n=Ye;n<e.bindingStartIndex;n++)if(Un(t[n])){let r=t[n];zC(r)}else Dn(t[n])&&zl(t[n])}function lk(t){let e=t._views;for(let n of e){let r=T1(n);r!==null&&r[nn]!==null&&(Dn(r)?zl(r):zC(r))}}function dk(t,e){let n=[];for(let r of e)for(let i=0;i<(r[Zb]??1);i++){let o={data:r,firstChild:null};r[jl]>0&&(o.firstChild=t,t=bd(r[jl],t)),n.push(o)}return[t,n]}var qC=()=>null;function hk(t,e){let n=t[Va];return!e||n===null||n.length===0?null:n[0].data[w1]===e?n.shift():(HC(t),null)}function fk(){qC=hk}function Ba(t,e){return qC(t,e)}var cs=class{},Cd=new B("",{providedIn:"root",factory:()=>!1});var GC=new B(""),WC=new B(""),Cm=class{},ql=class{};function pk(t){let e=Error(`No component factory found for ${Ft(t)}.`);return e[mk]=t,e}var mk="ngComponent";var Dm=class{resolveComponentFactory(e){throw pk(e)}},us=class{static{this.NULL=new Dm}},ls=class{},ui=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>gk()}}return t})();function gk(){let t=ye(),e=Vt(),n=oi(e.index,t);return(Dn(n)?n:t)[Le]}var yk=(()=>{class t{static{this.\u0275prov=z({token:t,providedIn:"root",factory:()=>null})}}return t})();function Tm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=$E(i,a);else if(o==2){let u=a,l=e[++s];r=$E(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Gl=class extends us{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Wi(e);return new $a(n,this.ngModule)}};function p0(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ei.None;e?n.push({propName:s,templateName:r,isSignal:(a&ei.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function vk(t){let e=t.toLowerCase();return e==="svg"?ub:e==="math"?mP:null}var $a=class extends ql{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=p0(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return p0(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=KN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=fe(null);try{i=i||this.ngModule;let s=i instanceof Ht?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new cm(e,s):e,u=a.get(ls,null);if(u===null)throw new q(407,!1);let l=a.get(yk,null),f=a.get(cs,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},y=u.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",C=r?lO(y,r,this.componentDef.encapsulation,a):yg(y,g,vk(g)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let N=null;C!==null&&(N=fg(C,a,!0));let j=Eg(0,null,null,1,0,null,null,null,null,null,null),$=gd(null,j,null,P,null,null,p,y,a,null,N);ng($);let H,ee,Te=null;try{let de=this.componentDef,b,v=null;de.findHostDirectiveDefs?(b=[],v=new Map,de.findHostDirectiveDefs(de,b,v),b.push(de)):b=[de];let _=_k($,C);Te=wk(_,C,de,b,$,p,y),ee=Xm(j,Ye),C&&bk(y,de,C,r),n!==void 0&&Ck(ee,this.ngContentSelectors,n),H=Ek(Te,de,b,v,$,[Dk]),Dg(j,$,null)}catch(de){throw Te!==null&&gm(Te),gm($),de}finally{rg()}return new Sm(this.componentType,H,cd(ee,$),$,ee)}finally{fe(o)}}},Sm=class extends Cm{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Zi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Cg(o[re],o,i,e,n),this.previousInputValues.set(e,n);let s=oi(this._tNode.index,o);Tg(s,1)}}get injector(){return new zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _k(t,e){let n=t[re],r=Ye;return t[r]=e,yd(n,r,2,"#host",null)}function wk(t,e,n,r,i,o,s){let a=i[re];Ik(r,t,e,s);let u=null;e!==null&&(u=fg(e,i[rs]));let l=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=gd(i,TC(n),null,f,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Im(a,t,r.length-1),vd(i,p),i[t.index]=p}function Ik(t,e,n,r){for(let i of t)e.mergedAttrs=ka(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Tm(e,e.mergedAttrs,!0),n!==null&&vC(r,n,e))}function Ek(t,e,n,r,i,o){let s=Vt(),a=i[re],u=on(s,i);xC(a,i,s,n,null,r);for(let f=0;f<n.length;f++){let p=s.directiveStart+f,y=as(i,a,p,s);Ji(y,i)}RC(a,i,s),u&&Ji(u,i);let l=as(i,a,s.directiveStart+s.componentOffset,s);if(t[bt]=i[bt]=l,o!==null)for(let f of o)f(l,e);return bC(a,s,i),l}function bk(t,e,n,r){if(r)tm(t,n,["ng-version","18.2.7"]);else{let{attrs:i,classes:o}=QN(e.selectors[0]);i&&tm(t,n,i),o&&o.length>0&&yC(t,n,o.join(" "))}}function Ck(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function Dk(){let t=Vt();og(ye()[re],t)}var gs=(()=>{class t{static{this.__NG_ELEMENT_ID__=Tk}}return t})();function Tk(){let t=Vt();return Ak(t,ye())}var Sk=gs,KC=class extends Sk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return cd(this._hostTNode,this._hostLView)}get injector(){return new zi(this._hostTNode,this._hostLView)}get parentInjector(){let e=sg(this._hostTNode,this._hostLView);if(xb(e)){let n=Ol(e,this._hostLView),r=Pl(e),i=n[re].data[r+8];return new zi(i,n)}else return new zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=m0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ba(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ja(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!dP(e),a;if(s)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new $a(Wi(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(Ht,null);P&&(o=P)}let f=Wi(u.componentType??{}),p=Ba(this._lContainer,f?.id??null),y=p?.firstChild??null,g=u.create(l,i,y,o);return this.insertImpl(g.hostView,a,ja(this._hostTNode,p)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(gP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Dt],l=new KC(u,u[xn],u[Dt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return wd(s,i,o,r),e.attachToViewContainerRef(),j0(qp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=m0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ua(this._lContainer,n);r&&(Tl(qp(this._lContainer),n),pd(r[re],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ua(this._lContainer,n);return r&&Tl(qp(this._lContainer),n)!=null?new Zi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function m0(t){return t[xl]}function qp(t){return t[xl]||(t[xl]=[])}function Ak(t,e){let n,r=e[t.index];return Un(r)?n=r:(n=MC(r,e,null,t),e[t.index]=n,vd(e,n)),QC(n,e,t,r),new KC(n,t,e)}function xk(t,e){let n=t[Le],r=n.createComment(""),i=on(e,t),o=pC(n,i);return $l(n,o,r,X1(n,i),!1),r}var QC=YC,Sg=()=>!1;function Rk(t,e,n){return Sg(t,e,n)}function YC(t,e,n,r){if(t[pr])return;let i;n.type&8?i=Sn(r):i=xk(e,n),t[pr]=i}function Mk(t,e,n){if(t[pr]&&t[Va])return!0;let r=n[Tn],i=e.index-Ye;if(!r||d1(e)||Ja(r,i))return!1;let s=_m(r,i),a=r.data[hg]?.[i],[u,l]=dk(s,a);return t[pr]=u,t[Va]=l,!0}function Nk(t,e,n,r){Sg(t,n,e)||YC(t,e,n,r)}function Pk(){QC=Nk,Sg=Mk}var g0=new Set;function $n(t){g0.has(t)||(g0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ok(t){return typeof t=="function"&&t[lr]!==void 0}function ys(t,e){$n("NgSignals");let n=mE(t),r=n[lr];return e?.equal&&(r.equal=e.equal),n.set=i=>fp(r,i),n.update=i=>gE(r,i),n.asReadonly=kk.bind(n),n}function kk(){let t=this[lr];if(t.readonlyFn===void 0){let e=()=>this();e[lr]=t,t.readonlyFn=e}return t.readonlyFn}function JC(t){return Ok(t)&&typeof t.set=="function"}function Fk(t){return Object.getPrototypeOf(t.prototype).constructor}function qt(t){let e=Fk(t.type),n=!0,r=[t];for(;e;){let i;if(ti(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=ml(t.inputs),s.inputTransforms=ml(t.inputTransforms),s.declaredInputs=ml(t.declaredInputs),s.outputs=ml(t.outputs);let a=i.hostBindings;a&&Bk(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Uk(t,u),l&&jk(t,l),Lk(t,i),gN(t.outputs,i.outputs),ti(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===qt&&(n=!1)}}e=Object.getPrototypeOf(e)}Vk(r)}function Lk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Vk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ka(i.hostAttrs,n=ka(n,i.hostAttrs))}}function ml(t){return t===ts?{}:t===tn?[]:t}function Uk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function jk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function Bk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Ag(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ni=class{},Ha=class{};var Am=class extends ni{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gl(this);let o=Q0(e);this._bootstrapComponents=cC(o.bootstrap),this._r3Injector=Vb(e,n,[{provide:ni,useValue:this},{provide:us,useValue:this.componentFactoryResolver},...r],Ft(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},xm=class extends Ha{constructor(e){super(),this.moduleType=e}create(e){return new Am(this.moduleType,e,[])}};var Wl=class extends ni{constructor(e){super(),this.componentFactoryResolver=new Gl(this),this.instance=null;let n=new Fa([...e.providers,{provide:ni,useValue:this},{provide:us,useValue:this.componentFactoryResolver}],e.parent||Jm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function xg(t,e,n=null){return new Wl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function ZC(t){return Hk(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function $k(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Hk(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function XC(t,e,n){return t[e]=n}function Vn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function eD(t,e,n,r){let i=Vn(t,e,n);return Vn(t,e+1,r)||i}function Xa(t){return(t.flags&32)===32}function zk(t,e,n,r,i,o,s,a,u){let l=e.consts,f=yd(e,t,4,s||null,a||null);AC(e,n,f,ss(l,u)),og(e,f);let p=f.tView=Eg(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function Rm(t,e,n,r,i,o,s,a,u,l){let f=n+Ye,p=e.firstCreatePass?zk(f,e,t,r,i,o,s,a,u):e.data[f];Qa(p,!1);let y=tD(e,t,p,n);ig()&&_g(e,t,y,p),Ji(y,t);let g=MC(y,t,y,p);return t[f]=g,vd(t,g),Rk(g,p,t),Zm(p)&&CC(e,t,p),u!=null&&DC(t,p,l),p}function le(t,e,n,r,i,o,s,a){let u=ye(),l=St(),f=ss(l.consts,o);return Rm(u,l,t,e,n,r,i,f,s,a),le}var tD=nD;function nD(t,e,n,r){return ai(!0),e[Le].createComment("")}function qk(t,e,n,r){let i=e[Tn],o=!i||Ka()||Xa(n)||Ja(i,r);if(ai(o),o)return nD(t,e,n,r);let s=i.data[_1]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Ed(i,t,e,n);dd(i,r,a);let u=pg(i,r);return bd(u,a)}function Gk(){tD=qk}var Na=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Na||{}),Wk=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}}return t})(),y0=class t{constructor(){this.ngZone=R(Se),this.scheduler=R(cs),this.errorHandler=R(mr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Na.EarlyRead,Na.Write,Na.MixedReadWrite,Na.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=z({token:t,providedIn:"root",factory:()=>new t})}};function eo(t,e,n,r){let i=ye(),o=fs();if(Vn(i,o,e)){let s=St(),a=ad();AO(a,i,t,e,n,r)}return eo}function rD(t,e,n,r){return Vn(t,fs(),n)?e+es(n)+r:Rn}function Kk(t,e,n,r,i,o){let s=AP(),a=eD(t,s,n,i);return _b(2),a?e+es(n)+r+es(i)+o:Rn}function gl(t,e){return t<<17|e<<2}function Xi(t){return t>>17&32767}function Qk(t){return(t&2)==2}function Yk(t,e){return t&131071|e<<17}function Mm(t){return t|2}function ds(t){return(t&131068)>>2}function Gp(t,e){return t&-131069|e<<2}function Jk(t){return(t&1)===1}function Nm(t){return t|1}function Zk(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Xi(s),u=ds(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||Ga(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=Xi(t[a+1]);t[r+1]=gl(y,a),y!==0&&(t[y+1]=Gp(t[y+1],r)),t[a+1]=Yk(t[a+1],r)}else t[r+1]=gl(a,0),a!==0&&(t[a+1]=Gp(t[a+1],r)),a=r;else t[r+1]=gl(u,0),a===0?a=r:t[u+1]=Gp(t[u+1],r),u=r;l&&(t[r+1]=Mm(t[r+1])),v0(t,f,r,!0),v0(t,f,r,!1),Xk(e,f,t,r,o),s=gl(a,u),o?e.classBindings=s:e.styleBindings=s}function Xk(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ga(o,e)>=0&&(n[r+1]=Nm(n[r+1]))}function v0(t,e,n,r){let i=t[n+1],o=e===null,s=r?Xi(i):ds(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];eF(u,e)&&(a=!0,t[s+1]=r?Nm(l):Mm(l)),s=r?Xi(l):ds(l)}a&&(t[n+1]=r?Mm(i):Nm(i))}function eF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ga(t,e)>=0:!1}function Y(t,e,n){let r=ye(),i=fs();if(Vn(r,i,e)){let o=St(),s=ad();bg(o,s,r,t,e,r[Le],n,!1)}return Y}function _0(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Cg(t,n,o[s],s,r)}function Dd(t,e,n){return iD(t,e,n,!1),Dd}function Td(t,e){return iD(t,e,null,!0),Td}function iD(t,e,n,r){let i=ye(),o=St(),s=_b(2);if(o.firstUpdatePass&&nF(o,t,s,r),e!==Rn&&Vn(i,s,e)){let a=o.data[si()];aF(o,a,i,i[Le],t,i[s+1]=cF(e,n),r,s)}}function tF(t,e){return e>=t.expandoStartIndex}function nF(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[si()],s=tF(t,n);uF(o,r)&&e===null&&!s&&(e=!1),e=rF(i,o,e,r),Zk(i,o,e,n,s,r)}}function rF(t,e,n,r){let i=PP(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Wp(null,t,e,n,r),n=za(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Wp(i,t,e,n,r),o===null){let u=iF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Wp(null,t,e,u[1],r),u=za(u,e.attrs,r),oF(t,e,r,u))}else o=sF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function iF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ds(r)!==0)return t[Xi(r)]}function oF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Xi(i)]=r}function sF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=za(r,s,n)}return za(r,e.attrs,n)}function Wp(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=za(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function za(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),FN(t,s,n?!0:e[++o]))}return t===void 0?null:t}function aF(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],f=Jk(l)?w0(u,e,n,i,ds(l),s):void 0;if(!Kl(f)){Kl(o)||Qk(l)&&(o=w0(u,null,n,i,a,s));let p=lb(si(),n);oO(r,s,p,i,o)}}function w0(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,y=n[i+1];y===Rn&&(y=p?tn:void 0);let g=p?kp(y,r):f===r?y:void 0;if(l&&!Kl(g)&&(g=kp(u,r)),Kl(g)&&(a=g,s))return a;let C=t[i+1];i=s?Xi(C):ds(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=kp(u,r))}return a}function Kl(t){return t!==void 0}function cF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ft(Za(t)))),t}function uF(t,e){return(t.flags&(e?8:16))!==0}var Pm=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,n){this.attach(n,this.detach(e))}};function Kp(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function lF(t,e,n){let r,i,o=0,s=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let l=t.at(o),f=e[o],p=Kp(o,l,o,f,n);if(p!==0){p<0&&t.updateValue(o,f),o++;continue}let y=t.at(s),g=e[u],C=Kp(s,y,u,g,n);if(C!==0){C<0&&t.updateValue(s,g),s--,u--;continue}let P=n(o,l),N=n(s,y),j=n(o,f);if(Object.is(j,N)){let $=n(u,g);Object.is($,P)?(t.swap(o,s),t.updateValue(s,g),u--,s--):t.move(s,o),t.updateValue(o,f),o++;continue}if(r??=new Ql,i??=E0(t,o,s,n),Om(t,r,o,j))t.updateValue(o,f),o++,s++;else if(i.has(j))r.set(P,t.detach(o)),s--;else{let $=t.create(o,e[o]);t.attach(o,$),o++,s++}}for(;o<=u;)I0(t,r,n,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&o<=s;){let f=t.at(o),p=l.value,y=Kp(o,f,o,p,n);if(y!==0)y<0&&t.updateValue(o,p),o++,l=u.next();else{r??=new Ql,i??=E0(t,o,s,n);let g=n(o,p);if(Om(t,r,o,g))t.updateValue(o,p),o++,s++,l=u.next();else if(!i.has(g))t.attach(o,t.create(o,p)),o++,s++,l=u.next();else{let C=n(o,f);r.set(C,t.detach(o)),s--}}}for(;!l.done;)I0(t,r,n,t.length,l.value),l=u.next()}for(;o<=s;)t.destroy(t.detach(s--));r?.forEach(u=>{t.destroy(u)})}function Om(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function I0(t,e,n,r,i){if(Om(t,e,r,n(r,i)))t.updateValue(r,i);else{let o=t.create(r,i);t.attach(r,o)}}function E0(t,e,n,r){let i=new Set;for(let o=e;o<=n;o++)i.add(r(o,t.at(o)));return i}var Ql=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Gt(t,e){$n("NgControlFlow");let n=ye(),r=fs(),i=n[r]!==Rn?n[r]:-1,o=i!==-1?Yl(n,Ye+i):void 0,s=0;if(Vn(n,r,t)){let a=fe(null);try{if(o!==void 0&&FC(o,s),t!==-1){let u=Ye+t,l=Yl(n,u),f=Vm(n[re],u),p=Ba(l,f.tView.ssrId),y=_d(n,f,e,{dehydratedView:p});wd(l,y,s,ja(f,p))}}finally{fe(a)}}else if(o!==void 0){let a=kC(o,s);a!==void 0&&(a[bt]=e)}}var km=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Ct}};function Rg(t){return t}var Fm=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Mg(t,e,n,r,i,o,s,a,u,l,f,p,y){$n("NgControlFlow");let g=ye(),C=St(),P=u!==void 0,N=ye(),j=a?s.bind(N[rn][bt]):s,$=new Fm(P,j);N[Ye+t]=$,Rm(g,C,t+1,e,n,r,i,ss(C.consts,o)),P&&Rm(g,C,t+2,u,l,f,p,ss(C.consts,y))}var Lm=class extends Pm{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ct}at(e){return this.getLView(e)[bt].$implicit}attach(e,n){let r=n[Tn];this.needsIndexUpdate||=e!==this.length,wd(this.lContainer,n,e,ja(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,dF(this.lContainer,e)}create(e,n){let r=Ba(this.lContainer,this.templateTNode.tView.ssrId),i=_d(this.hostLView,this.templateTNode,new km(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){pd(e[re],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[bt].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[bt].$index=e}getLView(e){return hF(this.lContainer,e)}};function Ng(t){let e=fe(null),n=si();try{let r=ye(),i=r[re],o=r[n],s=n+1,a=Yl(r,s);if(o.liveCollection===void 0){let l=Vm(i,s);o.liveCollection=new Lm(a,r,l)}else o.liveCollection.reset();let u=o.liveCollection;if(lF(u,t,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let l=fs(),f=u.length===0;if(Vn(r,l,f)){let p=n+2,y=Yl(r,p);if(f){let g=Vm(i,p),C=Ba(y,g.tView.ssrId),P=_d(r,g,void 0,{dehydratedView:C});wd(y,P,0,ja(g,C))}else FC(y,0)}}}finally{fe(e)}}function Yl(t,e){return t[e]}function dF(t,e){return Ua(t,e)}function hF(t,e){return kC(t,e)}function Vm(t,e){return Xm(t,e)}function fF(t,e,n,r,i,o){let s=e.consts,a=ss(s,i),u=yd(e,t,2,r,a);return AC(e,n,u,ss(s,o)),u.attrs!==null&&Tm(u,u.attrs,!1),u.mergedAttrs!==null&&Tm(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function A(t,e,n,r){let i=ye(),o=St(),s=Ye+t,a=i[Le],u=o.firstCreatePass?fF(s,o,i,e,n,r):o.data[s],l=oD(o,i,u,a,e,t);i[s]=l;let f=Zm(u);return Qa(u,!0),vC(a,l,u),!Xa(u)&&ig()&&_g(o,i,l,u),_P()===0&&Ji(l,i),wP(),f&&(CC(o,i,u),bC(o,u,i)),r!==null&&DC(i,u),A}function D(){let t=Vt();yb()?TP():(t=t.parent,Qa(t,!1));let e=t;EP(e)&&CP(),IP();let n=St();return n.firstCreatePass&&(og(n,t),ib(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&jP(e)&&_0(n,e,ye(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&BP(e)&&_0(n,e,ye(),e.stylesWithoutHost,!1),D}function J(t,e,n,r){return A(t,e,n,r),D(),J}var oD=(t,e,n,r,i,o)=>(ai(!0),yg(r,i,Tb()));function pF(t,e,n,r,i,o){let s=e[Tn],a=!s||Ka()||Xa(n)||Ja(s,o);if(ai(a),a)return yg(r,i,Tb());let u=Ed(s,t,e,n);return nC(s,o)&&dd(s,o,u.nextSibling),s&&(Hb(n)||zb(u))&&Wa(n)&&(bP(n),gC(u)),u}function mF(){oD=pF}var gF=(t,e,n,r)=>(ai(!0),lC(e[Le],""));function yF(t,e,n,r){let i,o=e[Tn],s=!o||Ka()||Ja(o,r)||Xa(n);if(ai(s),s)return lC(e[Le],"");let a=Ed(o,t,e,n),u=x1(o,r);return dd(o,r,a),i=bd(u,a),i}function vF(){gF=yF}function lt(){return ye()}var Hi=void 0;function _F(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var wF=["en",[["a","p"],["AM","PM"],Hi],[["AM","PM"],Hi,Hi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hi,"{1} 'at' {0}",Hi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",_F],Qp={};function Wt(t){let e=IF(t),n=b0(e);if(n)return n;let r=e.split("-")[0];if(n=b0(r),n)return n;if(r==="en")return wF;throw new q(701,!1)}function b0(t){return t in Qp||(Qp[t]=fr.ng&&fr.ng.common&&fr.ng.common.locales&&fr.ng.common.locales[t]),Qp[t]}var qe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(qe||{});function IF(t){return t.toLowerCase().replace(/_/g,"-")}var Jl="en-US",EF="USD";var bF=Jl;function CF(t){typeof t=="string"&&(bF=t.toLowerCase().replace(/_/g,"-"))}var DF=(t,e,n)=>{};function me(t,e,n,r){let i=ye(),o=St(),s=Vt();return sD(o,i,i[Le],s,t,e,r),me}function TF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Al],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function sD(t,e,n,r,i,o,s){let a=Zm(r),l=t.firstCreatePass&&PO(t),f=e[bt],p=NO(e),y=!0;if(r.type&3||s){let P=on(r,e),N=s?s(P):P,j=p.length,$=s?ee=>s(Sn(ee[r.index])):r.index,H=null;if(!s&&a&&(H=TF(t,e,i,r.index)),H!==null){let ee=H.__ngLastListenerFn__||H;ee.__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,y=!1}else{o=D0(r,e,f,o),DF(P,i,o);let ee=n.listen(N,i,o);p.push(o,ee),l&&l.push(i,$,j,j+1)}}else o=D0(r,e,f,o);let g=r.outputs,C;if(y&&g!==null&&(C=g[i])){let P=C.length;if(P)for(let N=0;N<P;N+=2){let j=C[N],$=C[N+1],Te=e[j][$].subscribe(o),de=p.length;p.push(o,Te),l&&l.push(i,r.index,de,-(de+1))}}}function C0(t,e,n,r){let i=fe(null);try{return On(6,e,n),n(r)!==!1}catch(o){return PC(t,o),!1}finally{On(7,e,n),fe(i)}}function D0(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?oi(t.index,e):e;Tg(s,5);let a=C0(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=C0(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function ae(t=1){return kP(t)}function Pg(t,e,n){return Sd(t,"",e,"",n),Pg}function Sd(t,e,n,r,i){let o=ye(),s=rD(o,e,n,r);if(s!==Rn){let a=St(),u=ad();bg(a,u,o,t,s,o[Le],i,!1)}return Sd}function SF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function aD(t){let e=SP();return eg(e,Ye+t)}function O(t,e=""){let n=ye(),r=St(),i=t+Ye,o=r.firstCreatePass?yd(r,i,1,e,null):r.data[i],s=cD(r,n,o,e,t);n[i]=s,ig()&&_g(r,n,s,o),Qa(o,!1)}var cD=(t,e,n,r,i)=>(ai(!0),uC(e[Le],r));function AF(t,e,n,r,i){let o=e[Tn],s=!o||Ka()||Xa(n)||Ja(o,i);return ai(s),s?uC(e[Le],r):Ed(o,t,e,n)}function xF(){cD=AF}function Ge(t){return Ve("",t,""),Ge}function Ve(t,e,n){let r=ye(),i=rD(r,t,e,n);return i!==Rn&&OC(r,si(),i),Ve}function Og(t,e,n,r,i){let o=ye(),s=Kk(o,t,e,n,r,i);return s!==Rn&&OC(o,si(),s),Og}function Ad(t,e,n){JC(e)&&(e=e());let r=ye(),i=fs();if(Vn(r,i,e)){let o=St(),s=ad();bg(o,s,r,t,e,r[Le],n,!1)}return Ad}function kg(t,e){let n=JC(t);return n&&t.set(e),n}function xd(t,e){let n=ye(),r=St(),i=Vt();return sD(r,n,n[Le],i,t,e),xd}function RF(t,e,n){let r=St();if(r.firstCreatePass){let i=ti(t);Um(n,r.data,r.blueprint,i,!0),Um(e,r.data,r.blueprint,i,!1)}}function Um(t,e,n,r,i){if(t=kt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Um(t[o],e,n,r,i);else{let o=St(),s=ye(),a=Vt(),u=ns(t)?t:kt(t.provide),l=tb(t),f=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(ns(t)||!t.multi){let g=new Yi(l,i,W),C=Jp(u,e,i?f:f+y,p);C===-1?(lm(Fl(a,s),o,u),Yp(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[C]=g,s[C]=g)}else{let g=Jp(u,e,f+y,p),C=Jp(u,e,f,f+y),P=g>=0&&n[g],N=C>=0&&n[C];if(i&&!N||!i&&!P){lm(Fl(a,s),o,u);let j=PF(i?NF:MF,n.length,i,r,l);!i&&N&&(n[C].providerFactory=j),Yp(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=uD(n[i?C:g],l,!i&&r);Yp(o,t,g>-1?g:C,j)}!i&&r&&N&&n[C].componentProviders++}}}function Yp(t,e,n,r){let i=ns(e),o=rP(e);if(i||o){let u=(o?kt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function uD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Jp(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function MF(t,e,n,r){return jm(this.multi,[])}function NF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=as(n,n[re],this.providerFactory.index,r);o=a.slice(0,s),jm(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],jm(i,o);return o}function jm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function PF(t,e,n,r,i){let o=new Yi(t,n,W);return o.multi=[],o.index=e,o.componentProviders=0,uD(o,i,r&&!n),o}function Hn(t,e=[]){return n=>{n.providersResolver=(r,i)=>RF(r,i?i(t):t,e)}}var OF=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Z0(!1,n.type),i=r.length>0?xg([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(K(Ht))})}}return t})();function Be(t){$n("NgStandalone"),t.getStandaloneInjector=e=>e.get(OF).getOrCreateStandaloneInjector(t)}function Rd(t,e,n,r){return hD(ye(),sd(),t,e,n,r)}function lD(t,e,n,r,i){return fD(ye(),sd(),t,e,n,r,i)}function dD(t,e){let n=t[e];return n===Rn?void 0:n}function hD(t,e,n,r,i,o){let s=e+n;return Vn(t,s,i)?XC(t,s+1,o?r.call(o,i):r(i)):dD(t,s+1)}function fD(t,e,n,r,i,o,s){let a=e+n;return eD(t,a,i,o)?XC(t,a+2,s?r.call(s,i,o):r(i,o)):dD(t,a+2)}function ec(t,e){let n=St(),r,i=t+Ye;n.firstCreatePass?(r=kF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=qi(r.type,!0)),s,a=$t(W);try{let u=kl(!1),l=o();return kl(u),SF(n,ye(),i,l),l}finally{$t(a)}}function kF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Md(t,e,n){let r=t+Ye,i=ye(),o=eg(i,r);return mD(i,r)?hD(i,sd(),e,o.transform,n,o):o.transform(n)}function pD(t,e,n,r){let i=t+Ye,o=ye(),s=eg(o,i);return mD(o,i)?fD(o,sd(),e,s.transform,n,r,s):s.transform(n,r)}function mD(t,e){return t[re].data[e].pure}var yr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},gD=new yr("18.2.7");var Nd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var yD=new B("");function to(t){return!!t&&typeof t.then=="function"}function vD(t){return!!t&&typeof t.subscribe=="function"}var _D=new B(""),wD=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=R(_D,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(to(o))n.push(o);else if(vD(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vs=new B("");function FF(){pE(()=>{throw new q(600,!1)})}function LF(t){return t.isBoundToModule}var VF=10;function UF(t,e,n){try{let r=n();return to(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var zn=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=R(a1),this.afterRenderManager=R(Wk),this.zonelessEnabled=R(Cd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ut,this.afterTick=new ut,this.componentTypes=[],this.components=[],this.isStable=R(ci).hasPendingTasks.pipe(ie(n=>!n)),this._injector=R(Ht)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof ql;if(!this._injector.get(wD).done){let y=!i&&K0(n),g=!1;throw new q(405,g)}let s;i?s=n:s=this._injector.get(us).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=LF(s)?void 0:this._injector.get(ni),u=r||s.selector,l=s.create(Tt.NULL,[],u,a),f=l.location.nativeElement,p=l.injector.get(yD,null);return p?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),El(this.components,l),p?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new q(101,!1);let n=fe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,fe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(ls,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<VF;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)jF(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>id(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;El(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(vs,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>El(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new q(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function El(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var yl;function Pd(t){yl??=new WeakMap;let e=yl.get(t);if(e)return e;let n=t.isStable.pipe(En(r=>r)).toPromise().then(()=>{});return yl.set(t,n),t.onDestroy(()=>yl?.delete(t)),n}function jF(t,e,n,r){if(!n&&!id(t))return;UC(t,e,n&&!r?0:1)}var Bm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Fg=(()=>{class t{compileModuleSync(n){return new xm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Q0(n),o=cC(i.declarations).reduce((s,a)=>{let u=Wi(a);return u&&s.push(new $a(u)),s},[]);return new Bm(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var BF=(()=>{class t{constructor(){this.zone=R(Se),this.changeDetectionScheduler=R(cs),this.applicationRef=R(zn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$F=new B("",{factory:()=>!1});function ID({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Se(ce(U({},bD()),{scheduleInRootZone:n})),[{provide:Se,useFactory:t},{provide:Gi,multi:!0,useFactory:()=>{let r=R(BF,{optional:!0});return()=>r.initialize()}},{provide:Gi,multi:!0,useFactory:()=>{let r=R(HF);return()=>{r.initialize()}}},e===!0?{provide:GC,useValue:!0}:[],{provide:WC,useValue:n??Ub}]}function ED(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=ID({ngZoneFactory:()=>{let i=bD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&$n("NgZone_CoalesceEvent"),new Se(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return zt([{provide:$F,useValue:!0},{provide:Cd,useValue:!1},r])}function bD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var HF=(()=>{class t{constructor(){this.subscription=new Ke,this.initialized=!1,this.zone=R(Se),this.pendingTasks=R(ci)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var zF=(()=>{class t{constructor(){this.appRef=R(zn),this.taskService=R(ci),this.ngZone=R(Se),this.zonelessEnabled=R(Cd),this.disableScheduling=R(GC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ke,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Vl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(R(WC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof mm||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?o0:Bb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Vl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,o0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function qF(){return typeof $localize<"u"&&$localize.locale||Jl}var tc=new B("",{providedIn:"root",factory:()=>R(tc,ue.Optional|ue.SkipSelf)||qF()}),CD=new B("",{providedIn:"root",factory:()=>EF});var DD=new B("");function vl(t){return!!t.platformInjector}function GF(t){let e=vl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Se);return n.run(()=>{vl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(mr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),vl(t)){let o=()=>e.destroy(),s=t.platformInjector.get(DD);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{El(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return UF(r,n,()=>{let o=e.get(wD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(tc,Jl);if(CF(s||Jl),vl(t)){let a=e.get(zn);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return WF(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function WF(t,e){let n=t.injector.get(zn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new q(-403,!1);e.push(t)}var bl=null;function KF(t=[],e){return Tt.create({name:e,providers:[{provide:nd,useValue:"platform"},{provide:DD,useValue:new Set([()=>bl=null])},...t]})}function QF(t=[]){if(bl)return bl;let e=KF(t);return bl=e,FF(),YF(e),e}function YF(t){t.get(lg,null)?.forEach(n=>n())}var no=(()=>{class t{static{this.__NG_ELEMENT_ID__=JF}}return t})();function JF(t){return ZF(Vt(),ye(),(t&16)===16)}function ZF(t,e,n){if(Wa(t)&&!n){let r=oi(t.index,e);return new Zi(r,r)}else if(t.type&175){let r=e[rn];return new Zi(r,e)}return null}var $m=class{constructor(){}supports(e){return ZC(e)}create(e){return new Hm(e)}},XF=(t,e)=>e,Hm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||XF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<T0(r,i,o)?n:r,a=T0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,f=u-i;if(l!=f){for(let y=0;y<l;y++){let g=y<o.length?o[y]:o[y]=0,C=g+y;f<=C&&C<l&&(o[y]=g+1)}let p=s.previousIndex;o[p]=f-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ZC(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,$k(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new zm(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Zl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Zl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},zm=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},qm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Zl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new qm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function T0(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function S0(){return new Lg([new $m])}var Lg=(()=>{class t{static{this.\u0275prov=z({token:t,providedIn:"root",factory:S0})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||S0()),deps:[[t,new U0,new Lt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new q(901,!1)}}return t})();function TD(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=QF(r),o=[ID({}),{provide:cs,useExisting:zF},...n||[]],s=new Wl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return GF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var A0=!1;function eL(){A0||(A0=!0,D1(),mF(),xF(),vF(),Gk(),Pk(),fk(),fO())}function tL(t,e){return Pd(t)}function SD(){return zt([{provide:dl,useFactory:()=>{let t=!0;return pl()&&(t=!!R(ms,{optional:!0})?.get(eC,null)),t&&$n("NgHydration"),t}},{provide:Gi,useValue:()=>{sk(!1),pl()&&R(dl)&&(nL(),eL())},multi:!0},{provide:iC,useFactory:()=>pl()&&R(dl)},{provide:vs,useFactory:()=>{if(pl()&&R(dl)){let t=R(zn),e=R(Tt);return()=>{tL(t,e).then(()=>{lk(t)})}}return()=>{}},multi:!0}])}function nL(){let t=ud(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===b1){e=n;break}if(!e)throw new q(-507,!1)}function li(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function _s(t,e){$n("NgSignals");let n=dE(t);return e?.equal&&(n[lr].equal=e.equal),n}function qn(t){let e=fe(null);try{return t()}finally{fe(e)}}var FD=null;function br(){return FD}function LD(t){FD??=t}var $d=class{};var Kt=new B(""),VD=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>R(rL),providedIn:"platform"})}}return t})();var rL=(()=>{class t extends VD{constructor(){super(),this._doc=R(Kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return br().getBaseHref(this._doc)}onPopState(n){let r=br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function UD(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function AD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ro(t){return t&&t[0]!=="?"?"?"+t:t}var Is=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>R(jD),providedIn:"root"})}}return t})(),iL=new B(""),jD=(()=>{class t extends Is{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??R(Kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return UD(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ro(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+ro(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+ro(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(K(VD),K(iL,8))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var rc=(()=>{class t{constructor(n){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=aL(AD(xD(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ro(r))}normalize(n){return t.stripTrailingSlash(sL(this._basePath,xD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ro(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ro(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=ro}static{this.joinWithSlash=UD}static{this.stripTrailingSlash=AD}static{this.\u0275fac=function(r){return new(r||t)(K(Is))}}static{this.\u0275prov=z({token:t,factory:()=>oL(),providedIn:"root"})}}return t})();function oL(){return new rc(K(Is))}function sL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function xD(t){return t.replace(/\/index.html$/,"")}function aL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var BD={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},$D=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}($D||{});var Ut=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Ut||{}),Me=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Me||{}),an=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(an||{}),cn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function cL(t){return Wt(t)[qe.LocaleId]}function uL(t,e,n){let r=Wt(t),i=[r[qe.DayPeriodsFormat],r[qe.DayPeriodsStandalone]],o=gn(i,e);return gn(o,n)}function lL(t,e,n){let r=Wt(t),i=[r[qe.DaysFormat],r[qe.DaysStandalone]],o=gn(i,e);return gn(o,n)}function dL(t,e,n){let r=Wt(t),i=[r[qe.MonthsFormat],r[qe.MonthsStandalone]],o=gn(i,e);return gn(o,n)}function hL(t,e){let r=Wt(t)[qe.Eras];return gn(r,e)}function Od(t,e){let n=Wt(t);return gn(n[qe.DateFormat],e)}function kd(t,e){let n=Wt(t);return gn(n[qe.TimeFormat],e)}function Fd(t,e){let r=Wt(t)[qe.DateTimeFormat];return gn(r,e)}function Ir(t,e){let n=Wt(t),r=n[qe.NumberSymbols][e];if(typeof r>"u"){if(e===cn.CurrencyDecimal)return n[qe.NumberSymbols][cn.Decimal];if(e===cn.CurrencyGroup)return n[qe.NumberSymbols][cn.Group]}return r}function fL(t,e){return Wt(t)[qe.NumberFormats][e]}function pL(t){return Wt(t)[qe.Currencies]}function HD(t){if(!t[qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mL(t){let e=Wt(t);return HD(e),(e[qe.ExtraData][2]||[]).map(r=>typeof r=="string"?Vg(r):[Vg(r[0]),Vg(r[1])])}function gL(t,e,n){let r=Wt(t);HD(r);let i=[r[qe.ExtraData][0],r[qe.ExtraData][1]],o=gn(i,e)||[];return gn(o,n)||[]}function gn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Vg(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}function yL(t,e,n="en"){let r=pL(n)[t]||BD[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var vL=2;function _L(t){let e,n=BD[t];return n&&(e=n[2]),typeof e=="number"?e:vL}var wL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ld={},IL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Er=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Er||{}),De=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(De||{}),Ce=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ce||{});function EL(t,e,n,r){let i=ML(t);e=wr(n,e)||e;let s=[],a;for(;e;)if(a=IL.exec(e),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;e=f}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=qD(r,u),i=RL(i,r,!0));let l="";return s.forEach(f=>{let p=AL(f);l+=p?p(i,n,u):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Hd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function wr(t,e){let n=cL(t);if(Ld[n]??={},Ld[n][e])return Ld[n][e];let r="";switch(e){case"shortDate":r=Od(t,an.Short);break;case"mediumDate":r=Od(t,an.Medium);break;case"longDate":r=Od(t,an.Long);break;case"fullDate":r=Od(t,an.Full);break;case"shortTime":r=kd(t,an.Short);break;case"mediumTime":r=kd(t,an.Medium);break;case"longTime":r=kd(t,an.Long);break;case"fullTime":r=kd(t,an.Full);break;case"short":let i=wr(t,"shortTime"),o=wr(t,"shortDate");r=Vd(Fd(t,an.Short),[i,o]);break;case"medium":let s=wr(t,"mediumTime"),a=wr(t,"mediumDate");r=Vd(Fd(t,an.Medium),[s,a]);break;case"long":let u=wr(t,"longTime"),l=wr(t,"longDate");r=Vd(Fd(t,an.Long),[u,l]);break;case"full":let f=wr(t,"fullTime"),p=wr(t,"fullDate");r=Vd(Fd(t,an.Full),[f,p]);break}return r&&(Ld[n][e]=r),r}function Vd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Mn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function bL(t,e){return Mn(t,3).substring(0,e)}function tt(t,e,n=0,r=!1,i=!1){return function(o,s){let a=CL(t,o);if((n>0||a>-n)&&(a+=n),t===De.Hours)a===0&&n===-12&&(a=12);else if(t===De.FractionalSeconds)return bL(a,e);let u=Ir(s,cn.MinusSign);return Mn(a,e,u,r,i)}}function CL(t,e){switch(t){case De.FullYear:return e.getFullYear();case De.Month:return e.getMonth();case De.Date:return e.getDate();case De.Hours:return e.getHours();case De.Minutes:return e.getMinutes();case De.Seconds:return e.getSeconds();case De.FractionalSeconds:return e.getMilliseconds();case De.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Oe(t,e,n=Ut.Format,r=!1){return function(i,o){return DL(i,o,t,e,n,r)}}function DL(t,e,n,r,i,o){switch(n){case Ce.Months:return dL(e,i,r)[t.getMonth()];case Ce.Days:return lL(e,i,r)[t.getDay()];case Ce.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=mL(e),f=gL(e,i,r),p=l.findIndex(y=>{if(Array.isArray(y)){let[g,C]=y,P=s>=g.hours&&a>=g.minutes,N=s<C.hours||s===C.hours&&a<C.minutes;if(g.hours<C.hours){if(P&&N)return!0}else if(P||N)return!0}else if(y.hours===s&&y.minutes===a)return!0;return!1});if(p!==-1)return f[p]}return uL(e,i,r)[s<12?0:1];case Ce.Eras:return hL(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Ud(t){return function(e,n,r){let i=-1*r,o=Ir(n,cn.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Er.Short:return(i>=0?"+":"")+Mn(s,2,o)+Mn(Math.abs(i%60),2,o);case Er.ShortGMT:return"GMT"+(i>=0?"+":"")+Mn(s,1,o);case Er.Long:return"GMT"+(i>=0?"+":"")+Mn(s,2,o)+":"+Mn(Math.abs(i%60),2,o);case Er.Extended:return r===0?"Z":(i>=0?"+":"")+Mn(s,2,o)+":"+Mn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var TL=0,Bd=4;function SL(t){let e=Hd(t,TL,1).getDay();return Hd(t,0,1+(e<=Bd?Bd:Bd+7)-e)}function zD(t){let e=t.getDay(),n=e===0?-3:Bd-e;return Hd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Ug(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=zD(n),s=SL(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Mn(i,t,Ir(r,cn.MinusSign))}}function jd(t,e=!1){return function(n,r){let o=zD(n).getFullYear();return Mn(o,t,Ir(r,cn.MinusSign),e)}}var jg={};function AL(t){if(jg[t])return jg[t];let e;switch(t){case"G":case"GG":case"GGG":e=Oe(Ce.Eras,Me.Abbreviated);break;case"GGGG":e=Oe(Ce.Eras,Me.Wide);break;case"GGGGG":e=Oe(Ce.Eras,Me.Narrow);break;case"y":e=tt(De.FullYear,1,0,!1,!0);break;case"yy":e=tt(De.FullYear,2,0,!0,!0);break;case"yyy":e=tt(De.FullYear,3,0,!1,!0);break;case"yyyy":e=tt(De.FullYear,4,0,!1,!0);break;case"Y":e=jd(1);break;case"YY":e=jd(2,!0);break;case"YYY":e=jd(3);break;case"YYYY":e=jd(4);break;case"M":case"L":e=tt(De.Month,1,1);break;case"MM":case"LL":e=tt(De.Month,2,1);break;case"MMM":e=Oe(Ce.Months,Me.Abbreviated);break;case"MMMM":e=Oe(Ce.Months,Me.Wide);break;case"MMMMM":e=Oe(Ce.Months,Me.Narrow);break;case"LLL":e=Oe(Ce.Months,Me.Abbreviated,Ut.Standalone);break;case"LLLL":e=Oe(Ce.Months,Me.Wide,Ut.Standalone);break;case"LLLLL":e=Oe(Ce.Months,Me.Narrow,Ut.Standalone);break;case"w":e=Ug(1);break;case"ww":e=Ug(2);break;case"W":e=Ug(1,!0);break;case"d":e=tt(De.Date,1);break;case"dd":e=tt(De.Date,2);break;case"c":case"cc":e=tt(De.Day,1);break;case"ccc":e=Oe(Ce.Days,Me.Abbreviated,Ut.Standalone);break;case"cccc":e=Oe(Ce.Days,Me.Wide,Ut.Standalone);break;case"ccccc":e=Oe(Ce.Days,Me.Narrow,Ut.Standalone);break;case"cccccc":e=Oe(Ce.Days,Me.Short,Ut.Standalone);break;case"E":case"EE":case"EEE":e=Oe(Ce.Days,Me.Abbreviated);break;case"EEEE":e=Oe(Ce.Days,Me.Wide);break;case"EEEEE":e=Oe(Ce.Days,Me.Narrow);break;case"EEEEEE":e=Oe(Ce.Days,Me.Short);break;case"a":case"aa":case"aaa":e=Oe(Ce.DayPeriods,Me.Abbreviated);break;case"aaaa":e=Oe(Ce.DayPeriods,Me.Wide);break;case"aaaaa":e=Oe(Ce.DayPeriods,Me.Narrow);break;case"b":case"bb":case"bbb":e=Oe(Ce.DayPeriods,Me.Abbreviated,Ut.Standalone,!0);break;case"bbbb":e=Oe(Ce.DayPeriods,Me.Wide,Ut.Standalone,!0);break;case"bbbbb":e=Oe(Ce.DayPeriods,Me.Narrow,Ut.Standalone,!0);break;case"B":case"BB":case"BBB":e=Oe(Ce.DayPeriods,Me.Abbreviated,Ut.Format,!0);break;case"BBBB":e=Oe(Ce.DayPeriods,Me.Wide,Ut.Format,!0);break;case"BBBBB":e=Oe(Ce.DayPeriods,Me.Narrow,Ut.Format,!0);break;case"h":e=tt(De.Hours,1,-12);break;case"hh":e=tt(De.Hours,2,-12);break;case"H":e=tt(De.Hours,1);break;case"HH":e=tt(De.Hours,2);break;case"m":e=tt(De.Minutes,1);break;case"mm":e=tt(De.Minutes,2);break;case"s":e=tt(De.Seconds,1);break;case"ss":e=tt(De.Seconds,2);break;case"S":e=tt(De.FractionalSeconds,1);break;case"SS":e=tt(De.FractionalSeconds,2);break;case"SSS":e=tt(De.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ud(Er.Short);break;case"ZZZZZ":e=Ud(Er.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ud(Er.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ud(Er.Long);break;default:return null}return jg[t]=e,e}function qD(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function xL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function RL(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=qD(e,i);return xL(t,r*(o-i))}function ML(t){if(RD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Hd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(wL))return NL(r)}let e=new Date(t);if(!RD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function NL(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function RD(t){return t instanceof Date&&!isNaN(t.valueOf())}var PL=/^(\d+)?\.((\d+)(-(\d+))?)?$/,MD=22,zd=".",nc="0",OL=";",kL=",",Bg="#",ND="\xA4";function FL(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=Ir(n,cn.Infinity);else{let l=jL(t);s&&(l=UL(l));let f=e.minInt,p=e.minFrac,y=e.maxFrac;if(o){let $=o.match(PL);if($===null)throw new Error(`${o} is not a valid digit info`);let H=$[1],ee=$[3],Te=$[5];H!=null&&(f=$g(H)),ee!=null&&(p=$g(ee)),Te!=null?y=$g(Te):ee!=null&&p>y&&(y=p)}BL(l,p,y);let g=l.digits,C=l.integerLen,P=l.exponent,N=[];for(u=g.every($=>!$);C<f;C++)g.unshift(0);for(;C<0;C++)g.unshift(0);C>0?N=g.splice(C,g.length):(N=g,g=[0]);let j=[];for(g.length>=e.lgSize&&j.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)j.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&j.unshift(g.join("")),a=j.join(Ir(n,r)),N.length&&(a+=Ir(n,i)+N.join("")),P&&(a+=Ir(n,cn.Exponential)+"+"+P)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function LL(t,e,n,r,i){let o=fL(e,$D.Currency),s=VL(o,Ir(e,cn.MinusSign));return s.minFrac=_L(r),s.maxFrac=s.minFrac,FL(t,s,e,cn.CurrencyGroup,cn.CurrencyDecimal,i).replace(ND,n).replace(ND,"").trim()}function VL(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(OL),i=r[0],o=r[1],s=i.indexOf(zd)!==-1?i.split(zd):[i.substring(0,i.lastIndexOf(nc)+1),i.substring(i.lastIndexOf(nc)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(Bg));for(let f=0;f<u.length;f++){let p=u.charAt(f);p===nc?n.minFrac=n.maxFrac=f+1:p===Bg?n.maxFrac=f+1:n.posSuf+=p}let l=a.split(kL);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let f=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Bg);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+f).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function UL(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function jL(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(zd))>-1&&(e=e.replace(zd,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===nc;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===nc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>MD&&(r=r.splice(0,MD-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function BL(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,f=r.reduceRight(function(p,y,g,C){return y=y+p,C[g]=y<10?y:y-10,u&&(C[g]===0&&g>=l?C.pop():u=!1),y>=10?1:0},0);f&&(r.unshift(f),t.integerLen++)}function $g(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function qd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Hg=/\s+/,PD=[],GD=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=PD,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Hg):PD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Hg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Hg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(W(_r),W(ui))}}static{this.\u0275dir=$e({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var zg=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Gn=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new zg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),OD(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);OD(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(W(gs),W(Id),W(Lg))}}static{this.\u0275dir=$e({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function OD(t,e){t.context.$implicit=e.item}var WD=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new qg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){kD("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){kD("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(W(gs),W(Id))}}static{this.\u0275dir=$e({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),qg=class{constructor(){this.$implicit=null,this.ngIf=null}};function kD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ft(e)}'.`)}function KD(t,e){return new q(2100,!1)}var $L="mediumDate",HL=new B(""),zL=new B(""),QD=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??$L,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return EL(n,s,o||this.locale,a)}catch(s){throw KD(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(W(tc,16),W(HL,24),W(zL,24))}}static{this.\u0275pipe=Qm({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var YD=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,s){if(!qL(n))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=yL(a,i==="symbol"?"wide":"narrow",s):a=i);try{let u=GL(n);return LL(u,s,a,r,o)}catch(u){throw KD(t,u.message)}}static{this.\u0275fac=function(r){return new(r||t)(W(tc,16),W(CD,16))}}static{this.\u0275pipe=Qm({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function qL(t){return!(t==null||t===""||t!==t)}function GL(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var JD="browser",WL="server";function ic(t){return t===WL}var ws=class{};var sc=class{},Kd=class{},Wn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Wg=class{encodeKey(e){return XD(e)}encodeValue(e){return XD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function KL(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=n.get(s)||[];u.push(a),n.set(s,u)}),n}var QL=/%(\d[a-f0-9])/gi,YL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function XD(t){return encodeURIComponent(t).replace(QL,(e,n)=>YL[n]??e)}function Gd(t){return`${t}`}var hi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Wg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=KL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Gd):[Gd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Gd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Gd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Kg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function JL(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function eT(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function tT(t){return typeof Blob<"u"&&t instanceof Blob}function nT(t){return typeof FormData<"u"&&t instanceof FormData}function ZL(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var oc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(JL(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Wn,this.context??=new Kg,!this.params)this.params=new hi,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||eT(this.body)||tT(this.body)||nT(this.body)||ZL(this.body)?this.body:this.body instanceof hi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||nT(this.body)?null:tT(this.body)?this.body.type||null:eT(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof hi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((y,g)=>y.set(g,e.setHeaders[g]),l)),e.setParams&&(f=Object.keys(e.setParams).reduce((y,g)=>y.set(g,e.setParams[g]),f)),new t(n,r,s,{params:f,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:o})}},fi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(fi||{}),ac=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Wn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Qd=class t extends ac{constructor(e={}){super(e),this.type=fi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},io=class t extends ac{constructor(e={}){super(e),this.type=fi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},di=class extends ac{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},fT=200,XL=204;function Gg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var cc=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof oc)o=n;else{let u;i.headers instanceof Wn?u=i.headers:u=new Wn(i.headers);let l;i.params&&(i.params instanceof hi?l=i.params:l=new hi({fromObject:i.params})),o=new oc(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=Z(o).pipe(Yr(u=>this.handler.handle(u)));if(n instanceof oc||i.observe==="events")return s;let a=s.pipe(Xt(u=>u instanceof io));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ie(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ie(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(ie(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new hi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Gg(i,r))}post(n,r,i={}){return this.request("POST",n,Gg(i,r))}put(n,r,i={}){return this.request("PUT",n,Gg(i,r))}static{this.\u0275fac=function(r){return new(r||t)(K(sc))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),eV=/^\)\]\}',?\n/,tV="X-Request-URL";function rT(t){if(t.url)return t.url;let e=tV.toLocaleLowerCase();return t.headers.get(e)}var nV=(()=>{class t{constructor(){this.fetchImpl=R(Qg,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=R(Se)}handle(n){return new pe(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Yg,o=>r.error(new di({error:o}))),()=>i.abort()})}doRequest(n,r,i){return I(this,null,function*(){let o=this.createRequestInit(n),s;try{let g=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,U({signal:r},o)));rV(g),i.next({type:fi.Sent}),s=yield g}catch(g){i.error(new di({error:g,status:g.status??0,statusText:g.statusText,url:n.urlWithParams,headers:g.headers}));return}let a=new Wn(s.headers),u=s.statusText,l=rT(s)??n.urlWithParams,f=s.status,p=null;if(n.reportProgress&&i.next(new Qd({headers:a,status:f,statusText:u,url:l})),s.body){let g=s.headers.get("content-length"),C=[],P=s.body.getReader(),N=0,j,$,H=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>I(this,null,function*(){for(;;){let{done:Te,value:de}=yield P.read();if(Te)break;if(C.push(de),N+=de.length,n.reportProgress){$=n.responseType==="text"?($??"")+(j??=new TextDecoder).decode(de,{stream:!0}):void 0;let b=()=>i.next({type:fi.DownloadProgress,total:g?+g:void 0,loaded:N,partialText:$});H?H.run(b):b()}}}));let ee=this.concatChunks(C,N);try{let Te=s.headers.get("Content-Type")??"";p=this.parseBody(n,ee,Te)}catch(Te){i.error(new di({error:Te,headers:new Wn(s.headers),status:s.status,statusText:s.statusText,url:rT(s)??n.urlWithParams}));return}}f===0&&(f=p?fT:0),f>=200&&f<300?(i.next(new io({body:p,headers:a,status:f,statusText:u,url:l})),i.complete()):i.error(new di({error:p,headers:a,status:f,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(eV,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((o,s)=>r[o]=s.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),o=0;for(let s of n)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),Qg=class{};function Yg(){}function rV(t){t.then(Yg,Yg)}function iV(t,e){return e(t)}function oV(t,e,n){return(r,i)=>An(n,()=>e(r,o=>t(o,i)))}var pT=new B(""),mT=new B(""),sV=new B("",{providedIn:"root",factory:()=>!0});var iT=(()=>{class t extends sc{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=R(ci),this.contributeToStability=R(sV)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(pT),...this.injector.get(mT,[])]));this.chain=r.reduceRight((i,o)=>oV(i,o,this.injector),iV)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe($i(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(K(Kd),K(Ht))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();var aV=/^\)\]\}',?\n/;function cV(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var oT=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Pe(r.\u0275loadImpl()):Z(null)).pipe(en(()=>new pe(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((P,N)=>s.setRequestHeader(P,N.join(","))),n.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let P=n.detectContentTypeHeader();P!==null&&s.setRequestHeader("Content-Type",P)}if(n.responseType){let P=n.responseType.toLowerCase();s.responseType=P!=="json"?P:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let P=s.statusText||"OK",N=new Wn(s.getAllResponseHeaders()),j=cV(s)||n.url;return u=new Qd({headers:N,status:s.status,statusText:P,url:j}),u},f=()=>{let{headers:P,status:N,statusText:j,url:$}=l(),H=null;N!==XL&&(H=typeof s.response>"u"?s.responseText:s.response),N===0&&(N=H?fT:0);let ee=N>=200&&N<300;if(n.responseType==="json"&&typeof H=="string"){let Te=H;H=H.replace(aV,"");try{H=H!==""?JSON.parse(H):null}catch(de){H=Te,ee&&(ee=!1,H={error:de,text:H})}}ee?(o.next(new io({body:H,headers:P,status:N,statusText:j,url:$||void 0})),o.complete()):o.error(new di({error:H,headers:P,status:N,statusText:j,url:$||void 0}))},p=P=>{let{url:N}=l(),j=new di({error:P,status:s.status||0,statusText:s.statusText||"Unknown Error",url:N||void 0});o.error(j)},y=!1,g=P=>{y||(o.next(l()),y=!0);let N={type:fi.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(N.total=P.total),n.responseType==="text"&&s.responseText&&(N.partialText=s.responseText),o.next(N)},C=P=>{let N={type:fi.UploadProgress,loaded:P.loaded};P.lengthComputable&&(N.total=P.total),o.next(N)};return s.addEventListener("load",f),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),n.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:fi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",f),s.removeEventListener("timeout",p),n.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(K(ws))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),gT=new B(""),uV="XSRF-TOKEN",lV=new B("",{providedIn:"root",factory:()=>uV}),dV="X-XSRF-TOKEN",hV=new B("",{providedIn:"root",factory:()=>dV}),Yd=class{},fV=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=qd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(K(Kt),K(sn),K(lV))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();function pV(t,e){let n=t.url.toLowerCase();if(!R(gT)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=R(Yd).getToken(),i=R(hV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function yT(...t){let e=[cc,oT,iT,{provide:sc,useExisting:iT},{provide:Kd,useFactory:()=>R(nV,{optional:!0})??R(oT)},{provide:pT,useValue:pV,multi:!0},{provide:gT,useValue:!0},{provide:Yd,useClass:fV}];for(let n of t)e.push(...n.\u0275providers);return zt(e)}var mV=new B(""),sT="b",aT="h",cT="s",uT="st",lT="u",dT="rt",Wd=new B(""),gV=["GET","HEAD"];function yV(t,e){let g=R(Wd),{isCacheActive:n}=g,r=nE(g,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!gV.includes(o)||!r.includeRequestsWithAuthHeaders&&vV(t)||r.filter?.(t)===!1)return e(t);let s=R(ms),a=R(mV,{optional:!0}),u=ic(R(sn));if(a&&!u)throw new q(2803,!1);let l=u&&a?EV(t.url,a):t.url,f=wV(t,l),p=s.get(f,null),y=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(y=i.includeHeaders),p){let{[sT]:C,[dT]:P,[aT]:N,[cT]:j,[uT]:$,[lT]:H}=p,ee=C;switch(P){case"arraybuffer":ee=new TextEncoder().encode(C).buffer;break;case"blob":ee=new Blob([C]);break}let Te=new Wn(N);return Z(new io({body:ee,headers:Te,status:j,statusText:$,url:H}))}return e(t).pipe(Qe(C=>{C instanceof io&&u&&s.set(f,{[sT]:C.body,[aT]:_V(C.headers,y),[cT]:C.status,[uT]:C.statusText,[lT]:l,[dT]:t.responseType})}))}function vV(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function _V(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function hT(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function wV(t,e){let{params:n,method:r,responseType:i}=t,o=hT(n),s=t.serializeBody();s instanceof URLSearchParams?s=hT(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=IV(a);return u}function IV(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function vT(t){return[{provide:Wd,useFactory:()=>($n("NgHttpTransferCache"),U({isCacheActive:!0},t))},{provide:mT,useValue:yV,multi:!0,deps:[ms,Wd]},{provide:vs,multi:!0,useFactory:()=>{let e=R(zn),n=R(Wd);return()=>{Pd(e).then(()=>{n.isCacheActive=!1})}}}]}function EV(t,e){let n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}var Xg=class extends $d{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ey=class t extends Xg{static makeCurrent(){LD(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=CV();return n==null?null:DV(n)}resetBaseElement(){uc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qd(document.cookie,e)}},uc=null;function CV(){return uc=uc||document.querySelector("base"),uc?uc.getAttribute("href"):null}function DV(t){return new URL(t,document.baseURI).pathname}var TV=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),ty=new B(""),ET=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(K(ty),K(Se))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),Jd=class{constructor(e){this._doc=e}},Jg="ng-app-id",bT=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ic(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Jg}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Jg),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Jg,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(K(Kt),K(ld),K(dg,8),K(sn))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),Zg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},iy=/%COMP%/g,CT="%COMP%",SV=`_nghost-${CT}`,AV=`_ngcontent-${CT}`,xV=!0,RV=new B("",{providedIn:"root",factory:()=>xV});function MV(t){return AV.replace(iy,t)}function NV(t){return SV.replace(iy,t)}function DT(t,e){return e.map(n=>n.replace(iy,t))}var _T=(()=>{class t{constructor(n,r,i,o,s,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=ic(a),this.defaultRenderer=new lc(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Fn.ShadowDom&&(r=ce(U({},r),{encapsulation:Fn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Zd?i.applyToHost(n):i instanceof dc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Fn.Emulated:o=new Zd(u,l,r,this.appId,f,s,a,p);break;case Fn.ShadowDom:return new ny(u,l,n,r,s,a,this.nonce,p);default:o=new dc(u,l,r,f,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(K(ET),K(bT),K(ld),K(RV),K(Kt),K(sn),K(Se),K(dg))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),lc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Zg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(wT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(wT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Zg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Zg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(gr.DashCase|gr.Important)?e.style.setProperty(n,r,i&gr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&gr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=br().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function wT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ny=class extends lc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=DT(i.id,i.styles);for(let f of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dc=class extends lc{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?DT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zd=class extends dc{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=MV(l),this.hostAttr=NV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},PV=(()=>{class t extends Jd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(K(Kt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})(),IT=["alt","control","meta","shift"],OV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},FV=(()=>{class t extends Jd{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>br().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),IT.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=OV[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),IT.forEach(s=>{if(s!==i){let a=kV[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(K(Kt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac})}}return t})();function TT(t,e){return TD(U({rootComponent:t},LV(e)))}function LV(t){return{appProviders:[...$V,...t?.providers??[]],platformProviders:BV}}function VV(){ey.makeCurrent()}function UV(){return new mr}function jV(){return Qb(document),document}var BV=[{provide:sn,useValue:JD},{provide:lg,useValue:VV,multi:!0},{provide:Kt,useFactory:jV,deps:[]}];var $V=[{provide:nd,useValue:"root"},{provide:mr,useFactory:UV,deps:[]},{provide:ty,useClass:PV,multi:!0,deps:[Kt,Se,sn]},{provide:ty,useClass:FV,multi:!0,deps:[Kt]},_T,bT,ET,{provide:ls,useExisting:_T},{provide:ws,useClass:TV,deps:[]},[]];var ST=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(K(Kt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ry=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(ry||{});function AT(...t){let e=[],n=new Set,r=n.has(ry.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return zt([[],SD(),n.has(ry.NoHttpTransferCache)||r?[]:vT({}),e])}var se="primary",Sc=Symbol("RouteTitle"),uy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ss(t){return new uy(t)}function zV(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function qV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Kn(t[n],e[n]))return!1;return!0}function Kn(t,e){let n=t?ly(t):void 0,r=e?ly(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!FT(t[i],e[i]))return!1;return!0}function ly(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function FT(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function LT(t){return t.length>0?t[t.length-1]:null}function mi(t){return Sp(t)?t:to(t)?Pe(Promise.resolve(t)):Z(t)}var GV={exact:UT,subset:jT},VT={exact:WV,subset:KV,ignored:()=>!0};function xT(t,e,n){return GV[n.paths](t.root,e.root,n.matrixParams)&&VT[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function WV(t,e){return Kn(t,e)}function UT(t,e,n){if(!so(t.segments,e.segments)||!th(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!UT(t.children[r],e.children[r],n))return!1;return!0}function KV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>FT(t[n],e[n]))}function jT(t,e,n){return BT(t,e,e.segments,n)}function BT(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!so(i,n)||e.hasChildren()||!th(i,n,r))}else if(t.segments.length===n.length){if(!so(t.segments,n)||!th(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!jT(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!so(t.segments,i)||!th(t.segments,i,r)||!t.children[se]?!1:BT(t.children[se],e,o,r)}}function th(t,e,n){return e.every((r,i)=>VT[n](t[i].parameters,r.parameters))}var Dr=class{constructor(e=new Ae([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ss(this.queryParams),this._queryParamMap}toString(){return JV.serialize(this)}},Ae=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nh(this)}},oo=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ss(this.parameters),this._parameterMap}toString(){return HT(this)}};function QV(t,e){return so(t,e)&&t.every((n,r)=>Kn(n.parameters,e[r].parameters))}function so(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function YV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}var Fy=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>new vc,providedIn:"root"})}}return t})(),vc=class{parse(e){let n=new hy(e);return new Dr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${hc(e.root,!0)}`,r=e2(e.queryParams),i=typeof e.fragment=="string"?`#${ZV(e.fragment)}`:"";return`${n}${r}${i}`}},JV=new vc;function nh(t){return t.segments.map(e=>HT(e)).join("/")}function hc(t,e){if(!t.hasChildren())return nh(t);if(e){let n=t.children[se]?hc(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${hc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=YV(t,(r,i)=>i===se?[hc(t.children[se],!1)]:[`${i}:${hc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[se]!=null?`${nh(t)}/${n[0]}`:`${nh(t)}/(${n.join("//")})`}}function $T(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xd(t){return $T(t).replace(/%3B/gi,";")}function ZV(t){return encodeURI(t)}function dy(t){return $T(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rh(t){return decodeURIComponent(t)}function RT(t){return rh(t.replace(/\+/g,"%20"))}function HT(t){return`${dy(t.path)}${XV(t.parameters)}`}function XV(t){return Object.entries(t).map(([e,n])=>`;${dy(e)}=${dy(n)}`).join("")}function e2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Xd(n)}=${Xd(i)}`).join("&"):`${Xd(n)}=${Xd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var t2=/^[^\/()?;#]+/;function oy(t){let e=t.match(t2);return e?e[0]:""}var n2=/^[^\/()?;=#]+/;function r2(t){let e=t.match(n2);return e?e[0]:""}var i2=/^[^=?&#]+/;function o2(t){let e=t.match(i2);return e?e[0]:""}var s2=/^[^&#]+/;function a2(t){let e=t.match(s2);return e?e[0]:""}var hy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new Ae(e,n)),r}parseSegment(){let e=oy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new oo(rh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=r2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=oy(this.remaining);i&&(r=i,this.capture(r))}e[rh(n)]=rh(r)}parseQueryParam(e){let n=o2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=a2(this.remaining);s&&(r=s,this.capture(r))}let i=RT(n),o=RT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=oy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=se);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[se]:new Ae([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function zT(t){return t.segments.length>0?new Ae([],{[se]:t}):t}function qT(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=qT(i);if(r===se&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ae(t.segments,e);return c2(n)}function c2(t){if(t.numberOfChildren===1&&t.children[se]){let e=t.children[se];return new Ae(t.segments.concat(e.segments),e.children)}return t}function ao(t){return t instanceof Dr}function u2(t,e,n=null,r=null){let i=GT(t);return WT(i,e,n,r)}function GT(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ae(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=zT(r);return e??i}function WT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return sy(i,i,i,n,r);let o=l2(e);if(o.toRoot())return sy(i,i,new Ae([],{}),n,r);let s=d2(o,i,t),a=s.processChildren?mc(s.segmentGroup,s.index,o.commands):QT(s.segmentGroup,s.index,o.commands);return sy(i,s.segmentGroup,a,n,r)}function ih(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function _c(t){return typeof t=="object"&&t!=null&&t.outlets}function sy(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=KT(t,e,n);let a=zT(qT(s));return new Dr(a,o,i)}function KT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=KT(o,e,n)}),new Ae(t.segments,r)}var oh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ih(r[0]))throw new q(4003,!1);let i=r.find(_c);if(i&&i!==LT(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function l2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new oh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new oh(n,e,r)}var Cs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function d2(t,e,n){if(t.isAbsolute)return new Cs(e,!0,0);if(!n)return new Cs(e,!1,NaN);if(n.parent===null)return new Cs(n,!0,0);let r=ih(t.commands[0])?0:1,i=n.segments.length-1+r;return h2(n,i,t.numberOfDoubleDots)}function h2(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new Cs(r,!1,i-o)}function f2(t){return _c(t[0])?t[0].outlets:{[se]:t}}function QT(t,e,n){if(t??=new Ae([],{}),t.segments.length===0&&t.hasChildren())return mc(t,e,n);let r=p2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ae(t.segments.slice(0,r.pathIndex),{});return o.children[se]=new Ae(t.segments.slice(r.pathIndex),t.children),mc(o,0,i)}else return r.match&&i.length===0?new Ae(t.segments,{}):r.match&&!t.hasChildren()?fy(t,e,n):r.match?mc(t,0,i):fy(t,e,n)}function mc(t,e,n){if(n.length===0)return new Ae(t.segments,{});{let r=f2(n),i={};if(Object.keys(r).some(o=>o!==se)&&t.children[se]&&t.numberOfChildren===1&&t.children[se].segments.length===0){let o=mc(t.children[se],e,n);return new Ae(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=QT(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ae(t.segments,i)}}function p2(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(_c(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!NT(u,l,s))return o;r+=2}else{if(!NT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function fy(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(_c(o)){let u=m2(o.outlets);return new Ae(r,u)}if(i===0&&ih(n[0])){let u=t.segments[e];r.push(new oo(u.path,MT(n[0]))),i++;continue}let s=_c(o)?o.outlets[se]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ih(a)?(r.push(new oo(s,MT(a))),i+=2):(r.push(new oo(s,{})),i++)}return new Ae(r,{})}function m2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=fy(new Ae([],{}),0,r))}),e}function MT(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function NT(t,e,n){return t==n.path&&Kn(e,n.parameters)}var gc="imperative",yt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(yt||{}),yn=class{constructor(e,n){this.id=e,this.url=n}},wc=class extends yn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=yt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pi=class extends yn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=yt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ln=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ln||{}),py=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(py||{}),Cr=class extends yn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=yt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},co=class extends yn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=yt.NavigationSkipped}},Ic=class extends yn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=yt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sh=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},my=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gy=class extends yn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=yt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yy=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vy=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_y=class{constructor(e){this.route=e,this.type=yt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},wy=class{constructor(e){this.route=e,this.type=yt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Iy=class{constructor(e){this.snapshot=e,this.type=yt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ey=class{constructor(e){this.snapshot=e,this.type=yt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},by=class{constructor(e){this.snapshot=e,this.type=yt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cy=class{constructor(e){this.snapshot=e,this.type=yt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ec=class{},As=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function g2(t,e){return t.providers&&!t._injector&&(t._injector=xg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Nn(t){return t.outlet||se}function y2(t,e){let n=t.filter(r=>Nn(r)===e);return n.push(...t.filter(r=>Nn(r)!==e)),n}function Ac(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Dy=class{get injector(){return Ac(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new fh(this.rootInjector),this.attachRef=null}},fh=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Dy(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(K(Ht))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ah=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ty(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ty(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Sy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Sy(e,this._root).map(n=>n.value)}};function Ty(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ty(t,n);if(r)return r}return null}function Sy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Sy(t,n);if(r.length)return r.unshift(e),r}return[]}var un=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function bs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ch=class extends ah{constructor(e,n){super(e),this.snapshot=n,Ly(this,e)}toString(){return this.snapshot.toString()}};function YT(t){let e=v2(t),n=new gt([new oo("",{})]),r=new gt({}),i=new gt({}),o=new gt({}),s=new gt(""),a=new Tr(n,r,o,s,i,se,t,e.root);return a.snapshot=e.root,new ch(new un(a,[]),e)}function v2(t){let e={},n={},r={},i="",o=new Ds([],e,r,i,n,se,t,null,{});return new lh("",new un(o,[]))}var Tr=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[Sc]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>Ss(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>Ss(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function uh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&ZT(i)&&(r.resolve[Sc]=i.title),r}var Ds=class{get title(){return this.data?.[Sc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ss(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ss(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},lh=class extends ah{constructor(e,n){super(n),this.url=e,Ly(this,n)}toString(){return JT(this._root)}};function Ly(t,e){e.value._routerState=t,e.children.forEach(n=>Ly(t,n))}function JT(t){let e=t.children.length>0?` { ${t.children.map(JT).join(", ")} } `:"";return`${t.value}${e}`}function ay(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Kn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Kn(e.params,n.params)||t.paramsSubject.next(n.params),qV(e.url,n.url)||t.urlSubject.next(n.url),Kn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ay(t,e){let n=Kn(t.params,e.params)&&QV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Ay(t.parent,e.parent))}function ZT(t){return typeof t.title=="string"||t.title===null}var Vy=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.parentContexts=R(fh),this.location=R(gs),this.changeDetector=R(no),this.inputBinder=R(Uy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new xy(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=$e({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jn]})}}return t})(),xy=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Tr?this.route:e===fh?this.childContexts:this.parent.get(e,n)}},Uy=new B("");function _2(t,e,n){let r=bc(t,e._root,n?n._root:void 0);return new ch(r,e)}function bc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=w2(t,e,n);return new un(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>bc(t,a)),s}}let r=I2(e.value),i=e.children.map(o=>bc(t,o));return new un(r,i)}}function w2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return bc(t,r,i);return bc(t,r)})}function I2(t){return new Tr(new gt(t.url),new gt(t.params),new gt(t.queryParams),new gt(t.fragment),new gt(t.data),t.outlet,t.component,t)}var Cc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},XT="ngNavigationCancelingError";function dh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ao(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=eS(!1,ln.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function eS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[XT]=!0,n.cancellationCode=e,n}function E2(t){return tS(t)&&ao(t.url)}function tS(t){return!!t&&t[XT]}var b2=(t,e,n,r)=>ie(i=>(new Ry(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ry=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ay(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=bs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=bs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=bs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=bs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Cy(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ey(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(ay(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ay(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},hh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ts=class{constructor(e,n){this.component=e,this.route=n}};function C2(t,e,n){let r=t._root,i=e?e._root:null;return fc(r,i,n,[r.value])}function D2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Rs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!N0(t)?t:e.get(t):r}function fc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=bs(e);return t.children.forEach(s=>{T2(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>yc(a,n.getContext(s),i)),i}function T2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=S2(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new hh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?fc(t,e,a?a.children:null,r,i):fc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ts(a.outlet.component,s))}else s&&yc(e,a,i),i.canActivateChecks.push(new hh(r)),o.component?fc(t,null,a?a.children:null,r,i):fc(t,null,n,r,i);return i}function S2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!so(t.url,e.url);case"pathParamsOrQueryParamsChange":return!so(t.url,e.url)||!Kn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ay(t,e)||!Kn(t.queryParams,e.queryParams);case"paramsChange":default:return!Ay(t,e)}}function yc(t,e,n){let r=bs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?yc(s,e.children.getContext(o),n):yc(s,null,n):yc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ts(e.outlet.component,i)):n.canDeactivateChecks.push(new Ts(null,i)):n.canDeactivateChecks.push(new Ts(null,i))}function xc(t){return typeof t=="function"}function A2(t){return typeof t=="boolean"}function x2(t){return t&&xc(t.canLoad)}function R2(t){return t&&xc(t.canActivate)}function M2(t){return t&&xc(t.canActivateChild)}function N2(t){return t&&xc(t.canDeactivate)}function P2(t){return t&&xc(t.canMatch)}function nS(t){return t instanceof dr||t?.name==="EmptyError"}var eh=Symbol("INITIAL_VALUE");function xs(){return en(t=>al(t.map(e=>e.pipe(hr(1),Pp(eh)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===eh)return eh;if(n===!1||O2(n))return n}return!0}),Xt(e=>e!==eh),hr(1)))}function O2(t){return ao(t)||t instanceof Cc}function k2(t,e){return at(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Z(ce(U({},n),{guardsResult:!0})):F2(s,r,i,t).pipe(at(a=>a&&A2(a)?L2(r,o,t,e):Z(a)),ie(a=>ce(U({},n),{guardsResult:a})))})}function F2(t,e,n,r){return Pe(t).pipe(at(i=>$2(i.component,i.route,n,e,r)),En(i=>i!==!0,!0))}function L2(t,e,n,r){return Pe(e).pipe(Yr(i=>Wo(U2(i.route.parent,r),V2(i.route,r),B2(t,i.path,n),j2(t,i.route,n))),En(i=>i!==!0,!0))}function V2(t,e){return t!==null&&e&&e(new by(t)),Z(!0)}function U2(t,e){return t!==null&&e&&e(new Iy(t)),Z(!0)}function j2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>cl(()=>{let s=Ac(e)??n,a=Rs(o,s),u=R2(a)?a.canActivate(e,t):An(s,()=>a(e,t));return mi(u).pipe(En())}));return Z(i).pipe(xs())}function B2(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>D2(s)).filter(s=>s!==null).map(s=>cl(()=>{let a=s.guards.map(u=>{let l=Ac(s.node)??n,f=Rs(u,l),p=M2(f)?f.canActivateChild(r,t):An(l,()=>f(r,t));return mi(p).pipe(En())});return Z(a).pipe(xs())}));return Z(o).pipe(xs())}function $2(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{let u=Ac(e)??i,l=Rs(a,u),f=N2(l)?l.canDeactivate(t,e,n,r):An(u,()=>l(t,e,n,r));return mi(f).pipe(En())});return Z(s).pipe(xs())}function H2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=Rs(s,t),u=x2(a)?a.canLoad(e,n):An(t,()=>a(e,n));return mi(u)});return Z(o).pipe(xs(),rS(r))}function rS(t){return _p(Qe(e=>{if(typeof e!="boolean")throw dh(t,e)}),ie(e=>e===!0))}function z2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=Rs(s,t),u=P2(a)?a.canMatch(e,n):An(t,()=>a(e,n));return mi(u)});return Z(o).pipe(xs(),rS(r))}var Dc=class{constructor(e){this.segmentGroup=e||null}},Tc=class extends Error{constructor(e){super(),this.urlTree=e}};function Es(t){return Go(new Dc(t))}function q2(t){return Go(new q(4e3,!1))}function G2(t){return Go(eS(!1,ln.GuardRejected))}var My=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[se])return q2(`${e.redirectTo}`);i=i.children[se]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,params:g,data:C,title:P}=i,N=An(o,()=>a({params:g,data:C,queryParams:u,fragment:l,routeConfig:f,url:p,outlet:y,title:P}));if(N instanceof Dr)throw new Tc(N);n=N}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Tc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Dr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ae(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ny={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function W2(t,e,n,r,i){let o=iS(t,e,n);return o.matched?(r=g2(e,r),z2(r,e,n,i).pipe(ie(s=>s===!0?o:U({},Ny)))):Z(o)}function iS(t,e,n){if(e.path==="**")return K2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},Ny):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||zV)(n,t,e);if(!i)return U({},Ny);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function K2(t){return{matched:!0,parameters:t.length>0?LT(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function PT(t,e,n,r){return n.length>0&&J2(t,n,r)?{segmentGroup:new Ae(e,Y2(r,new Ae(n,t.children))),slicedSegments:[]}:n.length===0&&Z2(t,n,r)?{segmentGroup:new Ae(t.segments,Q2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ae(t.segments,t.children),slicedSegments:n}}function Q2(t,e,n,r){let i={};for(let o of n)if(ph(t,e,o)&&!r[Nn(o)]){let s=new Ae([],{});i[Nn(o)]=s}return U(U({},r),i)}function Y2(t,e){let n={};n[se]=e;for(let r of t)if(r.path===""&&Nn(r)!==se){let i=new Ae([],{});n[Nn(r)]=i}return n}function J2(t,e,n){return n.some(r=>ph(t,e,r)&&Nn(r)!==se)}function Z2(t,e,n){return n.some(r=>ph(t,e,r))}function ph(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function X2(t,e,n){return e.length===0&&!t.children[n]}var Py=class{};function eU(t,e,n,r,i,o,s="emptyOnly"){return new Oy(t,e,n,r,i,s,o).recognize()}var tU=31,Oy=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new My(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=PT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:n,rootSnapshot:r})=>{let i=new un(r,n),o=new lh("",i),s=u2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ds([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,se,n).pipe(ie(r=>({children:r,rootSnapshot:n})),Qr(r=>{if(r instanceof Tc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Dc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof un?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Pe(o).pipe(Yr(s=>{let a=r.children[s],u=y2(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Np((s,a)=>(s.push(...a),s)),Jr(null),Mp(),at(s=>{if(s===null)return Es(r);let a=oS(s);return nU(a),Z(a)}))}processSegment(e,n,r,i,o,s,a){return Pe(n).pipe(Yr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Qr(l=>{if(l instanceof Dc)return Z(null);throw l}))),En(u=>!!u),Qr(u=>{if(nS(u))return X2(r,i,o)?Z(new Py):Es(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Nn(r)!==s&&(s===se||!ph(i,o,r))?Es(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Es(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:y}=iS(n,i,o);if(!u)return Es(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tU&&(this.allowRedirects=!1));let g=new Ds(o,l,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,OT(i),Nn(i),i.component??i._loadedComponent??null,i,kT(i)),C=uh(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(C.params),g.data=Object.freeze(C.data);let P=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,g,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(at(N=>this.processSegment(e,r,n,N.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=W2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(en(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(en(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:y,remainingSegments:g}=u,C=new Ds(y,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,OT(r),Nn(r),r.component??r._loadedComponent??null,r,kT(r)),P=uh(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(P.params),C.data=Object.freeze(P.data);let{segmentGroup:N,slicedSegments:j}=PT(n,y,g,l);if(j.length===0&&N.hasChildren())return this.processChildren(f,l,N,C).pipe(ie(H=>new un(C,H)));if(l.length===0&&j.length===0)return Z(new un(C,[]));let $=Nn(r)===o;return this.processSegment(f,l,N,j,$?se:o,!0,C).pipe(ie(H=>new un(C,H instanceof un?[H]:[])))}))):Es(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):H2(e,n,r,this.urlSerializer).pipe(at(i=>i?this.configLoader.loadChildren(e,n).pipe(Qe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):G2(n))):Z({routes:[],injector:e})}};function nU(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}function rU(t){let e=t.value.routeConfig;return e&&e.path===""}function oS(t){let e=[],n=new Set;for(let r of t){if(!rU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=oS(r.children);e.push(new un(r.value,i))}return e.filter(r=>!n.has(r))}function OT(t){return t.data||{}}function kT(t){return t.resolve||{}}function iU(t,e,n,r,i,o){return at(s=>eU(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:u})=>ce(U({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function oU(t,e){return at(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of sS(u))s.add(l);let a=0;return Pe(s).pipe(Yr(u=>o.has(u)?sU(u,r,t,e):(u.data=uh(u,u.parent,t).resolve,Z(void 0))),Qe(()=>a++),Ko(1),at(u=>a===s.size?Z(n):Zt))})}function sS(t){let e=t.children.map(n=>sS(n)).flat();return[t,...e]}function sU(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!ZT(i)&&(o[Sc]=i.title),aU(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=uh(t,t.parent,n).resolve,null)))}function aU(t,e,n,r){let i=ly(t);if(i.length===0)return Z({});let o={};return Pe(i).pipe(at(s=>cU(t[s],e,n,r).pipe(En(),Qe(a=>{if(a instanceof Cc)throw dh(new vc,a);o[s]=a}))),Ko(1),Rp(o),Qr(s=>nS(s)?Zt:Go(s)))}function cU(t,e,n,r){let i=Ac(e)??r,o=Rs(t,i),s=o.resolve?o.resolve(e,n):An(i,()=>o(e,n));return mi(s)}function cy(t){return en(e=>{let n=t(e);return n?Pe(n).pipe(ie(()=>e)):Z(e)})}var aS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(n){return n.data[Sc]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>R(uU),providedIn:"root"})}}return t})(),uU=(()=>{class t extends aS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(K(ST))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jy=new B("",{providedIn:"root",factory:()=>({})}),lU=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=je({type:t,selectors:[["ng-component"]],standalone:!0,features:[Be],decls:1,vars:0,template:function(r,i){r&1&&J(0,"router-outlet")},dependencies:[Vy],encapsulation:2})}}return t})();function By(t){let e=t.children&&t.children.map(By),n=e?ce(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=lU),n}var $y=new B(""),dU=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=R(Fg)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=mi(n.loadComponent()).pipe(ie(cS),Qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),$i(()=>{this.componentLoaders.delete(n)})),i=new $o(r,()=>new ut).pipe(Bo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=hU(r,this.compiler,n,this.onLoadEndListener).pipe($i(()=>{this.childrenLoaders.delete(r)})),s=new $o(o,()=>new ut).pipe(Bo());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function hU(t,e,n,r){return mi(t.loadChildren()).pipe(ie(cS),at(i=>i instanceof Ha||Array.isArray(i)?Z(i):Pe(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get($y,[],{optional:!0,self:!0}).flat()),{routes:s.map(By),injector:o}}))}function fU(t){return t&&typeof t=="object"&&"default"in t}function cS(t){return fU(t)?t.default:t}var Hy=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>R(pU),providedIn:"root"})}}return t})(),pU=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mU=new B("");var gU=new B(""),yU=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ut,this.transitionAbortSubject=new ut,this.configLoader=R(dU),this.environmentInjector=R(Ht),this.urlSerializer=R(Fy),this.rootContexts=R(fh),this.location=R(rc),this.inputBindingEnabled=R(Uy,{optional:!0})!==null,this.titleStrategy=R(aS),this.options=R(jy,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=R(Hy),this.createViewTransition=R(mU,{optional:!0}),this.navigationErrorHandler=R(gU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let n=i=>this.events.next(new _y(i)),r=i=>this.events.next(new wy(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ce(U(U({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new gt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:gc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xt(o=>o.id!==0),ie(o=>ce(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),en(o=>{let s=!1,a=!1;return Z(o).pipe(en(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ln.SupersededByNewNavigation),Zt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ce(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&f!=="reload"){let p="";return this.events.next(new co(u.id,this.urlSerializer.serialize(u.rawUrl),p,py.IgnoredSameUrlNavigation)),u.resolve(!1),Zt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Z(u).pipe(en(p=>{let y=this.transitions?.getValue();return this.events.next(new wc(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?Zt:Promise.resolve(p)}),iU(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ce(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new sh(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:y,source:g,restoredState:C,extras:P}=u,N=new wc(p,this.urlSerializer.serialize(y),g,C);this.events.next(N);let j=YT(this.rootComponentType).snapshot;return this.currentTransition=o=ce(U({},u),{targetSnapshot:j,urlAfterRedirects:y,extras:ce(U({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,Z(o)}else{let p="";return this.events.next(new co(u.id,this.urlSerializer.serialize(u.extractedUrl),p,py.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Zt}}),Qe(u=>{let l=new my(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ie(u=>(this.currentTransition=o=ce(U({},u),{guards:C2(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),k2(this.environmentInjector,u=>this.events.next(u)),Qe(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw dh(this.urlSerializer,u.guardsResult);let l=new gy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Xt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",ln.GuardRejected),!1)),cy(u=>{if(u.guards.canActivateChecks.length)return Z(u).pipe(Qe(l=>{let f=new yy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),en(l=>{let f=!1;return Z(l).pipe(oU(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",ln.NoDataFromResolver)}}))}),Qe(l=>{let f=new vy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),cy(u=>{let l=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Qe(y=>{f.component=y}),ie(()=>{})));for(let y of f.children)p.push(...l(y));return p};return al(l(u.targetSnapshot.root)).pipe(Jr(null),hr(1))}),cy(()=>this.afterPreactivation()),en(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?Pe(f).pipe(ie(()=>o)):Z(o)}),ie(u=>{let l=_2(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ce(U({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Qe(()=>{this.events.next(new Ec)}),b2(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),hr(1),Qe({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new pi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Op(this.transitionAbortSubject.pipe(Qe(u=>{throw u}))),$i(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ln.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Qr(u=>{if(a=!0,tS(u))this.events.next(new Cr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),E2(u)?this.events.next(new As(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let l=new Ic(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let f=An(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(f instanceof Cc){let{message:p,cancellationCode:y}=dh(this.urlSerializer,f);this.events.next(new Cr(o.id,this.urlSerializer.serialize(o.extractedUrl),p,y)),this.events.next(new As(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);o.resolve(!!p)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Zt}))}))}cancelNavigationTransition(n,r,i){let o=new Cr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vU(t){return t!==gc}var _U=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>R(wU),providedIn:"root"})}}return t})(),ky=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},wU=(()=>{class t extends ky{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=vr(t)))(i||t)}})()}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),uS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:()=>R(IU),providedIn:"root"})}}return t})(),IU=(()=>{class t extends uS{constructor(){super(...arguments),this.location=R(rc),this.urlSerializer=R(Fy),this.options=R(jy,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=R(Hy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Dr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=YT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof wc)this.stateMemento=this.createStateMemento();else if(n instanceof co)this.rawUrlTree=r.initialUrl;else if(n instanceof sh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Ec?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Cr&&(n.code===ln.GuardRejected||n.code===ln.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ic?this.restoreHistory(r,!0):n instanceof pi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Dr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=U(U({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=vr(t)))(i||t)}})()}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(pc||{});function EU(t,e){t.events.pipe(Xt(n=>n instanceof pi||n instanceof Cr||n instanceof Ic||n instanceof co),ie(n=>n instanceof pi||n instanceof co?pc.COMPLETE:(n instanceof Cr?n.code===ln.Redirect||n.code===ln.SupersededByNewNavigation:!1)?pc.REDIRECTING:pc.FAILED),Xt(n=>n!==pc.REDIRECTING),hr(1)).subscribe(()=>{e()})}function bU(t){throw t}var CU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},DU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},vt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=R(Nd),this.stateManager=R(uS),this.options=R(jy,{optional:!0})||{},this.pendingTasks=R(ci),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=R(yU),this.urlSerializer=R(Fy),this.location=R(rc),this.urlHandlingStrategy=R(Hy),this._events=new ut,this.errorHandler=this.options.errorHandler||bU,this.navigated=!1,this.routeReuseStrategy=R(_U),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=R($y,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!R(Uy,{optional:!0}),this.eventsSubscription=new Ke,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Cr&&r.code!==ln.Redirect&&r.code!==ln.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof pi)this.navigated=!0;else if(r instanceof As){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vU(i.source)},s);this.scheduleNavigation(a,gc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}SU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=U({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(By),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=GT(y)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return WT(p,n,f,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ao(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,gc,null,r)}navigate(n,r={skipLocationChange:!1}){return TU(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=U({},CU):r===!1?i=U({},DU):i=r,ao(n))return xT(this.currentUrlTree,n,i);let o=this.parseUrl(n);return xT(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{a=p,u=y});let f=this.pendingTasks.add();return EU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function TU(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new q(4008,!1)}function SU(t){return!(t instanceof Ec)&&!(t instanceof As)}var gi=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new ut,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof pi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ao(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:sC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:ao(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(W(vt),W(Tr),ag("tabindex"),W(ui),W(_r),W(Is))}}static{this.\u0275dir=$e({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&me("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&eo("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",li],skipLocationChange:[2,"skipLocationChange","skipLocationChange",li],replaceUrl:[2,"replaceUrl","replaceUrl",li],routerLink:"routerLink"},standalone:!0,features:[Ag,jn]})}}return t})();var AU=new B("");function lS(t,...e){return zt([{provide:$y,multi:!0,useValue:t},[],{provide:Tr,useFactory:xU,deps:[vt]},{provide:vs,multi:!0,useFactory:RU},e.map(n=>n.\u0275providers)])}function xU(t){return t.routerState.root}function RU(){let t=R(Tt);return e=>{let n=t.get(zn);if(e!==n.components[0])return;let r=t.get(vt),i=t.get(MU);t.get(NU)===1&&r.initialNavigation(),t.get(PU,null,ue.Optional)?.setUpPreloading(),t.get(AU,null,ue.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var MU=new B("",{factory:()=>new ut}),NU=new B("",{providedIn:"root",factory:()=>1});var PU=new B("");var OU=t=>["/produits",t];function kU(t,e){if(t&1){let n=lt();A(0,"button",9),me("click",function(){He(n);let i=ae();return ze(i.ajouter())}),O(1,"Ajouter au panier"),D()}}var hS=(()=>{class t{constructor(){this.prodselected=new Ue}ajouter(){this.prodselected.emit(this.product)}get State(){return this.product.stock===0?"EN RUPTURE DE STOCK":"EN STOCK"}get Col(){return this.product.stock===0?"red":"green"}get stock(){return this.product.stock!==0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-item"]],inputs:{product:"product"},outputs:{prodselected:"prodselected"},standalone:!0,features:[Be],decls:13,vars:11,consts:[[1,"card","border-0","bg-light","mb-4","shadow-sm","product-card"],[1,"card-body","d-flex","flex-column"],[1,"product-link",3,"routerLink"],["alt","Product Image",1,"img-fluid","mb-3","product-image",3,"src"],[1,"product-category","text-center","mt-2"],[1,"card-title","text-center","mt-2"],[1,"card-price","text-primary","mb-2"],[1,"d-block","text-center"],[1,"btn","btn-orange","mt-auto"],[1,"btn","btn-orange","mt-auto",3,"click"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"div",1)(2,"a",2),J(3,"img",3),D(),A(4,"h6",4),O(5),D(),A(6,"h5",5),O(7),D(),A(8,"h5",6),O(9),D(),A(10,"p",7),O(11),D(),le(12,kU,2,0,"button",8),D()()),r&2&&(k(2),Y("routerLink",Rd(9,OU,i.product.id)),k(),Y("src",i.product.images[0],Bn),k(2),Ge(i.product.category),k(2),Ge(i.product.title),k(2),Ve("",i.product.price,"$"),k(),Dd("color",i.Col),k(),Ge(i.State),k(),Gt(i.stock?12:-1))},dependencies:[gi],styles:[".product-card[_ngcontent-%COMP%]{width:100%;height:450px;display:flex;flex-direction:column}.product-image[_ngcontent-%COMP%]{height:200px;object-fit:cover}.card-price[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700}.product-category[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px}.product-description[_ngcontent-%COMP%]{height:60px;overflow:hidden;text-overflow:ellipsis}.card-title[_ngcontent-%COMP%]{height:40px;overflow:hidden;text-overflow:ellipsis}.btn[_ngcontent-%COMP%]{align-self:center;margin-top:auto}.btn-orange[_ngcontent-%COMP%]{background-color:#ff5722;border:none;color:#fff}.btn-orange[_ngcontent-%COMP%]:hover{background-color:#e64a19}"]})}}return t})();var pS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},mS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,g=l&63;u||(g=64,s||(y=64)),r.push(n[f],n[p],n[y],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new qy;let y=o<<2|a>>4;if(r.push(y),l!==64){let g=a<<4&240|l>>2;if(r.push(g),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},qy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},LU=function(t){let e=pS(t);return mS.encodeByteArray(e,!0)},Rc=function(t){return LU(t).replace(/\./g,"")},Wy=function(t){try{return mS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var UU=()=>VU().__FIREBASE_DEFAULTS__,jU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Wy(t[1]);return e&&JSON.parse(e)},gh=()=>{try{return UU()||jU()||BU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ky=t=>{var e,n;return(n=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gS=t=>{let e=Ky(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qy=()=>{var t;return(t=gh())===null||t===void 0?void 0:t.config},Yy=t=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${t}`]};var mh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function yS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rc(JSON.stringify(n)),Rc(JSON.stringify(s)),""].join(".")}function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function $U(){var t;let e=(t=gh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _S(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function IS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ES(){let t=dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bS(){return!$U()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jy(){try{return typeof indexedDB=="object"}catch{return!1}}function CS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var HU="FirebaseError",dn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sr.prototype.create)}},Sr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?zU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new dn(i,a,r)}};function zU(t,e){return t.replace(qU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var qU=/\{\$([^}]+)}/g;function DS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(fS(o)&&fS(s)){if(!uo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function fS(t){return t!==null&&typeof t=="object"}function Mc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ms(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ns(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TS(t,e){let n=new Gy(t,e);return n.subscribe.bind(n)}var Gy=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zy),i.error===void 0&&(i.error=zy),i.complete===void 0&&(i.complete=zy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function GU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zy(){}var P7=4*60*60*1e3;function Qt(t){return t&&t._delegate?t._delegate:t}var vn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var lo="[DEFAULT]";var Zy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new mh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KU(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function WU(t){return t===lo?void 0:t}function KU(t){return t.instantiationMode==="EAGER"}var yh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Zy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var QU=[],ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{}),YU={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},JU=ve.INFO,ZU={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},XU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=ZU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},yi=class{constructor(e){this.name=e,this._logLevel=JU,this._logHandler=XU,this._userLogHandler=null,QU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var ej=(t,e)=>e.some(n=>t instanceof n),SS,AS;function tj(){return SS||(SS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nj(){return AS||(AS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var xS=new WeakMap,ev=new WeakMap,RS=new WeakMap,Xy=new WeakMap,nv=new WeakMap;function rj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Qn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&xS.set(n,t)}).catch(()=>{}),nv.set(e,t),e}function ij(t){if(ev.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ev.set(t,e)}var tv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ev.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MS(t){tv=t(tv)}function oj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(vh(this),e,...n);return RS.set(r,e.sort?e.sort():[e]),Qn(r)}:nj().includes(t)?function(...e){return t.apply(vh(this),e),Qn(xS.get(this))}:function(...e){return Qn(t.apply(vh(this),e))}}function sj(t){return typeof t=="function"?oj(t):(t instanceof IDBTransaction&&ij(t),ej(t,tj())?new Proxy(t,tv):t)}function Qn(t){if(t instanceof IDBRequest)return rj(t);if(Xy.has(t))return Xy.get(t);let e=sj(t);return e!==t&&(Xy.set(t,e),nv.set(e,t)),e}var vh=t=>nv.get(t);function PS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Qn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Qn(s.result),u.oldVersion,u.newVersion,Qn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var aj=["get","getKey","getAll","getAllKeys","count"],cj=["put","add","delete","clear"],rv=new Map;function NS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rv.get(e))return rv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=cj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aj.includes(n)))return;let o=function(s,...a){return I(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return rv.set(e,o),o}MS(t=>ce(U({},t),{get:(e,n,r)=>NS(e,n)||t.get(e,n,r),has:(e,n)=>!!NS(e,n)||t.has(e,n)}));var ov=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function uj(t){let e=t.getComponent();return e?.type==="VERSION"}var sv="@firebase/app",OS="0.10.13";var Ar=new yi("@firebase/app"),lj="@firebase/app-compat",dj="@firebase/analytics-compat",hj="@firebase/analytics",fj="@firebase/app-check-compat",pj="@firebase/app-check",mj="@firebase/auth",gj="@firebase/auth-compat",yj="@firebase/database",vj="@firebase/data-connect",_j="@firebase/database-compat",wj="@firebase/functions",Ij="@firebase/functions-compat",Ej="@firebase/installations",bj="@firebase/installations-compat",Cj="@firebase/messaging",Dj="@firebase/messaging-compat",Tj="@firebase/performance",Sj="@firebase/performance-compat",Aj="@firebase/remote-config",xj="@firebase/remote-config-compat",Rj="@firebase/storage",Mj="@firebase/storage-compat",Nj="@firebase/firestore",Pj="@firebase/vertexai-preview",Oj="@firebase/firestore-compat",kj="firebase",Fj="10.14.1";var av="[DEFAULT]",Lj={[sv]:"fire-core",[lj]:"fire-core-compat",[hj]:"fire-analytics",[dj]:"fire-analytics-compat",[pj]:"fire-app-check",[fj]:"fire-app-check-compat",[mj]:"fire-auth",[gj]:"fire-auth-compat",[yj]:"fire-rtdb",[vj]:"fire-data-connect",[_j]:"fire-rtdb-compat",[wj]:"fire-fn",[Ij]:"fire-fn-compat",[Ej]:"fire-iid",[bj]:"fire-iid-compat",[Cj]:"fire-fcm",[Dj]:"fire-fcm-compat",[Tj]:"fire-perf",[Sj]:"fire-perf-compat",[Aj]:"fire-rc",[xj]:"fire-rc-compat",[Rj]:"fire-gcs",[Mj]:"fire-gcs-compat",[Nj]:"fire-fst",[Oj]:"fire-fst-compat",[Pj]:"fire-vertex","fire-js":"fire-js",[kj]:"fire-js-all"};var Nc=new Map,Vj=new Map,cv=new Map;function kS(t,e){try{t.container.addComponent(e)}catch(n){Ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _i(t){let e=t.name;if(cv.has(e))return Ar.debug(`There were multiple attempts to register component ${e}.`),!1;cv.set(e,t);for(let n of Nc.values())kS(n,t);for(let n of Vj.values())kS(n,t);return!0}function Oc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pn(t){return t.settings!==void 0}var Uj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new Sr("app","Firebase",Uj);var uv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}};var wi=Fj;function hv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:av,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw vi.create("bad-app-name",{appName:String(i)});if(n||(n=Qy()),!n)throw vi.create("no-options");let o=Nc.get(i);if(o){if(uo(n,o.options)&&uo(r,o.config))return o;throw vi.create("duplicate-app",{appName:i})}let s=new yh(i);for(let u of cv.values())s.addComponent(u);let a=new uv(n,r,s);return Nc.set(i,a),a}function Ps(t=av){let e=Nc.get(t);if(!e&&t===av&&Qy())return hv();if(!e)throw vi.create("no-app",{appName:t});return e}function _h(){return Array.from(Nc.values())}function ct(t,e,n){var r;let i=(r=Lj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ar.warn(a.join(" "));return}_i(new vn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var jj="firebase-heartbeat-database",Bj=1,Pc="firebase-heartbeat-store",iv=null;function US(){return iv||(iv=PS(jj,Bj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pc)}catch(n){console.warn(n)}}}}).catch(t=>{throw vi.create("idb-open",{originalErrorMessage:t.message})})),iv}function $j(t){return I(this,null,function*(){try{let n=(yield US()).transaction(Pc),r=yield n.objectStore(Pc).get(jS(t));return yield n.done,r}catch(e){if(e instanceof dn)Ar.warn(e.message);else{let n=vi.create("idb-get",{originalErrorMessage:e?.message});Ar.warn(n.message)}}})}function FS(t,e){return I(this,null,function*(){try{let r=(yield US()).transaction(Pc,"readwrite");yield r.objectStore(Pc).put(e,jS(t)),yield r.done}catch(n){if(n instanceof dn)Ar.warn(n.message);else{let r=vi.create("idb-set",{originalErrorMessage:n?.message});Ar.warn(r.message)}}})}function jS(t){return`${t.name}!${t.options.appId}`}var Hj=1024,zj=30*24*60*60*1e3,lv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new dv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=LS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=zj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ar.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=LS(),{heartbeatsToSend:r,unsentEntries:i}=qj(this._heartbeatsCache.heartbeats),o=Rc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ar.warn(n),""}})}};function LS(){return new Date().toISOString().substring(0,10)}function qj(t,e=Hj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),VS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),VS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var dv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return Jy()?CS().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield $j(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return FS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return FS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function VS(t){return Rc(JSON.stringify({version:2,heartbeats:t})).length}function Gj(t){_i(new vn("platform-logger",e=>new ov(e),"PRIVATE")),_i(new vn("heartbeat",e=>new lv(e),"PRIVATE")),ct(sv,OS,t),ct(sv,OS,"esm2017"),ct("fire-js","")}Gj("");var Wj="firebase",Kj="10.14.1";ct(Wj,Kj,"app");var fo=new yr("ANGULARFIRE2_VERSION");function Ih(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var kc=(t,e)=>{let n=e?[e]:_h(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ks=class{constructor(){return kc(Qj)}},Qj="app-check";function Os(){}var wh=class{zone;delegate;constructor(e,n=Dp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},fv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Os,{},Os,Os)),n.pipe(Qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Fs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new wh(Zone.current)),this.insideAngular=n.run(()=>new wh(Zone.current,Cp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(K(Se))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Eh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Yj(t){return Eh().ngZone.runOutsideAngular(()=>t())}function ho(t){return Eh().ngZone.run(()=>t())}function Jj(t){return Zj(Eh())(t)}function Zj(t){return function(n){return n=n.lift(new fv(t.ngZone)),n.pipe(Kr(t.outsideAngular),Wr(t.insideAngular))}}var Xj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ho(()=>t.apply(void 0,r))},Yn=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ho(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Os,{},Os,Os))),r[o]=Xj(r[o],n));let i=Yj(()=>t.apply(this,r));if(!e)if(i instanceof pe){let o=Eh();return i.pipe(Kr(o.outsideAngular),Wr(o.insideAngular))}else return ho(()=>i);return i instanceof pe?i.pipe(Jj):i instanceof Promise?ho(()=>new Promise((o,s)=>i.then(a=>ho(()=>o(a)),a=>ho(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ho(()=>i)};var xr=class{constructor(e){return e}},po=class{constructor(){return _h()}};function eB(t){return t&&t.length===1?t[0]:new xr(Ps())}var pv=new B("angularfire2._apps"),tB={provide:xr,useFactory:eB,deps:[[new Lt,pv]]},nB={provide:po,deps:[[new Lt,pv]]};function rB(t){return(e,n)=>{let r=n.get(sn);ct("angularfire",fo.full,"core"),ct("angularfire",fo.full,"app"),ct("angular",gD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new xr(i)}}function BS(t,...e){return zt([tB,nB,{provide:pv,useFactory:rB(t),multi:!0,deps:[Se,Tt,Fs,...e]}])}var $S=Yn(hv,!0);function oA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var sA=oA,aA=new Sr("auth","Firebase",oA());var Ah=new yi("@firebase/auth");function iB(t,...e){Ah.logLevel<=ve.WARN&&Ah.warn(`Auth (${wi}): ${t}`,...e)}function Ch(t,...e){Ah.logLevel<=ve.ERROR&&Ah.error(`Auth (${wi}): ${t}`,...e)}function Zn(t,...e){throw Lv(t,...e)}function mo(t,...e){return Lv(t,...e)}function cA(t,e,n){let r=Object.assign(Object.assign({},sA()),{[e]:n});return new Sr("auth","Firebase",r).create(e,{appName:t.name})}function Nr(t){return cA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aA.create(t,...e)}function X(t,e,...n){if(!t)throw Lv(e,...n)}function Rr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ch(e),new Error(e)}function Ei(t,e){t||Rr(e)}function vv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oB(){return HS()==="http:"||HS()==="https:"}function HS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function sB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oB()||wS()||"connection"in navigator)?navigator.onLine:!0}function aB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var go=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=vS()||IS()}get(){return sB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Vv(t,e){Ei(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var xh=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var cB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var uB=new go(3e4,6e4);function bi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ci(o,s,a,u){return I(this,arguments,function*(t,e,n,r,i={}){return uA(t,i,()=>I(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Mc(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let g=Object.assign({method:e,headers:y},l);return _S()||(g.referrerPolicy="no-referrer"),xh.fetch()(lA(t,t.config.apiHost,n,p),g)}))})}function uA(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},cB),e);try{let i=new _v(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw bh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw bh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw bh(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw cA(t,f,l);Zn(t,f)}}catch(i){if(i instanceof dn)throw i;Zn(t,"network-request-failed",{message:String(i)})}})}function Hc(o,s,a,u){return I(this,arguments,function*(t,e,n,r,i={}){let l=yield Ci(t,e,n,r,i);return"mfaPendingCredential"in l&&Zn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function lA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Vv(t.config,i):`${t.config.apiScheme}://${i}`}function lB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var _v=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mo(this.auth,"network-request-failed")),uB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function bh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=mo(t,e,r);return i.customData._tokenResponse=n,i}function zS(t){return t!==void 0&&t.enterprise!==void 0}var wv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function dB(t,e){return I(this,null,function*(){return Ci(t,"GET","/v2/recaptchaConfig",bi(t,e))})}function hB(t,e){return I(this,null,function*(){return Ci(t,"POST","/v1/accounts:delete",e)})}function dA(t,e){return I(this,null,function*(){return Ci(t,"POST","/v1/accounts:lookup",e)})}function Fc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Uv(t,e=!1){return I(this,null,function*(){let n=Qt(t),r=yield n.getIdToken(e),i=jv(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Fc(mv(i.auth_time)),issuedAtTime:Fc(mv(i.iat)),expirationTime:Fc(mv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function mv(t){return Number(t)*1e3}function jv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{let i=Wy(n);return i?JSON.parse(i):(Ch("Failed to decode base64 JWT payload"),null)}catch(i){return Ch("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qS(t){let e=jv(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Vc(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof dn&&fB(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function fB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Iv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Uc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fc(this.lastLoginAt),this.creationTime=Fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rh(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Vc(t,dA(n,{idToken:r}));X(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hA(o.providerUserInfo):[],a=pB(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Uc(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function Bv(t){return I(this,null,function*(){let e=Qt(t);yield Rh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function pB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hA(t){return t.map(e=>{var{providerId:n}=e,r=Tp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function mB(t,e){return I(this,null,function*(){let n=yield uA(t,{},()=>I(this,null,function*(){let r=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=lA(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",xh.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function gB(t,e){return I(this,null,function*(){return Ci(t,"POST","/v2/accounts:revokeToken",bi(t,e))})}var Lc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");let n=qS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield mB(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(X(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(X(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Rr("not implemented")}};function Ii(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ls=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Tp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Iv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Uc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield Vc(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Uv(this,e)}reload(){return Bv(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Rh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Pn(this.auth.app))return Promise.reject(Nr(this.auth));let e=yield this.getIdToken();return yield Vc(this,hB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:H,emailVerified:ee,isAnonymous:Te,providerData:de,stsTokenManager:b}=n;X(H&&b,e,"internal-error");let v=Lc.fromJSON(this.name,b);X(typeof H=="string",e,"internal-error"),Ii(p,e.name),Ii(y,e.name),X(typeof ee=="boolean",e,"internal-error"),X(typeof Te=="boolean",e,"internal-error"),Ii(g,e.name),Ii(C,e.name),Ii(P,e.name),Ii(N,e.name),Ii(j,e.name),Ii($,e.name);let _=new t({uid:H,auth:e,email:y,emailVerified:ee,displayName:p,isAnonymous:Te,photoURL:C,phoneNumber:g,tenantId:P,stsTokenManager:v,createdAt:j,lastLoginAt:$});return de&&Array.isArray(de)&&(_.providerData=de.map(E=>Object.assign({},E))),N&&(_._redirectEventId=N),_}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new Lc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];X(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?hA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Lc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Uc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var GS=new Map;function Mr(t){Ei(t instanceof Function,"Expected a class definition");let e=GS.get(t);return e?(Ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GS.set(t,e),e)}var yB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ev=yB;function Dh(t,e,n){return`firebase:${t}:${e}:${n}`}var Mh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Dh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Dh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ls._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(Mr(Ev),e,r);let i=(yield Promise.all(n.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Mr(Ev),s=Dh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=yield l._get(s);if(f){let p=Ls._fromJSON(e,f);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>I(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function WS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vA(e))return"Blackberry";if(_A(e))return"Webos";if(pA(e))return"Safari";if((e.includes("chrome/")||mA(e))&&!e.includes("edge/"))return"Chrome";if(yA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function fA(t=dt()){return/firefox\//i.test(t)}function pA(t=dt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mA(t=dt()){return/crios\//i.test(t)}function gA(t=dt()){return/iemobile/i.test(t)}function yA(t=dt()){return/android/i.test(t)}function vA(t=dt()){return/blackberry/i.test(t)}function _A(t=dt()){return/webos/i.test(t)}function $v(t=dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vB(t=dt()){var e;return $v(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _B(){return ES()&&document.documentMode===10}function wA(t=dt()){return $v(t)||yA(t)||_A(t)||vA(t)||/windows phone/i.test(t)||gA(t)}function IA(t,e=[]){let n;switch(t){case"Browser":n=WS(dt());break;case"Worker":n=`${WS(dt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wi}/${r}`}var bv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function wB(n){return I(this,arguments,function*(t,e={}){return Ci(t,"GET","/v2/passwordPolicy",bi(t,e))})}var IB=6,Cv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:IB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Dv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nh(this),this.idTokenSubscription=new Nh(this),this.beforeStateQueue=new bv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Mh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield dA(this,{idToken:e}),r=yield Ls._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(Pn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Rh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=aB()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Pn(this.app))return Promise.reject(Nr(this));let n=e?Qt(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Pn(this.app)?Promise.reject(Nr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Pn(this.app)?Promise.reject(Nr(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(Mr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield wB(this),n=new Cv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield gB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Mr(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=yield Mh.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&iB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function vo(t){return Qt(t)}var Nh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=TS(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Uh={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EB(t){Uh=t}function EA(t){return Uh.loadJS(t)}function bB(){return Uh.recaptchaEnterpriseScript}function CB(){return Uh.gapiScript}function bA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var DB="recaptcha-enterprise",TB="NO_RECAPTCHA",Tv=class{constructor(e){this.type=DB,this.auth=vo(e)}verify(e="verify",n=!1){return I(this,null,function*(){function r(o){return I(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>I(this,null,function*(){dB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new wv(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;zS(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(TB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&zS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=bB();u.length!==0&&(u+=a),EA(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function KS(t,e,n,r=!1){return I(this,null,function*(){let i=new Tv(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Sv(t,e,n,r){return I(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield KS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>I(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield KS(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function Hv(t,e){let n=Oc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(uo(o,e??{}))return i;Zn(i,"already-initialized")}return n.initialize({options:e})}function SB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Mr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function zv(t,e,n){let r=vo(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=CA(e),{host:s,port:a}=AB(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||xB()}function CA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AB(t){let e=CA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:QS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:QS(s)}}}function QS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function xB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var jc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,n){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}};function RB(t,e){return I(this,null,function*(){return Ci(t,"POST","/v1/accounts:signUp",e)})}function MB(t,e){return I(this,null,function*(){return Hc(t,"POST","/v1/accounts:signInWithPassword",bi(t,e))})}function NB(t,e){return I(this,null,function*(){return Hc(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))})}function PB(t,e){return I(this,null,function*(){return Hc(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))})}var Bc=class t extends jc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sv(e,n,"signInWithPassword",MB);case"emailLink":return NB(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}})}_linkToIdToken(e,n){return I(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sv(e,r,"signUpPassword",RB);case"emailLink":return PB(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function gv(t,e){return I(this,null,function*(){return Hc(t,"POST","/v1/accounts:signInWithIdp",bi(t,e))})}function OB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kB(t){let e=Ms(Ns(t)).link,n=e?Ms(Ns(e)).deep_link_id:null,r=Ms(Ns(t)).deep_link_id;return(r?Ms(Ns(r)).link:null)||r||n||e||t}var Ph=class t{constructor(e){var n,r,i,o,s,a;let u=Ms(Ns(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,p=OB((i=u.mode)!==null&&i!==void 0?i:null);X(l&&f&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=f,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=kB(e);try{return new t(n)}catch{return null}}};var DA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Bc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Ph.parseLink(r);return X(i,"argument-error"),Bc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Oh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Av=class extends Oh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function FB(t,e){return I(this,null,function*(){return Hc(t,"POST","/v1/accounts:signUp",bi(t,e))})}var Vs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(this,null,function*(){let o=yield Ls._fromIdTokenResponse(e,r,i),s=YS(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=YS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function YS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var xv=class t extends dn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function TA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xv._fromErrorAndOperation(t,o,e,r):o})}function LB(t,e,n=!1){return I(this,null,function*(){let r=yield Vc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Vs._forOperation(t,"link",r)})}function VB(t,e,n=!1){return I(this,null,function*(){let{auth:r}=t;if(Pn(r.app))return Promise.reject(Nr(r));let i="reauthenticate";try{let o=yield Vc(t,TA(r,i,e,t),n);X(o.idToken,r,"internal-error");let s=jv(o.idToken);X(s,r,"internal-error");let{sub:a}=s;return X(t.uid===a,r,"user-mismatch"),Vs._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Zn(r,"user-mismatch"),o}})}function SA(t,e,n=!1){return I(this,null,function*(){if(Pn(t.app))return Promise.reject(Nr(t));let r="signIn",i=yield TA(t,r,e),o=yield Vs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function qv(t,e){return I(this,null,function*(){return SA(vo(t),e)})}function AA(t){return I(this,null,function*(){let e=vo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Gv(t,e,n){return I(this,null,function*(){if(Pn(t.app))return Promise.reject(Nr(t));let r=vo(t),s=yield Sv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FB).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&AA(t),u}),a=yield Vs._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Wv(t,e,n){return Pn(t.app)?Promise.reject(Nr(t)):qv(Qt(t),DA.credential(e,n)).catch(r=>I(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&AA(t),r}))}function Kv(t,e,n,r){return Qt(t).onIdTokenChanged(e,n,r)}function Qv(t,e,n){return Qt(t).beforeAuthStateChanged(e,n)}var kh="__sak";var Fh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var UB=1e3,jB=10,BB=(()=>{class t extends Fh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);_B()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,jB):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},UB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return I(this,null,function*(){yield qr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return I(this,null,function*(){let r=yield qr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return I(this,null,function*(){yield qr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),xA=BB;var $B=(()=>{class t extends Fh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Yv=$B;function HB(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var zB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(f=>I(this,null,function*(){return f(r.origin,s)})),l=yield HB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function RA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Rv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=RA("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(y.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Jn(){return window}function qB(t){Jn().location.href=t}function MA(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}function GB(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function WB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KB(){return MA()?self:null}var NA="firebaseLocalStorageDb",QB=1,Lh="firebaseLocalStorage",PA="fbase_key",yo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function jh(t,e){return t.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function YB(){let t=indexedDB.deleteDatabase(NA);return new yo(t).toPromise()}function Mv(){let t=indexedDB.open(NA,QB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Lh,{keyPath:PA})}catch(i){n(i)}}),t.addEventListener("success",()=>I(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Lh)?e(r):(r.close(),yield YB(),e(yield Mv()))}))})}function JS(t,e,n){return I(this,null,function*(){let r=jh(t,!0).put({[PA]:e,value:n});return new yo(r).toPromise()})}function JB(t,e){return I(this,null,function*(){let n=jh(t,!1).get(e),r=yield new yo(n).toPromise();return r===void 0?null:r.value})}function ZS(t,e){let n=jh(t,!0).delete(e);return new yo(n).toPromise()}var ZB=800,XB=3,e$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield Mv(),this.db)})}_withRetries(n){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>XB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return MA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=zB._getInstance(KB()),this.receiver._subscribe("keyChanged",(n,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,r;if(this.activeServiceWorker=yield GB(),!this.activeServiceWorker)return;this.sender=new Rv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||WB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Mv();return yield JS(n,kh,"1"),yield ZS(n,kh),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>JS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let r=yield this._withRetries(i=>JB(i,n));return this.localCache[n]=r,r})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>ZS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(o=>{let s=jh(o,!1).getAll();return new yo(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),ZB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),OA=e$;var TK=bA("rcb"),SK=new go(3e4,6e4);function t$(t,e){return e?Mr(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var $c=class extends jc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gv(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function n$(t){return SA(t.auth,new $c(t),t.bypassAuthState)}function r$(t){let{auth:e,user:n}=t;return X(n,e,"internal-error"),VB(n,new $c(t),t.bypassAuthState)}function i$(t){return I(this,null,function*(){let{auth:e,user:n}=t;return X(n,e,"internal-error"),LB(n,new $c(t),t.bypassAuthState)})}var Nv=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n$;case"linkViaPopup":case"linkViaRedirect":return i$;case"reauthViaPopup":case"reauthViaRedirect":return r$;default:Zn(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var AK=new go(2e3,1e4);var o$="pendingRedirect",Th=new Map,Pv=class t extends Nv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=Th.get(this.auth._key());if(!e){try{let r=(yield s$(this.resolver,this.auth))?yield qr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return qr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,qr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function s$(t,e){return I(this,null,function*(){let n=u$(e),r=c$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function a$(t,e){Th.set(t._key(),e)}function c$(t){return Mr(t._redirectPersistence)}function u$(t){return Dh(o$,t.config.apiKey,t.name)}function l$(t,e,n=!1){return I(this,null,function*(){if(Pn(t.app))return Promise.reject(Nr(t));let r=vo(t),i=t$(r,e),s=yield new Pv(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var d$=10*60*1e3,Ov=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!h$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!kA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d$&&this.cachedEventUids.clear(),this.cachedEventUids.has(XS(e))}saveEventToCache(e){this.cachedEventUids.add(XS(e)),this.lastProcessedEventTime=Date.now()}};function XS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function kA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function h$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kA(t);default:return!1}}function f$(n){return I(this,arguments,function*(t,e={}){return Ci(t,"GET","/v1/projects",e)})}var p$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m$=/^https?/;function g$(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield f$(t);for(let n of e)try{if(y$(n))return}catch{}Zn(t,"unauthorized-domain")})}function y$(t){let e=vv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!m$.test(n))return!1;if(p$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var v$=new go(3e4,6e4);function eA(){let t=Jn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _$(t){return new Promise((e,n)=>{var r,i,o;function s(){eA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eA(),n(mo(t,"network-request-failed"))},timeout:v$.get()})}if(!((i=(r=Jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Jn().gapi)===null||o===void 0)&&o.load)s();else{let a=bA("iframefcb");return Jn()[a]=()=>{gapi.load?s():n(mo(t,"network-request-failed"))},EA(`${CB()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Sh=null,e})}var Sh=null;function w$(t){return Sh=Sh||_$(t),Sh}var I$=new go(5e3,15e3),E$="__/auth/iframe",b$="emulator/auth/iframe",C$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function T$(t){let e=t.config;X(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Vv(e,b$):`https://${t.config.authDomain}/${E$}`,r={apiKey:e.apiKey,appName:t.name,v:wi},i=D$.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Mc(r).slice(1)}`}function S$(t){return I(this,null,function*(){let e=yield w$(t),n=Jn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:T$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C$,dontclear:!0},r=>new Promise((i,o)=>I(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=mo(t,"network-request-failed"),a=Jn().setTimeout(()=>{o(s)},I$.get());function u(){Jn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var A$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x$=500,R$=600,M$="_blank",N$="http://localhost",Vh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function P$(t,e,n,r=x$,i=R$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},A$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=dt().toLowerCase();n&&(a=mA(l)?M$:n),fA(l)&&(e=e||N$,u.scrollbars="yes");let f=Object.entries(u).reduce((y,[g,C])=>`${y}${g}=${C},`,"");if(vB(l)&&a!=="_self")return O$(e||"",a),new Vh(null);let p=window.open(e||"",a,f);X(p,t,"popup-blocked");try{p.focus()}catch{}return new Vh(p)}function O$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var k$="__/auth/handler",F$="emulator/auth/handler",L$=encodeURIComponent("fac");function tA(t,e,n,r,i,o){return I(this,null,function*(){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wi,eventId:i};if(e instanceof Oh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",DS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof Av){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=yield t._getAppCheckToken(),l=u?`#${L$}=${encodeURIComponent(u)}`:"";return`${V$(t)}?${Mc(a).slice(1)}${l}`})}function V$({config:t}){return t.emulator?Vv(t,F$):`https://${t.authDomain}/${k$}`}var yv="webStorageSupport",kv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yv,this._completeRedirectFn=l$,this._overrideRedirectResult=a$}_openPopup(e,n,r,i){return I(this,null,function*(){var o;Ei((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield tA(e,n,r,vv(),i);return P$(e,s,RA())})}_openRedirect(e,n,r,i){return I(this,null,function*(){yield this._originValidation(e);let o=yield tA(e,n,r,vv(),i);return qB(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ei(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return I(this,null,function*(){let n=yield S$(e),r=new Ov(e);return n.register("authEvent",i=>(X(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yv,{type:yv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[yv];s!==void 0&&n(!!s),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wA()||pA()||$v()}},FA=kv;var nA="@firebase/auth",rA="1.7.9";var Fv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function U$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j$(t){_i(new vn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;X(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IA(t)},l=new Dv(r,i,o,u);return SB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_i(new vn("auth-internal",e=>{let n=vo(e.getProvider("auth").getImmediate());return(r=>new Fv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ct(nA,rA,U$(t)),ct(nA,rA,"esm2017")}var B$=5*60,$$=Yy("authIdTokenMaxAge")||B$,iA=null,H$=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$$)return;let i=n?.token;iA!==i&&(iA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Jv(t=Ps()){let e=Oc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Hv(t,{popupRedirectResolver:FA,persistence:[OA,xA,Yv]}),r=Yy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=H$(o.toString());Qv(n,s,()=>s(n.currentUser)),Kv(n,a=>s(a))}}let i=Ky("auth");return i&&zv(n,`http://${i}`),n}function z$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}EB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=mo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",z$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j$("Browser");var LA="auth",_o=class{constructor(e){return e}},zc=class{constructor(){return kc(LA)}};var Zv=new B("angularfire2.auth-instances");function k4(t,e){let n=Ih(LA,t,e);return n&&new _o(n)}function F4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new _o(r)}}var L4={provide:zc,deps:[[new Lt,Zv]]},V4={provide:_o,useFactory:k4,deps:[[new Lt,Zv],xr]};function VA(t,...e){return ct("angularfire",fo.full,"auth"),zt([V4,L4,{provide:Zv,useFactory:F4(t),multi:!0,deps:[Se,Tt,Fs,po,[new Lt,ks],...e]}])}var UA=Yn(Gv,!0);var jA=Yn(Jv,!0);var BA=Yn(Wv,!0);var $A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},HA={};var Xv,zA;(function(){var t;function e(b,v){function _(){}_.prototype=v.prototype,b.D=v.prototype,b.prototype=new _,b.prototype.constructor=b,b.C=function(E,T,x){for(var w=Array(arguments.length-2),ar=2;ar<arguments.length;ar++)w[ar-2]=arguments[ar];return v.prototype[T].apply(E,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,v,_){_||(_=0);var E=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)E[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;16>T;++T)E[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=b.g[0],_=b.g[1],T=b.g[2];var x=b.g[3],w=v+(x^_&(T^x))+E[0]+3614090360&4294967295;v=_+(w<<7&4294967295|w>>>25),w=x+(T^v&(_^T))+E[1]+3905402710&4294967295,x=v+(w<<12&4294967295|w>>>20),w=T+(_^x&(v^_))+E[2]+606105819&4294967295,T=x+(w<<17&4294967295|w>>>15),w=_+(v^T&(x^v))+E[3]+3250441966&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(x^_&(T^x))+E[4]+4118548399&4294967295,v=_+(w<<7&4294967295|w>>>25),w=x+(T^v&(_^T))+E[5]+1200080426&4294967295,x=v+(w<<12&4294967295|w>>>20),w=T+(_^x&(v^_))+E[6]+2821735955&4294967295,T=x+(w<<17&4294967295|w>>>15),w=_+(v^T&(x^v))+E[7]+4249261313&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(x^_&(T^x))+E[8]+1770035416&4294967295,v=_+(w<<7&4294967295|w>>>25),w=x+(T^v&(_^T))+E[9]+2336552879&4294967295,x=v+(w<<12&4294967295|w>>>20),w=T+(_^x&(v^_))+E[10]+4294925233&4294967295,T=x+(w<<17&4294967295|w>>>15),w=_+(v^T&(x^v))+E[11]+2304563134&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(x^_&(T^x))+E[12]+1804603682&4294967295,v=_+(w<<7&4294967295|w>>>25),w=x+(T^v&(_^T))+E[13]+4254626195&4294967295,x=v+(w<<12&4294967295|w>>>20),w=T+(_^x&(v^_))+E[14]+2792965006&4294967295,T=x+(w<<17&4294967295|w>>>15),w=_+(v^T&(x^v))+E[15]+1236535329&4294967295,_=T+(w<<22&4294967295|w>>>10),w=v+(T^x&(_^T))+E[1]+4129170786&4294967295,v=_+(w<<5&4294967295|w>>>27),w=x+(_^T&(v^_))+E[6]+3225465664&4294967295,x=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(x^v))+E[11]+643717713&4294967295,T=x+(w<<14&4294967295|w>>>18),w=_+(x^v&(T^x))+E[0]+3921069994&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(T^x&(_^T))+E[5]+3593408605&4294967295,v=_+(w<<5&4294967295|w>>>27),w=x+(_^T&(v^_))+E[10]+38016083&4294967295,x=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(x^v))+E[15]+3634488961&4294967295,T=x+(w<<14&4294967295|w>>>18),w=_+(x^v&(T^x))+E[4]+3889429448&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(T^x&(_^T))+E[9]+568446438&4294967295,v=_+(w<<5&4294967295|w>>>27),w=x+(_^T&(v^_))+E[14]+3275163606&4294967295,x=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(x^v))+E[3]+4107603335&4294967295,T=x+(w<<14&4294967295|w>>>18),w=_+(x^v&(T^x))+E[8]+1163531501&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(T^x&(_^T))+E[13]+2850285829&4294967295,v=_+(w<<5&4294967295|w>>>27),w=x+(_^T&(v^_))+E[2]+4243563512&4294967295,x=v+(w<<9&4294967295|w>>>23),w=T+(v^_&(x^v))+E[7]+1735328473&4294967295,T=x+(w<<14&4294967295|w>>>18),w=_+(x^v&(T^x))+E[12]+2368359562&4294967295,_=T+(w<<20&4294967295|w>>>12),w=v+(_^T^x)+E[5]+4294588738&4294967295,v=_+(w<<4&4294967295|w>>>28),w=x+(v^_^T)+E[8]+2272392833&4294967295,x=v+(w<<11&4294967295|w>>>21),w=T+(x^v^_)+E[11]+1839030562&4294967295,T=x+(w<<16&4294967295|w>>>16),w=_+(T^x^v)+E[14]+4259657740&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(_^T^x)+E[1]+2763975236&4294967295,v=_+(w<<4&4294967295|w>>>28),w=x+(v^_^T)+E[4]+1272893353&4294967295,x=v+(w<<11&4294967295|w>>>21),w=T+(x^v^_)+E[7]+4139469664&4294967295,T=x+(w<<16&4294967295|w>>>16),w=_+(T^x^v)+E[10]+3200236656&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(_^T^x)+E[13]+681279174&4294967295,v=_+(w<<4&4294967295|w>>>28),w=x+(v^_^T)+E[0]+3936430074&4294967295,x=v+(w<<11&4294967295|w>>>21),w=T+(x^v^_)+E[3]+3572445317&4294967295,T=x+(w<<16&4294967295|w>>>16),w=_+(T^x^v)+E[6]+76029189&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(_^T^x)+E[9]+3654602809&4294967295,v=_+(w<<4&4294967295|w>>>28),w=x+(v^_^T)+E[12]+3873151461&4294967295,x=v+(w<<11&4294967295|w>>>21),w=T+(x^v^_)+E[15]+530742520&4294967295,T=x+(w<<16&4294967295|w>>>16),w=_+(T^x^v)+E[2]+3299628645&4294967295,_=T+(w<<23&4294967295|w>>>9),w=v+(T^(_|~x))+E[0]+4096336452&4294967295,v=_+(w<<6&4294967295|w>>>26),w=x+(_^(v|~T))+E[7]+1126891415&4294967295,x=v+(w<<10&4294967295|w>>>22),w=T+(v^(x|~_))+E[14]+2878612391&4294967295,T=x+(w<<15&4294967295|w>>>17),w=_+(x^(T|~v))+E[5]+4237533241&4294967295,_=T+(w<<21&4294967295|w>>>11),w=v+(T^(_|~x))+E[12]+1700485571&4294967295,v=_+(w<<6&4294967295|w>>>26),w=x+(_^(v|~T))+E[3]+2399980690&4294967295,x=v+(w<<10&4294967295|w>>>22),w=T+(v^(x|~_))+E[10]+4293915773&4294967295,T=x+(w<<15&4294967295|w>>>17),w=_+(x^(T|~v))+E[1]+2240044497&4294967295,_=T+(w<<21&4294967295|w>>>11),w=v+(T^(_|~x))+E[8]+1873313359&4294967295,v=_+(w<<6&4294967295|w>>>26),w=x+(_^(v|~T))+E[15]+4264355552&4294967295,x=v+(w<<10&4294967295|w>>>22),w=T+(v^(x|~_))+E[6]+2734768916&4294967295,T=x+(w<<15&4294967295|w>>>17),w=_+(x^(T|~v))+E[13]+1309151649&4294967295,_=T+(w<<21&4294967295|w>>>11),w=v+(T^(_|~x))+E[4]+4149444226&4294967295,v=_+(w<<6&4294967295|w>>>26),w=x+(_^(v|~T))+E[11]+3174756917&4294967295,x=v+(w<<10&4294967295|w>>>22),w=T+(v^(x|~_))+E[2]+718787259&4294967295,T=x+(w<<15&4294967295|w>>>17),w=_+(x^(T|~v))+E[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(T+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+T&4294967295,b.g[3]=b.g[3]+x&4294967295}r.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var _=v-this.blockSize,E=this.B,T=this.h,x=0;x<v;){if(T==0)for(;x<=_;)i(this,b,x),x+=this.blockSize;if(typeof b=="string"){for(;x<v;)if(E[T++]=b.charCodeAt(x++),T==this.blockSize){i(this,E),T=0;break}}else for(;x<v;)if(E[T++]=b[x++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var _=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=_&255,_/=256;for(this.u(b),b=Array(16),v=_=0;4>v;++v)for(var E=0;32>E;E+=8)b[_++]=this.g[v]>>>E&255;return b};function o(b,v){var _=a;return Object.prototype.hasOwnProperty.call(_,b)?_[b]:_[b]=v(b)}function s(b,v){this.h=v;for(var _=[],E=!0,T=b.length-1;0<=T;T--){var x=b[T]|0;E&&x==v||(_[T]=x,E=!1)}this.g=_}var a={};function u(b){return-128<=b&&128>b?o(b,function(v){return new s([v|0],0>v?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return N(l(-b));for(var v=[],_=1,E=0;b>=_;E++)v[E]=b/_|0,_*=4294967296;return new s(v,0)}function f(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return N(f(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),E=p,T=0;T<b.length;T+=8){var x=Math.min(8,b.length-T),w=parseInt(b.substring(T,T+x),v);8>x?(x=l(Math.pow(v,x)),E=E.j(x).add(l(w))):(E=E.j(_),E=E.add(l(w)))}return E}var p=u(0),y=u(1),g=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-N(this).m();for(var b=0,v=1,_=0;_<this.g.length;_++){var E=this.i(_);b+=(0<=E?E:4294967296+E)*v,v*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C(this))return"0";if(P(this))return"-"+N(this).toString(b);for(var v=l(Math.pow(b,6)),_=this,E="";;){var T=ee(_,v).g;_=j(_,T.j(v));var x=((0<_.g.length?_.g[0]:_.h)>>>0).toString(b);if(_=T,C(_))return x+E;for(;6>x.length;)x="0"+x;E=x+E}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function C(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function P(b){return b.h==-1}t.l=function(b){return b=j(this,b),P(b)?-1:C(b)?0:1};function N(b){for(var v=b.g.length,_=[],E=0;E<v;E++)_[E]=~b.g[E];return new s(_,~b.h).add(y)}t.abs=function(){return P(this)?N(this):this},t.add=function(b){for(var v=Math.max(this.g.length,b.g.length),_=[],E=0,T=0;T<=v;T++){var x=E+(this.i(T)&65535)+(b.i(T)&65535),w=(x>>>16)+(this.i(T)>>>16)+(b.i(T)>>>16);E=w>>>16,x&=65535,w&=65535,_[T]=w<<16|x}return new s(_,_[_.length-1]&-2147483648?-1:0)};function j(b,v){return b.add(N(v))}t.j=function(b){if(C(this)||C(b))return p;if(P(this))return P(b)?N(this).j(N(b)):N(N(this).j(b));if(P(b))return N(this.j(N(b)));if(0>this.l(g)&&0>b.l(g))return l(this.m()*b.m());for(var v=this.g.length+b.g.length,_=[],E=0;E<2*v;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<b.g.length;T++){var x=this.i(E)>>>16,w=this.i(E)&65535,ar=b.i(T)>>>16,ca=b.i(T)&65535;_[2*E+2*T]+=w*ca,$(_,2*E+2*T),_[2*E+2*T+1]+=x*ca,$(_,2*E+2*T+1),_[2*E+2*T+1]+=w*ar,$(_,2*E+2*T+1),_[2*E+2*T+2]+=x*ar,$(_,2*E+2*T+2)}for(E=0;E<v;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=v;E<2*v;E++)_[E]=0;return new s(_,0)};function $(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function H(b,v){this.g=b,this.h=v}function ee(b,v){if(C(v))throw Error("division by zero");if(C(b))return new H(p,p);if(P(b))return v=ee(N(b),v),new H(N(v.g),N(v.h));if(P(v))return v=ee(b,N(v)),new H(N(v.g),v.h);if(30<b.g.length){if(P(b)||P(v))throw Error("slowDivide_ only works with positive integers.");for(var _=y,E=v;0>=E.l(b);)_=Te(_),E=Te(E);var T=de(_,1),x=de(E,1);for(E=de(E,2),_=de(_,2);!C(E);){var w=x.add(E);0>=w.l(b)&&(T=T.add(_),x=w),E=de(E,1),_=de(_,1)}return v=j(b,T.j(v)),new H(T,v)}for(T=p;0<=b.l(v);){for(_=Math.max(1,Math.floor(b.m()/v.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),x=l(_),w=x.j(v);P(w)||0<w.l(b);)_-=E,x=l(_),w=x.j(v);C(x)&&(x=y),T=T.add(x),b=j(b,w)}return new H(T,b)}t.A=function(b){return ee(this,b).h},t.and=function(b){for(var v=Math.max(this.g.length,b.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)&b.i(E);return new s(_,this.h&b.h)},t.or=function(b){for(var v=Math.max(this.g.length,b.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)|b.i(E);return new s(_,this.h|b.h)},t.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),_=[],E=0;E<v;E++)_[E]=this.i(E)^b.i(E);return new s(_,this.h^b.h)};function Te(b){for(var v=b.g.length+1,_=[],E=0;E<v;E++)_[E]=b.i(E)<<1|b.i(E-1)>>>31;return new s(_,b.h)}function de(b,v){var _=v>>5;v%=32;for(var E=b.g.length-_,T=[],x=0;x<E;x++)T[x]=0<v?b.i(x+_)>>>v|b.i(x+_+1)<<32-v:b.i(x+_);return new s(T,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zA=HA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Xv=HA.Integer=s}).apply(typeof $A<"u"?$A:typeof self<"u"?self:typeof window<"u"?window:{});var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pr={};var e_,U4,Us,t_,qc,$h,n_,r_,i_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bh=="object"&&Bh];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var S=c[m];if(!(S in h))break e;h=h[S]}c=c[c.length-1],m=h[c],d=d(m),d!=m&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var h=0,m=!1,S={next:function(){if(!m&&h<c.length){var M=h++;return{value:d(M,c[M]),done:!1}}return m=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,h){return h})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function p(c,d,h){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,m),c.apply(d,S)}}return function(){return c.apply(d,arguments)}}function y(c,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function g(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function C(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(m,S,M){for(var V=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)V[xe-2]=arguments[xe];return d.prototype[S].apply(m,V)}}function P(c){let d=c.length;if(0<d){let h=Array(d);for(let m=0;m<d;m++)h[m]=c[m];return h}return[]}function N(c,d){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(u(m)){let S=c.length||0,M=m.length||0;c.length=S+M;for(let V=0;V<M;V++)c[S+V]=m[V]}else c.push(m)}}class j{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var Te=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function de(c,d,h){for(let m in c)d.call(h,c[m],m,c)}function b(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function v(c){let d={};for(let h in c)d[h]=c[h];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let h,m;for(let S=1;S<arguments.length;S++){m=arguments[S];for(h in m)c[h]=m[h];for(let M=0;M<_.length;M++)h=_[M],Object.prototype.hasOwnProperty.call(m,h)&&(c[h]=m[h])}}function T(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function x(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Ff;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ar{constructor(){this.h=this.g=null}add(d,h){let m=ca.get();m.set(d,h),this.h?this.h.next=m:this.g=m,this.h=m}}var ca=new j(()=>new rM,c=>c.reset());class rM{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ua,la=!1,Ff=new ar,Zw=()=>{let c=a.Promise.resolve(void 0);ua=()=>{c.then(iM)}};var iM=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(h){x(h)}var d=ca;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}la=!1};function Br(){this.s=this.s,this.C=this.C}Br.prototype.s=!1,Br.prototype.ma=function(){this.s||(this.s=!0,this.N())},Br.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _t(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var oM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c}();function da(c,d){if(_t.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Te){e:{try{ee(d.nodeName);var S=!0;break e}catch{}S=!1}S||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:sM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&da.aa.h.call(this)}}C(da,_t);var sM={2:"touch",3:"pen",4:"mouse"};da.prototype.h=function(){da.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ha="closure_listenable_"+(1e6*Math.random()|0),aM=0;function cM(c,d,h,m,S){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!m,this.ha=S,this.key=++aM,this.da=this.fa=!1}function mu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function gu(c){this.src=c,this.g={},this.h=0}gu.prototype.add=function(c,d,h,m,S){var M=c.toString();c=this.g[M],c||(c=this.g[M]=[],this.h++);var V=Vf(c,d,m,S);return-1<V?(d=c[V],h||(d.fa=!1)):(d=new cM(d,this.src,M,!!m,S),d.fa=h,c.push(d)),d};function Lf(c,d){var h=d.type;if(h in c.g){var m=c.g[h],S=Array.prototype.indexOf.call(m,d,void 0),M;(M=0<=S)&&Array.prototype.splice.call(m,S,1),M&&(mu(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function Vf(c,d,h,m){for(var S=0;S<c.length;++S){var M=c[S];if(!M.da&&M.listener==d&&M.capture==!!h&&M.ha==m)return S}return-1}var Uf="closure_lm_"+(1e6*Math.random()|0),jf={};function Xw(c,d,h,m,S){if(m&&m.once)return tI(c,d,h,m,S);if(Array.isArray(d)){for(var M=0;M<d.length;M++)Xw(c,d[M],h,m,S);return null}return h=zf(h),c&&c[ha]?c.K(d,h,l(m)?!!m.capture:!!m,S):eI(c,d,h,!1,m,S)}function eI(c,d,h,m,S,M){if(!d)throw Error("Invalid event type");var V=l(S)?!!S.capture:!!S,xe=$f(c);if(xe||(c[Uf]=xe=new gu(c)),h=xe.add(d,h,m,V,M),h.proxy)return h;if(m=uM(),h.proxy=m,m.src=c,m.listener=h,c.addEventListener)oM||(S=V),S===void 0&&(S=!1),c.addEventListener(d.toString(),m,S);else if(c.attachEvent)c.attachEvent(rI(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function uM(){function c(h){return d.call(c.src,c.listener,h)}let d=lM;return c}function tI(c,d,h,m,S){if(Array.isArray(d)){for(var M=0;M<d.length;M++)tI(c,d[M],h,m,S);return null}return h=zf(h),c&&c[ha]?c.L(d,h,l(m)?!!m.capture:!!m,S):eI(c,d,h,!0,m,S)}function nI(c,d,h,m,S){if(Array.isArray(d))for(var M=0;M<d.length;M++)nI(c,d[M],h,m,S);else m=l(m)?!!m.capture:!!m,h=zf(h),c&&c[ha]?(c=c.i,d=String(d).toString(),d in c.g&&(M=c.g[d],h=Vf(M,h,m,S),-1<h&&(mu(M[h]),Array.prototype.splice.call(M,h,1),M.length==0&&(delete c.g[d],c.h--)))):c&&(c=$f(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Vf(d,h,m,S)),(h=-1<c?d[c]:null)&&Bf(h))}function Bf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ha])Lf(d.i,c);else{var h=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(h,m,c.capture):d.detachEvent?d.detachEvent(rI(h),m):d.addListener&&d.removeListener&&d.removeListener(m),(h=$f(d))?(Lf(h,c),h.h==0&&(h.src=null,d[Uf]=null)):mu(c)}}}function rI(c){return c in jf?jf[c]:jf[c]="on"+c}function lM(c,d){if(c.da)c=!0;else{d=new da(d,this);var h=c.listener,m=c.ha||c.src;c.fa&&Bf(c),c=h.call(m,d)}return c}function $f(c){return c=c[Uf],c instanceof gu?c:null}var Hf="__closure_events_fn_"+(1e9*Math.random()>>>0);function zf(c){return typeof c=="function"?c:(c[Hf]||(c[Hf]=function(d){return c.handleEvent(d)}),c[Hf])}function wt(){Br.call(this),this.i=new gu(this),this.M=this,this.F=null}C(wt,Br),wt.prototype[ha]=!0,wt.prototype.removeEventListener=function(c,d,h,m){nI(this,c,d,h,m)};function Pt(c,d){var h,m=c.F;if(m)for(h=[];m;m=m.F)h.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new _t(d,c);else if(d instanceof _t)d.target=d.target||c;else{var S=d;d=new _t(m,c),E(d,S)}if(S=!0,h)for(var M=h.length-1;0<=M;M--){var V=d.g=h[M];S=yu(V,m,!0,d)&&S}if(V=d.g=c,S=yu(V,m,!0,d)&&S,S=yu(V,m,!1,d)&&S,h)for(M=0;M<h.length;M++)V=d.g=h[M],S=yu(V,m,!1,d)&&S}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],m=0;m<h.length;m++)mu(h[m]);delete c.g[d],c.h--}}this.F=null},wt.prototype.K=function(c,d,h,m){return this.i.add(String(c),d,!1,h,m)},wt.prototype.L=function(c,d,h,m){return this.i.add(String(c),d,!0,h,m)};function yu(c,d,h,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var S=!0,M=0;M<d.length;++M){var V=d[M];if(V&&!V.da&&V.capture==h){var xe=V.listener,mt=V.ha||V.src;V.fa&&Lf(c.i,V),S=xe.call(mt,m)!==!1&&S}}return S&&!m.defaultPrevented}function iI(c,d,h){if(typeof c=="function")h&&(c=y(c,h));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function oI(c){c.g=iI(()=>{c.g=null,c.i&&(c.i=!1,oI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class dM extends Br{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:oI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fa(c){Br.call(this),this.h=c,this.g={}}C(fa,Br);var sI=[];function aI(c){de(c.g,function(d,h){this.g.hasOwnProperty(h)&&Bf(d)},c),c.g={}}fa.prototype.N=function(){fa.aa.N.call(this),aI(this)},fa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qf=a.JSON.stringify,hM=a.JSON.parse,fM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Gf(){}Gf.prototype.h=null;function cI(c){return c.h||(c.h=c.i())}function uI(){}var pa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wf(){_t.call(this,"d")}C(Wf,_t);function Kf(){_t.call(this,"c")}C(Kf,_t);var Oi={},lI=null;function vu(){return lI=lI||new wt}Oi.La="serverreachability";function dI(c){_t.call(this,Oi.La,c)}C(dI,_t);function ma(c){let d=vu();Pt(d,new dI(d))}Oi.STAT_EVENT="statevent";function hI(c,d){_t.call(this,Oi.STAT_EVENT,c),this.stat=d}C(hI,_t);function Ot(c){let d=vu();Pt(d,new hI(d,c))}Oi.Ma="timingevent";function fI(c,d){_t.call(this,Oi.Ma,c),this.size=d}C(fI,_t);function ga(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ya(){this.g=!0}ya.prototype.xa=function(){this.g=!1};function pM(c,d,h,m,S,M){c.info(function(){if(c.g)if(M)for(var V="",xe=M.split("&"),mt=0;mt<xe.length;mt++){var be=xe[mt].split("=");if(1<be.length){var It=be[0];be=be[1];var Et=It.split("_");V=2<=Et.length&&Et[1]=="type"?V+(It+"="+be+"&"):V+(It+"=redacted&")}}else V=null;else V=M;return"XMLHTTP REQ ("+m+") [attempt "+S+"]: "+d+`
`+h+`
`+V})}function mM(c,d,h,m,S,M,V){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+S+"]: "+d+`
`+h+`
`+M+" "+V})}function No(c,d,h,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+yM(c,h)+(m?" "+m:"")})}function gM(c,d){c.info(function(){return"TIMEOUT: "+d})}ya.prototype.info=function(){};function yM(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var m=h[c];if(!(2>m.length)){var S=m[1];if(Array.isArray(S)&&!(1>S.length)){var M=S[0];if(M!="noop"&&M!="stop"&&M!="close")for(var V=1;V<S.length;V++)S[V]=""}}}}return qf(h)}catch{return d}}var _u={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qf;function wu(){}C(wu,Gf),wu.prototype.g=function(){return new XMLHttpRequest},wu.prototype.i=function(){return{}},Qf=new wu;function $r(c,d,h,m){this.j=c,this.i=d,this.l=h,this.R=m||1,this.U=new fa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mI}function mI(){this.i=null,this.g="",this.h=!1}var gI={},Yf={};function Jf(c,d,h){c.L=1,c.v=Cu(cr(d)),c.m=h,c.P=!0,yI(c,null)}function yI(c,d){c.F=Date.now(),Iu(c),c.A=cr(c.v);var h=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),MI(h.i,"t",m),c.C=0,h=c.j.J,c.h=new mI,c.g=QI(c.j,h?d:null,!c.m),0<c.O&&(c.M=new dM(y(c.Y,c,c.g),c.O)),d=c.U,h=c.g,m=c.ca;var S="readystatechange";Array.isArray(S)||(S&&(sI[0]=S.toString()),S=sI);for(var M=0;M<S.length;M++){var V=Xw(h,S[M],m||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ma(),pM(c.i,c.u,c.A,c.l,c.R,c.m)}$r.prototype.ca=function(c){c=c.target;let d=this.M;d&&ur(c)==3?d.j():this.Y(c)},$r.prototype.Y=function(c){try{if(c==this.g)e:{let Et=ur(this.g);var d=this.g.Ba();let ko=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||VI(this.g)))){this.J||Et!=4||d==7||(d==8||0>=ko?ma(3):ma(2)),Zf(this);var h=this.g.Z();this.X=h;t:if(vI(this)){var m=VI(this.g);c="";var S=m.length,M=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ki(this),va(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<S;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(M&&d==S-1)});m.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=h==200,mM(this.i,this.u,this.A,this.l,this.R,Et,h),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,mt=this.g;if((xe=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(xe)){var be=xe;break t}}be=null}if(h=be)No(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xf(this,h);else{this.o=!1,this.s=3,Ot(12),ki(this),va(this);break e}}if(this.P){h=!0;let wn;for(;!this.J&&this.C<V.length;)if(wn=vM(this,V),wn==Yf){Et==4&&(this.s=4,Ot(14),h=!1),No(this.i,this.l,null,"[Incomplete Response]");break}else if(wn==gI){this.s=4,Ot(15),No(this.i,this.l,V,"[Invalid Chunk]"),h=!1;break}else No(this.i,this.l,wn,null),Xf(this,wn);if(vI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||V.length!=0||this.h.h||(this.s=1,Ot(16),h=!1),this.o=this.o&&h,!h)No(this.i,this.l,V,"[Invalid Chunked Response]"),ki(this),va(this);else if(0<V.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),op(It),It.M=!0,Ot(11))}}else No(this.i,this.l,V,null),Xf(this,V);Et==4&&ki(this),this.o&&!this.J&&(Et==4?qI(this.j,this):(this.o=!1,Iu(this)))}else kM(this.g),h==400&&0<V.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),ki(this),va(this)}}}catch{}finally{}};function vI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vM(c,d){var h=c.C,m=d.indexOf(`
`,h);return m==-1?Yf:(h=Number(d.substring(h,m)),isNaN(h)?gI:(m+=1,m+h>d.length?Yf:(d=d.slice(m,m+h),c.C=m+h,d)))}$r.prototype.cancel=function(){this.J=!0,ki(this)};function Iu(c){c.S=Date.now()+c.I,_I(c,c.I)}function _I(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ga(y(c.ba,c),d)}function Zf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}$r.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(gM(this.i,this.A),this.L!=2&&(ma(),Ot(17)),ki(this),this.s=2,va(this)):_I(this,this.S-c)};function va(c){c.j.G==0||c.J||qI(c.j,c)}function ki(c){Zf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,aI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Xf(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||ep(h.h,c))){if(!c.K&&ep(h.h,c)&&h.G==3){try{var m=h.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var S=m;if(S[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)xu(h),Su(h);else break e;ip(h),Ot(18)}}else h.za=S[1],0<h.za-h.T&&37500>S[2]&&h.F&&h.v==0&&!h.C&&(h.C=ga(y(h.Za,h),6e3));if(1>=EI(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Li(h,11)}else if((c.K||h.g==c)&&xu(h),!$(d))for(S=h.Da.g.parse(d),d=0;d<S.length;d++){let be=S[d];if(h.T=be[0],be=be[1],h.G==2)if(be[0]=="c"){h.K=be[1],h.ia=be[2];let It=be[3];It!=null&&(h.la=It,h.j.info("VER="+h.la));let Et=be[4];Et!=null&&(h.Aa=Et,h.j.info("SVER="+h.Aa));let ko=be[5];ko!=null&&typeof ko=="number"&&0<ko&&(m=1.5*ko,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let wn=c.g;if(wn){let Mu=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mu){var M=m.h;M.g||Mu.indexOf("spdy")==-1&&Mu.indexOf("quic")==-1&&Mu.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(tp(M,M.h),M.h=null))}if(m.D){let sp=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;sp&&(m.ya=sp,Fe(m.I,m.D,sp))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var V=c;if(m.qa=KI(m,m.J?m.ia:null,m.W),V.K){bI(m.h,V);var xe=V,mt=m.L;mt&&(xe.I=mt),xe.B&&(Zf(xe),Iu(xe)),m.g=V}else HI(m);0<h.i.length&&Au(h)}else be[0]!="stop"&&be[0]!="close"||Li(h,7);else h.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Li(h,7):rp(h):be[0]!="noop"&&h.l&&h.l.ta(be),h.v=0)}}ma(4)}catch{}}var _M=class{constructor(c,d){this.g=c,this.map=d}};function wI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function II(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function EI(c){return c.h?1:c.g?c.g.size:0}function ep(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function tp(c,d){c.g?c.g.add(d):c.h=d}function bI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}wI.prototype.cancel=function(){if(this.i=CI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function CI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return P(c.i)}function wM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],h=c.length,m=0;m<h;m++)d.push(c[m]);return d}d=[],h=0;for(m in c)d[h++]=c[m];return d}function IM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let m in c)d[h++]=m;return d}}}function DI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=IM(c),m=wM(c),S=m.length,M=0;M<S;M++)d.call(void 0,m[M],h&&h[M],c)}var TI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EM(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var m=c[h].indexOf("="),S=null;if(0<=m){var M=c[h].substring(0,m);S=c[h].substring(m+1)}else M=c[h];d(M,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Fi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Fi){this.h=c.h,Eu(this,c.j),this.o=c.o,this.g=c.g,bu(this,c.s),this.l=c.l;var d=c.i,h=new Ia;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),SI(this,h),this.m=c.m}else c&&(d=String(c).match(TI))?(this.h=!1,Eu(this,d[1]||"",!0),this.o=_a(d[2]||""),this.g=_a(d[3]||"",!0),bu(this,d[4]),this.l=_a(d[5]||"",!0),SI(this,d[6]||"",!0),this.m=_a(d[7]||"")):(this.h=!1,this.i=new Ia(null,this.h))}Fi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(wa(d,AI,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(wa(d,AI,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(wa(h,h.charAt(0)=="/"?DM:CM,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",wa(h,SM)),c.join("")};function cr(c){return new Fi(c)}function Eu(c,d,h){c.j=h?_a(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function bu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function SI(c,d,h){d instanceof Ia?(c.i=d,AM(c.i,c.h)):(h||(d=wa(d,TM)),c.i=new Ia(d,c.h))}function Fe(c,d,h){c.i.set(d,h)}function Cu(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function _a(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wa(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,bM),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function bM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var AI=/[#\/\?@]/g,CM=/[#\?:]/g,DM=/[#\?]/g,TM=/[#\?@]/g,SM=/#/g;function Ia(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Hr(c){c.g||(c.g=new Map,c.h=0,c.i&&EM(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Ia.prototype,t.add=function(c,d){Hr(this),this.i=null,c=Po(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function xI(c,d){Hr(c),d=Po(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function RI(c,d){return Hr(c),d=Po(c,d),c.g.has(d)}t.forEach=function(c,d){Hr(this),this.g.forEach(function(h,m){h.forEach(function(S){c.call(d,S,m,this)},this)},this)},t.na=function(){Hr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let m=0;m<d.length;m++){let S=c[m];for(let M=0;M<S.length;M++)h.push(d[m])}return h},t.V=function(c){Hr(this);let d=[];if(typeof c=="string")RI(this,c)&&(d=d.concat(this.g.get(Po(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},t.set=function(c,d){return Hr(this),this.i=null,c=Po(this,c),RI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function MI(c,d,h){xI(c,d),0<h.length&&(c.i=null,c.g.set(Po(c,d),P(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var m=d[h];let M=encodeURIComponent(String(m)),V=this.V(m);for(m=0;m<V.length;m++){var S=M;V[m]!==""&&(S+="="+encodeURIComponent(String(V[m]))),c.push(S)}}return this.i=c.join("&")};function Po(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function AM(c,d){d&&!c.j&&(Hr(c),c.i=null,c.g.forEach(function(h,m){var S=m.toLowerCase();m!=S&&(xI(this,m),MI(this,S,h))},c)),c.j=d}function xM(c,d){let h=new ya;if(a.Image){let m=new Image;m.onload=g(zr,h,"TestLoadImage: loaded",!0,d,m),m.onerror=g(zr,h,"TestLoadImage: error",!1,d,m),m.onabort=g(zr,h,"TestLoadImage: abort",!1,d,m),m.ontimeout=g(zr,h,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function RM(c,d){let h=new ya,m=new AbortController,S=setTimeout(()=>{m.abort(),zr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(M=>{clearTimeout(S),M.ok?zr(h,"TestPingServer: ok",!0,d):zr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(S),zr(h,"TestPingServer: error",!1,d)})}function zr(c,d,h,m,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),m(h)}catch{}}function MM(){this.g=new fM}function NM(c,d,h){let m=h||"";try{DI(c,function(S,M){let V=S;l(S)&&(V=qf(S)),d.push(m+M+"="+encodeURIComponent(V))})}catch(S){throw d.push(m+"type="+encodeURIComponent("_badmap")),S}}function Ea(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Ea,Gf),Ea.prototype.g=function(){return new Du(this.l,this.j)},Ea.prototype.i=function(c){return function(){return c}}({});function Du(c,d){wt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Du,wt),t=Du.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ca(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ca(this)),this.g&&(this.readyState=3,Ca(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;NI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function NI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ba(this):Ca(this),this.readyState==3&&NI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ba(this))},t.Qa=function(c){this.g&&(this.response=c,ba(this))},t.ga=function(){this.g&&ba(this)};function ba(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ca(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function Ca(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Du.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function PI(c){let d="";return de(c,function(h,m){d+=m,d+=":",d+=h,d+=`\r
`}),d}function np(c,d,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=PI(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):Fe(c,d,h))}function We(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(We,wt);var PM=/^https?$/i,OM=["POST","PUT"];t=We.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qf.g(),this.v=this.o?cI(this.o):cI(Qf),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(M){OI(this,M);return}if(c=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var S in m)h.set(S,m[S]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let M of m.keys())h.set(M,m.get(M));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(M=>M.toLowerCase()=="content-type"),S=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(OM,d,void 0))||m||S||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[M,V]of h)this.g.setRequestHeader(M,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{LI(this),this.u=!0,this.g.send(c),this.u=!1}catch(M){OI(this,M)}};function OI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,kI(c),Tu(c)}function kI(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),Tu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tu(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?FI(this):this.bb())},t.bb=function(){FI(this)};function FI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||ur(c)!=4||c.Z()!=2)){if(c.u&&ur(c)==4)iI(c.Ea,0,c);else if(Pt(c,"readystatechange"),ur(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var m;if(m=V===0){var S=String(c.D).match(TI)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),m=!PM.test(S?S.toLowerCase():"")}h=m}if(h)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var M=2<ur(c)?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.Z()+"]",kI(c)}}finally{Tu(c)}}}}function Tu(c,d){if(c.g){LI(c);let h=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Pt(c,"ready");try{h.onreadystatechange=m}catch{}}}function LI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ur(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),hM(d)}};function VI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kM(c){let d={};c=(c.g&&2<=ur(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if($(c[m]))continue;var h=T(c[m]);let S=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let M=d[S]||[];d[S]=M,M.push(h)}b(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Da(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function UI(c){this.Aa=0,this.i=[],this.j=new ya,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Da("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Da("baseRetryDelayMs",5e3,c),this.cb=Da("retryDelaySeedMs",1e4,c),this.Wa=Da("forwardChannelMaxRetries",2,c),this.wa=Da("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wI(c&&c.concurrentRequestLimit),this.Da=new MM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=UI.prototype,t.la=8,t.G=1,t.connect=function(c,d,h,m){Ot(0),this.W=c,this.H=d||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=KI(this,null,this.W),Au(this)};function rp(c){if(jI(c),c.G==3){var d=c.U++,h=cr(c.I);if(Fe(h,"SID",c.K),Fe(h,"RID",d),Fe(h,"TYPE","terminate"),Ta(c,h),d=new $r(c,c.j,d),d.L=2,d.v=Cu(cr(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=QI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Iu(d)}WI(c)}function Su(c){c.g&&(op(c),c.g.cancel(),c.g=null)}function jI(c){Su(c),c.u&&(a.clearTimeout(c.u),c.u=null),xu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Au(c){if(!II(c.h)&&!c.s){c.s=!0;var d=c.Ga;ua||Zw(),la||(ua(),la=!0),Ff.add(d,c),c.B=0}}function FM(c,d){return EI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ga(y(c.Ga,c,d),GI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let S=new $r(this,this.j,c),M=this.o;if(this.S&&(M?(M=v(M),E(M,this.S)):M=this.S),this.m!==null||this.O||(S.H=M,M=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=$I(this,S,d),h=cr(this.I),Fe(h,"RID",c),Fe(h,"CVER",22),this.D&&Fe(h,"X-HTTP-Session-Id",this.D),Ta(this,h),M&&(this.O?d="headers="+encodeURIComponent(String(PI(M)))+"&"+d:this.m&&np(h,this.m,M)),tp(this.h,S),this.Ua&&Fe(h,"TYPE","init"),this.P?(Fe(h,"$req",d),Fe(h,"SID","null"),S.T=!0,Jf(S,h,null)):Jf(S,h,d),this.G=2}}else this.G==3&&(c?BI(this,c):this.i.length==0||II(this.h)||BI(this))};function BI(c,d){var h;d?h=d.l:h=c.U++;let m=cr(c.I);Fe(m,"SID",c.K),Fe(m,"RID",h),Fe(m,"AID",c.T),Ta(c,m),c.m&&c.o&&np(m,c.m,c.o),h=new $r(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=$I(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),tp(c.h,h),Jf(h,m,d)}function Ta(c,d){c.H&&de(c.H,function(h,m){Fe(d,m,h)}),c.l&&DI({},function(h,m){Fe(d,m,h)})}function $I(c,d,h){h=Math.min(c.i.length,h);var m=c.l?y(c.l.Na,c.l,c):null;e:{var S=c.i;let M=-1;for(;;){let V=["count="+h];M==-1?0<h?(M=S[0].g,V.push("ofs="+M)):M=0:V.push("ofs="+M);let xe=!0;for(let mt=0;mt<h;mt++){let be=S[mt].g,It=S[mt].map;if(be-=M,0>be)M=Math.max(0,S[mt].g-100),xe=!1;else try{NM(It,V,"req"+be+"_")}catch{m&&m(It)}}if(xe){m=V.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,m}function HI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ua||Zw(),la||(ua(),la=!0),Ff.add(d,c),c.v=0}}function ip(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ga(y(c.Fa,c),GI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,zI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ga(y(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Su(this),zI(this))};function op(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function zI(c){c.g=new $r(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=cr(c.qa);Fe(d,"RID","rpc"),Fe(d,"SID",c.K),Fe(d,"AID",c.T),Fe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(d,"TO",c.ja),Fe(d,"TYPE","xmlhttp"),Ta(c,d),c.m&&c.o&&np(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=Cu(cr(d)),h.m=null,h.P=!0,yI(h,c)}t.Za=function(){this.C!=null&&(this.C=null,Su(this),ip(this),Ot(19))};function xu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function qI(c,d){var h=null;if(c.g==d){xu(c),op(c),c.g=null;var m=2}else if(ep(c.h,d))h=d.D,bI(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var S=c.B;m=vu(),Pt(m,new fI(m,h)),Au(c)}else HI(c);else if(S=d.s,S==3||S==0&&0<d.X||!(m==1&&FM(c,d)||m==2&&ip(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),S){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function GI(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function Li(c,d){if(c.j.info("Error code "+d),d==2){var h=y(c.fb,c),m=c.Xa;let S=!m;m=new Fi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Eu(m,"https"),Cu(m),S?xM(m.toString(),h):RM(m.toString(),h)}else Ot(2);c.G=0,c.l&&c.l.sa(d),WI(c),jI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function WI(c){if(c.G=0,c.ka=[],c.l){let d=CI(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function KI(c,d,h){var m=h instanceof Fi?cr(h):new Fi(h);if(m.g!="")d&&(m.g=d+"."+m.g),bu(m,m.s);else{var S=a.location;m=S.protocol,d=d?d+"."+S.hostname:S.hostname,S=+S.port;var M=new Fi(null);m&&Eu(M,m),d&&(M.g=d),S&&bu(M,S),h&&(M.l=h),m=M}return h=c.D,d=c.ya,h&&d&&Fe(m,h,d),Fe(m,"VER",c.la),Ta(c,m),m}function QI(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new We(new Ea({eb:h})):new We(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function YI(){}t=YI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ru(){}Ru.prototype.g=function(c,d){return new Yt(c,d)};function Yt(c,d){wt.call(this),this.g=new UI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Oo(this)}C(Yt,wt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){rp(this.g)},Yt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=qf(c),c=h);d.i.push(new _M(d.Ya++,c)),d.G==3&&Au(d)},Yt.prototype.N=function(){this.g.l=null,delete this.j,rp(this.g),delete this.g,Yt.aa.N.call(this)};function JI(c){Wf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(JI,Wf);function ZI(){Kf.call(this),this.status=1}C(ZI,Kf);function Oo(c){this.g=c}C(Oo,YI),Oo.prototype.ua=function(){Pt(this.g,"a")},Oo.prototype.ta=function(c){Pt(this.g,new JI(c))},Oo.prototype.sa=function(c){Pt(this.g,new ZI)},Oo.prototype.ra=function(){Pt(this.g,"b")},Ru.prototype.createWebChannel=Ru.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,i_=Pr.createWebChannelTransport=function(){return new Ru},r_=Pr.getStatEventTarget=function(){return vu()},n_=Pr.Event=Oi,$h=Pr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_u.NO_ERROR=0,_u.TIMEOUT=8,_u.HTTP_ERROR=6,qc=Pr.ErrorCode=_u,pI.COMPLETE="complete",t_=Pr.EventType=pI,uI.EventType=pa,pa.OPEN="a",pa.CLOSE="b",pa.ERROR="c",pa.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Us=Pr.WebChannel=uI,U4=Pr.FetchXmlHttpFactory=Ea,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,e_=Pr.XhrIo=We}).apply(typeof Bh<"u"?Bh:typeof self<"u"?self:typeof window<"u"?window:{});var qA="@firebase/firestore";var ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var ra="10.14.0";var bo=new yi("@firebase/firestore");function Gc(){return bo.logLevel}function G(t,...e){if(bo.logLevel<=ve.DEBUG){let n=e.map(Cw);bo.debug(`Firestore (${ra}): ${t}`,...n)}}function Co(t,...e){if(bo.logLevel<=ve.ERROR){let n=e.map(Cw);bo.error(`Firestore (${ra}): ${t}`,...n)}}function Kh(t,...e){if(bo.logLevel<=ve.WARN){let n=e.map(Cw);bo.warn(`Firestore (${ra}): ${t}`,...n)}}function Cw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function _e(t="Unexpected state"){let e=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: `+t;throw Co(e),new Error(e)}function Xe(t,e){t||_e()}function ke(t,e){return t}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends dn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Or=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Qh=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},c_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ht.UNAUTHENTICATED))}shutdown(){}},u_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},l_=class{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Or,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Or)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new Qh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new ht(e)}},d_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},h_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new d_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},f_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},p_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Xe(this.o===void 0);let r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new f_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function j4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Yh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=j4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ne(t,e){return t<e?-1:t>e?1:0}function Hs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ze=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Rt(0,0))}static max(){return new t(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Jh=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(),r===void 0?r=e.length-n:r>e.length-n&&_e(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ot=class t extends Jh{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new Q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},B4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hn=class t extends Jh{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return B4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new Q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var he=class t{constructor(e){this.path=e}static fromPath(e){return new t(ot.fromString(e))}static fromName(e){return new t(ot.fromString(e).popFirst(5))}static empty(){return new t(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ot(e.slice()))}};var m_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};m_.UNKNOWN_ID=-1;function $4(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new Do(i,he.empty(),e)}function H4(t){return new Do(t.readTime,t.key,-1)}var Do=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Ze.min(),he.empty(),-1)}static max(){return new t(Ze.max(),he.empty(),-1)}};function z4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}var q4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",g_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function px(t){return I(this,null,function*(){if(t.code!==F.FAILED_PRECONDITION||t.message!==q4)throw t;G("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function G4(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yf(t){return t.name==="IndexedDbTransactionError"}var W4=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Dw(t){return t==null}function Zc(t){return t===0&&1/t==-1/0}function K4(t){return typeof t=="number"&&Number.isInteger(t)&&!Zc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Q4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],CQ=[...Q4,"documentOverlays"],Y4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],J4=Y4,Z4=[...J4,"indexConfiguration","indexState","indexEntries"];var DQ=[...Z4,"globals"];function GA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function nu(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mx(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var fn=class t{constructor(e,n){this.comparator=e,this.root=n||nr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bs(this.root,e,this.comparator,!0)}},Bs=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},nr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();let e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}};nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1;nr.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,n,r,i,o){return this}insert(e,n,r){return new nr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var jt=class t{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zh(this.data.getIterator())}getIteratorFrom(e){return new Zh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Zh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var tr=class t{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new t([])}unionWith(e){let n=new jt(hn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var y_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Fr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new y_("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Fr.EMPTY_BYTE_STRING=new Fr("");var X4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(t){if(Xe(!!t),typeof t=="string"){let e=0,n=X4.exec(t);if(Xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zs(t){return typeof t=="string"?Fr.fromBase64String(t):Fr.fromUint8Array(t)}function Tw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gx(t){let e=t.mapValue.fields.__previous_value__;return Tw(e)?gx(e):e}function Xh(t){let e=Ti(t.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}var v_=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},__=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Hh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tw(t)?4:vx(t)?9007199254740991:yx(t)?10:11:_e()}function rr(t,e){if(t===e)return!0;let n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xh(t).isEqual(Xh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ti(i.timestampValue),a=Ti(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return zs(i.bytesValue).isEqual(zs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return it(i.geoPointValue.latitude)===it(o.geoPointValue.latitude)&&it(i.geoPointValue.longitude)===it(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return it(i.integerValue)===it(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=it(i.doubleValue),a=it(o.doubleValue);return s===a?Zc(s)===Zc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Hs(t.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(GA(s)!==GA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!rr(s[u],a[u])))return!1;return!0}(t,e);default:return _e()}}function Xc(t,e){return(t.values||[]).find(n=>rr(n,e))!==void 0}function Gs(t,e){if(t===e)return 0;let n=qs(t),r=qs(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=it(o.integerValue||o.doubleValue),u=it(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return WA(t.timestampValue,e.timestampValue);case 4:return WA(Xh(t),Xh(e));case 5:return Ne(t.stringValue,e.stringValue);case 6:return function(o,s){let a=zs(o),u=zs(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=Ne(a[l],u[l]);if(f!==0)return f}return Ne(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ne(it(o.latitude),it(s.latitude));return a!==0?a:Ne(it(o.longitude),it(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return KA(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,f;let p=o.fields||{},y=s.fields||{},g=(a=p.value)===null||a===void 0?void 0:a.arrayValue,C=(u=y.value)===null||u===void 0?void 0:u.arrayValue,P=Ne(((l=g?.values)===null||l===void 0?void 0:l.length)||0,((f=C?.values)===null||f===void 0?void 0:f.length)||0);return P!==0?P:KA(g,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Hh.mapValue&&s===Hh.mapValue)return 0;if(o===Hh.mapValue)return 1;if(s===Hh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=Ne(u[p],f[p]);if(y!==0)return y;let g=Gs(a[u[p]],l[f[p]]);if(g!==0)return g}return Ne(u.length,f.length)}(t.mapValue,e.mapValue);default:throw _e()}}function WA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);let n=Ti(t),r=Ti(e),i=Ne(n.seconds,r.seconds);return i!==0?i:Ne(n.nanos,r.nanos)}function KA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Gs(n[i],r[i]);if(o)return o}return Ne(n.length,r.length)}function Ws(t){return w_(t)}function w_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=w_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${w_(n.fields[s])}`;return i+"}"}(t.mapValue):_e()}function I_(t){return!!t&&"integerValue"in t}function Sw(t){return!!t&&"arrayValue"in t}function Gh(t){return!!t&&"mapValue"in t}function yx(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Kc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return nu(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vx(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var er=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kc(n)}setAll(e){let n=hn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Kc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){nu(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Kc(this.value))}};function _x(t){let e=[];return nu(t.fields,(n,r)=>{let i=new hn([n]);if(Gh(r)){let o=_x(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new tr(e)}var Ks=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Ze.min(),Ze.min(),Ze.min(),er.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Ze.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Ze.min(),Ze.min(),er.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ze.min(),Ze.min(),er.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Qs=class{constructor(e,n){this.position=e,this.inclusive=n}};function QA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),n.key):r=Gs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!rr(t.position[n],e.position[n]))return!1;return!0}var Ys=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function e3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var ef=class{},ft=class t extends ef{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b_(e,n,r):n==="array-contains"?new T_(e,r):n==="in"?new S_(e,r):n==="not-in"?new A_(e,r):n==="array-contains-any"?new x_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new C_(e,r):new D_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gs(n,this.value)):n!==null&&qs(this.value)===qs(n)&&this.matchesComparison(Gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Si=class t extends ef{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return wx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function wx(t){return t.op==="and"}function Ix(t){return t3(t)&&wx(t)}function t3(t){for(let e of t.filters)if(e instanceof Si)return!1;return!0}function E_(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+Ws(t.value);if(Ix(t))return t.filters.map(e=>E_(e)).join(",");{let e=t.filters.map(n=>E_(n)).join(",");return`${t.op}(${e})`}}function Ex(t,e){return t instanceof ft?function(r,i){return i instanceof ft&&r.op===i.op&&r.field.isEqual(i.field)&&rr(r.value,i.value)}(t,e):t instanceof Si?function(r,i){return i instanceof Si&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Ex(s,i.filters[a]),!0):!1}(t,e):void _e()}function bx(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Ws(n.value)}`}(t):t instanceof Si?function(n){return n.op.toString()+" {"+n.getFilters().map(bx).join(" ,")+"}"}(t):"Filter"}var b_=class extends ft{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){let n=he.comparator(e.key,this.key);return this.matchesComparison(n)}},C_=class extends ft{constructor(e,n){super(e,"in",n),this.keys=Cx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},D_=class extends ft{constructor(e,n){super(e,"not-in",n),this.keys=Cx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Cx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}var T_=class extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Sw(n)&&Xc(n.arrayValue,this.value)}},S_=class extends ft{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}},A_=class extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Xc(this.value.arrayValue,n)}},x_=class extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Sw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xc(this.value.arrayValue,r))}};var R_=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function JA(t,e=null,n=[],r=[],i=null,o=null,s=null){return new R_(t,e,n,r,i,o,s)}function Aw(t){let e=ke(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>E_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ws(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ws(r)).join(",")),e.ue=n}return e.ue}function xw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!e3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ex(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YA(t.startAt,e.startAt)&&YA(t.endAt,e.endAt)}var Js=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function n3(t,e,n,r,i,o,s,a){return new Js(t,e,n,r,i,o,s,a)}function r3(t){return new Js(t)}function ZA(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function i3(t){return t.collectionGroup!==null}function Qc(t){let e=ke(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new jt(hn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ys(o,r))}),n.has(hn.keyField().canonicalString())||e.ce.push(new Ys(hn.keyField(),r))}return e.ce}function Io(t){let e=ke(t);return e.le||(e.le=o3(e,Qc(t))),e.le}function o3(t,e){if(t.limitType==="F")return JA(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ys(i.field,o)});let n=t.endAt?new Qs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qs(t.startAt.position,t.startAt.inclusive):null;return JA(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function M_(t,e,n){return new Js(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dx(t,e){return xw(Io(t),Io(e))&&t.limitType===e.limitType}function Tx(t){return`${Aw(Io(t))}|lt:${t.limitType}`}function Wc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bx(i)).join(", ")}]`),Dw(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ws(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ws(i)).join(",")),`Target(${r})`}(Io(t))}; limitType=${t.limitType})`}function Rw(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):he.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Qc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=QA(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Qc(r),i)||r.endAt&&!function(s,a,u){let l=QA(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Qc(r),i))}(t,e)}function s3(t){return(e,n)=>{let r=!1;for(let i of Qc(t)){let o=a3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function a3(t,e,n){let r=t.field.isKeyField()?he.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Gs(u,l):_e()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}var Ai=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){nu(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return mx(this.inner)}size(){return this.innerSize}};var c3=new fn(he.comparator);function tf(){return c3}var Sx=new fn(he.comparator);function zh(...t){let e=Sx;for(let n of t)e=e.insert(n.key,n);return e}function Ax(t){let e=Sx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wo(){return Yc()}function xx(){return Yc()}function Yc(){return new Ai(t=>t.toString(),(t,e)=>t.isEqual(e))}var u3=new fn(he.comparator),l3=new jt(he.comparator);function xt(...t){let e=l3;for(let n of t)e=e.add(n);return e}var d3=new jt(Ne);function h3(){return d3}function Mw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function Rx(t){return{integerValue:""+t}}function f3(t,e){return K4(e)?Rx(e):Mw(t,e)}var Zs=class{constructor(){this._=void 0}};function p3(t,e,n){return t instanceof Xs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Tw(o)&&(o=gx(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof To?Nx(t,e):t instanceof So?Px(t,e):function(i,o){let s=Mx(i,o),a=XA(s)+XA(i.Pe);return I_(s)&&I_(i.Pe)?Rx(a):Mw(i.serializer,a)}(t,e)}function m3(t,e,n){return t instanceof To?Nx(t,e):t instanceof So?Px(t,e):n}function Mx(t,e){return t instanceof ea?function(r){return I_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Xs=class extends Zs{},To=class extends Zs{constructor(e){super(),this.elements=e}};function Nx(t,e){let n=Ox(e);for(let r of t.elements)n.some(i=>rr(i,r))||n.push(r);return{arrayValue:{values:n}}}var So=class extends Zs{constructor(e){super(),this.elements=e}};function Px(t,e){let n=Ox(e);for(let r of t.elements)n=n.filter(i=>!rr(i,r));return{arrayValue:{values:n}}}var ea=class extends Zs{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function XA(t){return it(t.integerValue||t.doubleValue)}function Ox(t){return Sw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function g3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof To&&i instanceof To||r instanceof So&&i instanceof So?Hs(r.elements,i.elements,rr):r instanceof ea&&i instanceof ea?rr(r.Pe,i.Pe):r instanceof Xs&&i instanceof Xs}(t.transform,e.transform)}var N_=class{constructor(e,n){this.version=e,this.transformResults=n}},Eo=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Wh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ta=class{};function kx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nf(t.key,Eo.none()):new Ao(t.key,t.data,Eo.none());{let n=t.data,r=er.empty(),i=new jt(hn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Lr(t.key,r,new tr(i.toArray()),Eo.none())}}function y3(t,e,n){t instanceof Ao?function(i,o,s){let a=i.value.clone(),u=tx(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Lr?function(i,o,s){if(!Wh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=tx(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(Fx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Jc(t,e,n,r){return t instanceof Ao?function(o,s,a,u){if(!Wh(o.precondition,s))return a;let l=o.value.clone(),f=nx(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Lr?function(o,s,a,u){if(!Wh(o.precondition,s))return a;let l=nx(o.fieldTransforms,u,s),f=s.data;return f.setAll(Fx(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return Wh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function v3(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=Mx(r.transform,i||null);o!=null&&(n===null&&(n=er.empty()),n.set(r.field,o))}return n||null}function ex(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Hs(r,i,(o,s)=>g3(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ao=class extends ta{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Lr=class extends ta{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Fx(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function tx(t,e,n){let r=new Map;Xe(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,m3(s,a,n[i]))}return r}function nx(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,p3(o,s,e))}return r}var nf=class extends ta{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},P_=class extends ta{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var O_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&y3(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Jc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=xx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=kx(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xt())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(n,r)=>ex(n,r))&&Hs(this.baseMutations,e.baseMutations,(n,r)=>ex(n,r))}},k_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xe(e.mutations.length===r.length);let i=function(){return u3}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var F_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var nt,Ie;function _3(t){switch(t){default:return _e();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function w3(t){if(t===void 0)return Co("GRPC error has no .code"),F.UNKNOWN;switch(t){case nt.OK:return F.OK;case nt.CANCELLED:return F.CANCELLED;case nt.UNKNOWN:return F.UNKNOWN;case nt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case nt.INTERNAL:return F.INTERNAL;case nt.UNAVAILABLE:return F.UNAVAILABLE;case nt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case nt.NOT_FOUND:return F.NOT_FOUND;case nt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case nt.ABORTED:return F.ABORTED;case nt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case nt.DATA_LOSS:return F.DATA_LOSS;default:return _e()}}(Ie=nt||(nt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var SQ=new Xv([4294967295,4294967295],0);var L_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function V_(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E3(t,e){return V_(t,e.toTimestamp())}function $s(t){return Xe(!!t),Ze.fromTimestamp(function(n){let r=Ti(n);return new Rt(r.seconds,r.nanos)}(t))}function Lx(t,e){return U_(t,e).canonicalString()}function U_(t,e){let n=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function b3(t){let e=ot.fromString(t);return Xe(M3(e)),e}function j_(t,e){return Lx(t.databaseId,e.path)}function C3(t){let e=b3(t);return e.length===4?ot.emptyPath():T3(e)}function D3(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function T3(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rx(t,e,n){return{name:j_(t,e),fields:n.value.mapValue.fields}}function S3(t,e){let n;if(e instanceof Ao)n={update:rx(t,e.key,e.value)};else if(e instanceof nf)n={delete:j_(t,e.key)};else if(e instanceof Lr)n={update:rx(t,e.key,e.data),updateMask:R3(e.fieldMask)};else{if(!(e instanceof P_))return _e();n={verify:j_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Xs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof To)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof So)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ea)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw _e()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:E3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e()}(t,e.precondition)),n}function A3(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?$s(i.updateTime):$s(o);return s.isEqual(Ze.min())&&(s=$s(o)),new N_(s,i.transformResults||[])}(n,e))):[]}function x3(t){let e=C3(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Xe(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){let y=Vx(p);return y instanceof Si&&Ix(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(C){return new Ys(js(C.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,Dw(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,g=p.values||[];return new Qs(g,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,g=p.values||[];return new Qs(g,y)}(n.endAt)),n3(e,i,s,o,a,"F",u,l)}function Vx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=js(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=js(n.unaryFilter.field);return ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=js(n.unaryFilter.field);return ft.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=js(n.unaryFilter.field);return ft.create(s,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(js(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Si.create(n.compositeFilter.filters.map(r=>Vx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return _e()}}(n.compositeFilter.op))}(t):_e()}function js(t){return hn.fromServerFormat(t.fieldPath)}function R3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function M3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var B_=class{constructor(e){this.ct=e}};function N3(t){let e=x3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?M_(e,e.limit,"L"):e}var rf=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(it(e.integerValue));else if("doubleValue"in e){let r=it(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Zc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Ti(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(zs(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?vx(e)?this.dt(n,Number.MAX_SAFE_INTEGER):yx(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):_e()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(it(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),he.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};rf.vt=new rf;var $_=class{constructor(){this.un=new H_}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Do.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},H_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new jt(ot.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new jt(ot.comparator)).toArray()}};var AQ=new Uint8Array(0);var Xn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(41943040,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);var eu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var z_=class{constructor(){this.changes=new Ai(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ks.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var q_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var G_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Jc(r.mutation,i,tr.empty(),Rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xt()){let i=wo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=zh();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=wo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xt()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=tf(),s=Yc(),a=function(){return Yc()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Lr)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),Jc(f.mutation,l,f.mutation.getFieldMask(),Rt.now())):s.set(l.key,tr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var p;return a.set(l,new q_(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Yc(),i=new fn((s,a)=>s-a),o=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||tr.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||xt()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=xx();f.forEach(y=>{if(!o.has(y)){let g=kx(n.get(y),r.get(y));g!==null&&p.set(y,g),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):i3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(wo()),a=-1,u=o;return s.next(l=>L.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,xt())).next(f=>({batchId:a,changes:Ax(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=zh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=zh();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let l=function(p,y){return new Js(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,Ks.newInvalidDocument(f)))});let a=zh();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&Jc(f.mutation,l,tr.empty(),Rt.now()),Rw(n,l)&&(a=a.insert(u,l))}),a})}};var W_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:$s(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:N3(i.bundledQuery),readTime:$s(i.readTime)}}(n)),L.resolve()}};var K_=class{constructor(){this.overlays=new fn(he.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=wo();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=wo(),o=n.length+1,s=new he(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new fn((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=wo(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=wo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new F_(n,r));let o=this.Ir.get(n);o===void 0&&(o=xt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Q_=class{constructor(){this.sessionToken=Fr.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var tu=class{constructor(){this.Tr=new jt(rt.Er),this.dr=new jt(rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new rt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new rt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new he(new ot([])),r=new rt(n,e),i=new rt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new he(new ot([])),r=new rt(n,e),i=new rt(n,e+1),o=xt();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new rt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},rt=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return he.comparator(e.key,n.key)||Ne(e.wr,n.wr)}static Ar(e,n){return Ne(e.wr,n.wr)||he.comparator(e.key,n.key)}};var Y_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new jt(rt.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new O_(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new rt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new jt(Ne);return n.forEach(i=>{let o=new rt(i,0),s=new rt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;he.isDocumentKey(o)||(o=o.child(""));let s=new rt(new he(o),0),a=new jt(Ne);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{let o=new rt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new rt(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var J_=class{constructor(e){this.Mr=e,this.docs=function(){return new fn(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Ks.newInvalidDocument(n))}getEntries(e,n){let r=tf();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ks.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=tf(),s=n.path,a=new he(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||z4(H4(f),r)<=0||(i.has(f.key)||Rw(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){_e()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Z_(this)}getSize(e){return L.resolve(this.size)}},Z_=class extends z_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var X_=class{constructor(e){this.persistence=e,this.Nr=new Ai(n=>Aw(n),xw),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tu,this.targetCount=0,this.kr=eu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new eu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}};var ew=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new W4(0),this.Kr=!1,this.Kr=!0,this.$r=new Q_,this.referenceDelegate=e(this),this.Ur=new X_(this),this.indexManager=new $_,this.remoteDocumentCache=function(i){return new J_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new B_(n),this.Gr=new W_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new K_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Y_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);let i=new tw(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},tw=class extends g_{constructor(e){super(),this.currentSequenceNumber=e}},nw=class t{constructor(e){this.persistence=e,this.Jr=new tu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw _e()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=he.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ze.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var rw=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=xt(),i=xt();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var iw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ow=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return bS()?8:G4(dt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new iw;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Gc()<=ve.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Wc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(Gc()<=ve.DEBUG&&G("QueryEngine","Query:",Wc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Gc()<=ve.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Wc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Io(n))):L.resolve())}Yi(e,n){if(ZA(n))return L.resolve(null);let r=Io(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=M_(n,null,"F"),r=Io(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=xt(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,M_(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return ZA(n)||i.isEqual(Ze.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?L.resolve(null):(Gc()<=ve.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wc(n)),this.rs(e,s,n,$4(i,-1)).next(a=>a))})}ts(e,n){let r=new jt(s3(e));return n.forEach((i,o)=>{Rw(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Gc()<=ve.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Wc(n)),this.Ji.getDocumentsMatchingQuery(e,n,Do.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var sw=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new fn(Ne),this._s=new Ai(o=>Aw(o),xw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function P3(t,e,n,r){return new sw(t,e,n,r)}function Ux(t,e){return I(this,null,function*(){let n=ke(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=xt();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function O3(t,e){let n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,f){let p=l.batch,y=p.keys(),g=L.resolve();return y.forEach(C=>{g=g.next(()=>f.getEntry(u,C)).next(P=>{let N=l.docVersions.get(C);Xe(N!==null),P.version.compareTo(N)<0&&(p.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),f.addEntry(P)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=xt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function k3(t){let e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function F3(t,e){let n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var of=class{constructor(){this.activeTargetIds=h3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var aw=class{constructor(){this.so=new of,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new of,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var cw=class{_o(e){}shutdown(){}};var sf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var qh=null;function o_(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}var L3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var uw=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var At="WebChannelConnection",lw=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=o_(),u=this.xo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(f=>(G("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Kh("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ra}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=L3[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=o_();return new Promise((s,a)=>{let u=new e_;u.setWithCredentials(!0),u.listenOnce(t_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qc.NO_ERROR:let f=u.getResponseJson();G(At,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case qc.TIMEOUT:G(At,`RPC '${e}' ${o} timed out`),a(new Q(F.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:let p=u.getStatus();if(G(At,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let g=y?.error;if(g&&g.status&&g.message){let C=function(N){let j=N.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(j)>=0?j:F.UNKNOWN}(g.status);a(new Q(C,g.message))}else a(new Q(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new Q(F.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{G(At,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);G(At,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=o_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=i_(),a=r_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");G(At,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u),y=!1,g=!1,C=new uw({Io:N=>{g?G(At,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(y||(G(At,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),G(At,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},To:()=>p.close()}),P=(N,j,$)=>{N.listen(j,H=>{try{$(H)}catch(ee){setTimeout(()=>{throw ee},0)}})};return P(p,Us.EventType.OPEN,()=>{g||(G(At,`RPC '${e}' stream ${i} transport opened.`),C.yo())}),P(p,Us.EventType.CLOSE,()=>{g||(g=!0,G(At,`RPC '${e}' stream ${i} transport closed`),C.So())}),P(p,Us.EventType.ERROR,N=>{g||(g=!0,Kh(At,`RPC '${e}' stream ${i} transport errored:`,N),C.So(new Q(F.UNAVAILABLE,"The operation could not be completed")))}),P(p,Us.EventType.MESSAGE,N=>{var j;if(!g){let $=N.data[0];Xe(!!$);let H=$,ee=H.error||((j=H[0])===null||j===void 0?void 0:j.error);if(ee){G(At,`RPC '${e}' stream ${i} received error:`,ee);let Te=ee.status,de=function(_){let E=nt[_];if(E!==void 0)return w3(E)}(Te),b=ee.message;de===void 0&&(de=F.INTERNAL,b="Unknown error status: "+Te+" with message "+ee.message),g=!0,C.So(new Q(de,b)),p.close()}else G(At,`RPC '${e}' stream ${i} received:`,$),C.bo($)}}),P(a,n_.STAT_EVENT,N=>{N.stat===$h.PROXY?G(At,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===$h.NOPROXY&&G(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function s_(){return typeof document<"u"?document:null}function vf(t){return new L_(t,!0)}var af=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var dw=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new af(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return I(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return I(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return I(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Co(n.toString()),Co("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new Q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>I(this,null,function*(){this.state=0,this.start()}))}I_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var hw=class extends dw{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=A3(e.writeResults,e.commitTime),r=$s(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=D3(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>S3(this.serializer,r))};this.a_(n)}};var fw=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,U_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(F.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,U_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(F.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},pw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Co(n),this.D_=!1):G("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var mw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>I(this,null,function*(){iu(this)&&(G("RemoteStore","Restarting streams for network reachability change."),yield function(u){return I(this,null,function*(){let l=ke(u);l.L_.add(4),yield ru(l),l.q_.set("Unknown"),l.L_.delete(4),yield _f(l)})}(this))}))}),this.q_=new pw(r,i)}};function _f(t){return I(this,null,function*(){if(iu(t))for(let e of t.B_)yield e(!0)})}function ru(t){return I(this,null,function*(){for(let e of t.B_)yield e(!1)})}function iu(t){return ke(t).L_.size===0}function jx(t,e,n){return I(this,null,function*(){if(!yf(e))throw e;t.L_.add(1),yield ru(t),t.q_.set("Offline"),n||(n=()=>k3(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){G("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield _f(t)}))})}function Bx(t,e){return e().catch(n=>jx(t,n,e))}function wf(t){return I(this,null,function*(){let e=ke(t),n=xi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;V3(e);)try{let i=yield F3(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,U3(e,i)}catch(i){yield jx(e,i)}$x(e)&&Hx(e)})}function V3(t){return iu(t)&&t.O_.length<10}function U3(t,e){t.O_.push(e);let n=xi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $x(t){return iu(t)&&!xi(t).n_()&&t.O_.length>0}function Hx(t){xi(t).start()}function j3(t){return I(this,null,function*(){xi(t).p_()})}function B3(t){return I(this,null,function*(){let e=xi(t);for(let n of t.O_)e.m_(n.mutations)})}function $3(t,e,n){return I(this,null,function*(){let r=t.O_.shift(),i=k_.from(r,e,n);yield Bx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield wf(t)})}function H3(t,e){return I(this,null,function*(){e&&xi(t).V_&&(yield function(r,i){return I(this,null,function*(){if(function(s){return _3(s)&&s!==F.ABORTED}(i.code)){let o=r.O_.shift();xi(r).s_(),yield Bx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield wf(r)}})}(t,e)),$x(t)&&Hx(t)})}function ix(t,e){return I(this,null,function*(){let n=ke(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");let r=iu(n);n.L_.add(3),yield ru(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield _f(n)})}function z3(t,e){return I(this,null,function*(){let n=ke(t);e?(n.L_.delete(2),yield _f(n)):e||(n.L_.add(2),yield ru(n),n.q_.set("Unknown"))})}function xi(t){return t.U_||(t.U_=function(n,r,i){let o=ke(n);return o.w_(),new hw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:j3.bind(null,t),mo:H3.bind(null,t),f_:B3.bind(null,t),g_:$3.bind(null,t)}),t.B_.push(e=>I(this,null,function*(){e?(t.U_.s_(),yield wf(t)):(yield t.U_.stop(),t.O_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var gw=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function zx(t,e){if(Co("AsyncQueue",`${e}: ${t}`),yf(t))return new Q(F.UNAVAILABLE,`${e}: ${t}`);throw t}var yw=class{constructor(){this.queries=ox(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ke(n),o=i.queries;i.queries=ox(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new Q(F.ABORTED,"Firestore shutting down"))}};function ox(){return new Ai(t=>Tx(t),Dx)}function q3(t){t.Y_.forEach(e=>{e.next()})}var sx,ax;(ax=sx||(sx={})).ea="default",ax.Cache="cache";var vw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Ai(a=>Tx(a),Dx),this.Ma=new Map,this.xa=new Set,this.Oa=new fn(he.comparator),this.Na=new Map,this.La=new tu,this.Ba={},this.ka=new Map,this.qa=eu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function G3(t,e,n){return I(this,null,function*(){let r=Y3(t);try{let i=yield function(s,a){let u=ke(s),l=Rt.now(),f=a.reduce((g,C)=>g.add(C.key),xt()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let C=tf(),P=xt();return u.cs.getEntries(g,f).next(N=>{C=N,C.forEach((j,$)=>{$.isValidDocument()||(P=P.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,C)).next(N=>{p=N;let j=[];for(let $ of a){let H=v3($,p.get($.key).overlayedDocument);H!=null&&j.push(new Lr($.key,H,_x(H.value.mapValue),Eo.exists(!0)))}return u.mutationQueue.addMutationBatch(g,l,j,a)}).next(N=>{y=N;let j=N.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(g,N.batchId,j)})}).then(()=>({batchId:y.batchId,changes:Ax(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new fn(Ne)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield If(r,i.changes),yield wf(r.remoteStore)}catch(i){let o=zx(i,"Failed to persist write");n.reject(o)}})}function cx(t,e,n){let r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ke(s);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.j_)y.Z_(a)&&(l=!0)}),l&&q3(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function W3(t,e){return I(this,null,function*(){let n=ke(t),r=e.batch.batchId;try{let i=yield O3(n.localStore,e);Gx(n,r,null),qx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield If(n,i)}catch(i){yield px(i)}})}function K3(t,e,n){return I(this,null,function*(){let r=ke(t);try{let i=yield function(s,a){let u=ke(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Xe(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);Gx(r,e,n),qx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield If(r,i)}catch(i){yield px(i)}})}function qx(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Gx(t,e,n){let r=ke(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function If(t,e,n){return I(this,null,function*(){let r=ke(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=rw.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return I(this,null,function*(){let f=ke(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(l,y=>L.forEach(y.$i,g=>f.persistence.referenceDelegate.addReference(p,y.targetId,g)).next(()=>L.forEach(y.Ui,g=>f.persistence.referenceDelegate.removeReference(p,y.targetId,g)))))}catch(p){if(!yf(p))throw p;G("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let g=f.os.get(y),C=g.snapshotVersion,P=g.withLastLimboFreeSnapshotVersion(C);f.os=f.os.insert(y,P)}}})}(r.localStore,o))})}function Q3(t,e){return I(this,null,function*(){let n=ke(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());let r=yield Ux(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new Q(F.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield If(n,r.hs)}})}function Y3(t){let e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K3.bind(null,e),e}var ux=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return I(this,null,function*(){this.serializer=vf(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return P3(this.persistence,new ow,n.initialUser,this.serializer)}Ga(n){return new ew(nw.Zr,this.serializer)}Wa(n){return new aw}terminate(){return I(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var J3=(()=>{class t{initialize(n,r){return I(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q3.bind(null,this.syncEngine),yield z3(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new yw}()}createDatastore(n){let r=vf(n.databaseInfo.databaseId),i=function(s){return new lw(s)}(n.databaseInfo);return function(s,a,u,l){return new fw(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new mw(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>cx(this.syncEngine,r,0),function(){return sf.D()?new sf:new cw}())}createSyncEngine(n,r){return function(o,s,a,u,l,f,p){let y=new vw(o,s,a,u,l,f);return p&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return I(this,null,function*(){var n,r;yield function(o){return I(this,null,function*(){let s=ke(o);G("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield ru(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var _w=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ht.UNAUTHENTICATED,this.clientId=Yh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>I(this,null,function*(){G("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(G("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=zx(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function a_(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield Ux(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function lx(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Z3(t);G("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ix(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ix(e.remoteStore,i)),t._onlineComponents=e})}function Z3(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{yield a_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Kh("Error using user provided cache. Falling back to memory cache: "+n),yield a_(t,new ux)}}else G("FirestoreClient","Using default OfflineComponentProvider"),yield a_(t,new ux);return t._offlineComponents})}function X3(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),yield lx(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),yield lx(t,new J3))),t._onlineComponents})}function eH(t){return X3(t).then(e=>e.syncEngine)}function Wx(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var dx=new Map;function Kx(t,e,n){if(!n)throw new Q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tH(t,e,n,r){if(e===!0&&r===!0)throw new Q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hx(t){if(!he.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fx(t){if(he.isDocumentKey(t))throw new Q(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e()}function Qx(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Nw(t);throw new Q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var cf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},na=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new c_;switch(r.type){case"firstParty":return new h_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return I(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=dx.get(n);r&&(G("ComponentProvider","Removing Datastore"),dx.delete(n),r.terminate())}(this),Promise.resolve()}};function Yx(t,e,n,r={}){var i;let o=(t=Qx(t,na))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Kh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ht.MOCK_USER;else{a=yS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ht(l)}t._authCredentials=new u_(new Qh(a,u))}}var ww=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},kr=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Di=class t extends ww{constructor(e,n,r){super(e,n,r3(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new kr(this.firestore,null,new he(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Jx(t,e,...n){if(t=Qt(t),Kx("collection","path",e),t instanceof na){let r=ot.fromString(e,...n);return fx(r),new Di(t,null,r)}{if(!(t instanceof kr||t instanceof Di))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ot.fromString(e,...n));return fx(r),new Di(t.firestore,null,r)}}function Zx(t,e,...n){if(t=Qt(t),arguments.length===1&&(e=Yh.newId()),Kx("doc","path",e),t instanceof na){let r=ot.fromString(e,...n);return hx(r),new kr(t,null,new he(r))}{if(!(t instanceof kr||t instanceof Di))throw new Q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ot.fromString(e,...n));return hx(r),new kr(t.firestore,t instanceof Di?t.converter:null,new he(r))}}var uf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new af(this,"async_queue_retry"),this.Vu=()=>{let r=s_();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=s_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=s_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Or;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return I(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!yf(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Co("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=gw.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&_e()}verifyOperationInProgress(){}wu(){return I(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};var lf=class extends na{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new uf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return I(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new uf(e),this._firestoreClient=void 0,yield e}})}};function Xx(t,e){let n=typeof t=="object"?t:Ps(),r=typeof t=="string"?t:e||"(default)",i=Oc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=gS("firestore");o&&Yx(i,...o)}return i}function nH(t){if(t._terminated)throw new Q(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rH(t),t._firestoreClient}function rH(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,f){return new v_(a,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Wx(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new _w(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var df=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Fr.fromBase64String(e))}catch(n){throw new Q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var hf=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ff=class{constructor(e){this._methodName=e}};var pf=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}};var mf=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var iH=/^__.*__$/,Iw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ao(e,this.data,n,this.fieldTransforms)}};function eR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}var Ew=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(eR(this.Cu)&&iH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},bw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vf(e)}Qu(e,n,r,i=!1){return new Ew({Cu:e,methodName:n,qu:r,path:hn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function oH(t){let e=t._freezeSettings(),n=vf(t._databaseId);return new bw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sH(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);iR("Data must be an object, but it was:",s,r);let a=nR(r,s),u,l;if(o.merge)u=new tr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let y=aH(e,p,n);if(!s.contains(y))throw new Q(F.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);lH(f,y)||f.push(y)}u=new tr(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Iw(new er(a),u,l)}function tR(t,e){if(rR(t=Qt(t)))return iR("Unsupported field value:",e,t),nR(t,e);if(t instanceof ff)return function(r,i){if(!eR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=tR(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Rt.fromDate(r);return{timestampValue:V_(i.serializer,o)}}if(r instanceof Rt){let o=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:V_(i.serializer,o)}}if(r instanceof pf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof df)return{bytesValue:I3(i.serializer,r._byteString)};if(r instanceof kr){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Lx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof mf)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Mw(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Nw(r)}`)}(t,e)}function nR(t,e){let n={};return mx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nu(t,(r,i)=>{let o=tR(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function rR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof pf||t instanceof df||t instanceof kr||t instanceof ff||t instanceof mf)}function iR(t,e,n){if(!rR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Nw(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function aH(t,e,n){if((e=Qt(e))instanceof hf)return e._internalPath;if(typeof e=="string")return uH(t,e);throw gf("Field path arguments must be of type string or ",t,!1,void 0,n)}var cH=new RegExp("[~\\*/\\[\\]]");function uH(t,e,n){if(e.search(cH)>=0)throw gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hf(...e.split("."))._internalPath}catch{throw gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gf(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Q(F.INVALID_ARGUMENT,a+t+u)}function lH(t,e){return t.some(n=>n.isEqual(e))}function dH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function oR(t,e){let n=Qx(t.firestore,lf),r=Zx(t),i=dH(t.converter,e);return hH(n,[sH(oH(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Eo.exists(!1))]).then(()=>r)}function hH(t,e){return function(r,i){let o=new Or;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return G3(yield eH(r),i,o)})),o.promise}(nH(t),e)}(function(e,n=!0){(function(i){ra=i})(wi),_i(new vn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new lf(new l_(r.getProvider("auth-internal")),new p_(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new __(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ct(qA,"4.7.3",e),ct(qA,"4.7.3","esm2017")})();var xo=class{constructor(e){return e}},sR="firestore",Pw=class{constructor(){return kc(sR)}};var Ow=new B("angularfire2.firestore-instances");function fH(t,e){let n=Ih(sR,t,e);return n&&new xo(n)}function pH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new xo(r)}}var mH={provide:Pw,deps:[[new Lt,Ow]]},gH={provide:xo,useFactory:fH,deps:[[new Lt,Ow],xr]};function aR(t,...e){return ct("angularfire",fo.full,"fst"),zt([gH,mH,{provide:Ow,useFactory:pH(t),multi:!0,deps:[Se,Tt,Fs,po,[new Lt,zc],[new Lt,ks],...e]}])}var cR=Yn(oR,!0);var uR=Yn(Jx,!0);var lR=Yn(Xx,!0);var Mt=(()=>{class t{register(n,r,i){this.email=n,this.username=r;let o=UA(this.fireAuth,n,i).then(s=>{this.logged=!0});return Pe(o)}login(n,r){let i=BA(this.fireAuth,n,r).then(()=>{this.logged=!0,this.user_Id=this.fireAuth.currentUser?.uid});return Pe(i)}constructor(){this.fireAuth=R(_o),this.firestore=R(xo),this.logged=!1}saveCommande(n){return I(this,null,function*(){try{let r=uR(this.firestore,"commandesDAO");yield cR(r,U({},n)),console.log("Commande stored successfully!")}catch(r){console.error("Error storing commande:",r)}})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Nt=(()=>{class t{constructor(){this.product=!1,this.auth=R(Mt),this.httpClient=R(cc),this.router=R(vt),this.user={username:"user",email:"",password:"",address:"",city:"",state:"",panier:[],orders:[]}}addUser(n){this.httpClient.post("http://localhost:3000/addUser",n).subscribe(r=>{this.user=n},r=>{console.log(r)})}getUser(n){this.httpClient.post("http://localhost:3000/getUser",{email:n}).subscribe(r=>{this.user=this.user=ce(U({},r),{orders:r.orders||[]}),console.log(r)},r=>{console.log(r)})}save(){this.auth.logged?(console.log(this.user),Array.isArray(this.user.orders)?this.user.orders.push({panier:this.user.panier,date:new Date,total:parseFloat(this.user.panier.reduce((n,r)=>n+r.total,0).toFixed(2))}):console.error("this.user.orders is not an array"),this.httpClient.put("http://localhost:3000/putUser",this.user).subscribe({next:n=>{console.log("User updated successfully:",n)},error:n=>{console.error("Failed to update user:",n)}})):this.router.navigate(["/register"])}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var pt=(()=>{class t{constructor(n){this.http=n,this.userservice=R(Nt),this.productselected=this.userservice.user.panier,this.isPanier=!1,this.isProduct=!0,this.login=!0}getProducts(){return this.http.get("https://dummyjson.com/products")}getProducts2(){return this.http.get("http://localhost:3000/products")}getCategories(){return this.http.get("https://dummyjson.com/products/category-list")}getCategories1(){return this.http.get("http://localhost:3000/categories")}getProductBycategory(n){return this.http.get("https://dummyjson.com/products/category-list")}ajouter2(n){let r=this.userservice.user.panier.find(i=>i.produit.id===n.id);r?(r.Qte+=1,r.total+=n.price):this.userservice.user.panier.push({produit:n,Qte:1,total:n.price}),console.log(this.productselected)}decrementer(n){let r=this.userservice.user.panier.find(i=>i.produit.id===n.id);r?r.Qte>0&&(r.Qte=r.Qte-1,r.total=r.total-n.price):this.userservice.user.panier.push({produit:n,Qte:1,total:n.price}),console.log(this.productselected)}static{this.\u0275fac=function(r){return new(r||t)(K(cc))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _H(t,e){if(t&1){let n=lt();A(0,"li")(1,"a",9),me("click",function(){let i=He(n).$implicit,o=ae();return ze(o.ajouter4(i))}),O(2),D()()}if(t&2){let n=e.$implicit;k(2),Ge(n)}}function wH(t,e){if(t&1){let n=lt();A(0,"div",10)(1,"app-item",11),me("prodselected",function(i){He(n);let o=ae(2);return ze(o.ajouter3(i))}),D()()}if(t&2){let n=e.$implicit;k(),Y("product",n)}}function IH(t,e){if(t&1&&(A(0,"div",8),Mg(1,wH,2,1,"div",10,Rg),D()),t&2){let n=ae();k(),Ng(n.filtered)}}function EH(t,e){if(t&1){let n=lt();A(0,"div",12)(1,"app-item",11),me("prodselected",function(i){He(n);let o=ae(2);return ze(o.ajouter3(i))}),D()()}if(t&2){let n=e.$implicit;k(),Y("product",n)}}function bH(t,e){if(t&1&&(A(0,"div",8),Mg(1,EH,2,1,"div",12,Rg),D()),t&2){let n=ae();k(),Ng(n.productselected)}}var dR=(()=>{class t{constructor(){this.prodservice=R(pt),this.productselected=[],this.filtered=this.products}ngOnInit(){this.prodservice.getCategories1().subscribe(n=>{console.log(n),this.categories=n},n=>{console.error("Error fetching categories",n)}),this.prodservice.getProducts2().subscribe(n=>{this.filtered=n,this.products=n},n=>{console.error("Error fetching products",n)})}onCategoryChange(n){console.log("Selected Category:",n)}filter(n){this.filtered=n?this.products.filter(r=>r.title.toUpperCase().includes(n.toUpperCase())):this.products}getAll(){return Z(this.products)}ajouter3(n){this.prodservice.ajouter2(n)}ajouter4(n){this.productselected=this.products.filter(r=>r.category===n),this.prodservice.isProduct=!1}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-products"]],standalone:!0,features:[Be],decls:10,vars:3,consts:[["query",""],[1,"d-flex","align-items-center"],["type","search","placeholder","Search","aria-label","Search",1,"px-2","search",3,"keyup"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle","rounded-circle"],[1,"fas","fa-search"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"row"],[1,"dropdown-item",3,"click"],[1,"col-lg-2","text-center","product-card"],[3,"prodselected","product"],[1,"col-lg-2","text-center"]],template:function(r,i){if(r&1){let o=lt();A(0,"form",1)(1,"input",2,0),me("keyup",function(){He(o);let a=aD(2);return ze(i.filter(a.value))}),D(),A(3,"div",3)(4,"button",4),J(5,"i",5),D(),A(6,"ul",6),le(7,_H,3,1,"li",7),D()()(),le(8,IH,3,0,"div",8)(9,bH,3,0,"div",8)}r&2&&(k(7),Y("ngForOf",i.categories),k(),Gt(i.prodservice.isProduct?8:-1),k(),Gt(i.prodservice.isProduct?-1:9))},dependencies:[hS,Gn],styles:[".product-card[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 8px 16px #0000001a}.card-title[_ngcontent-%COMP%]{font-weight:700}.card-text[_ngcontent-%COMP%]{color:#6c757d}.product-image[_ngcontent-%COMP%]{max-height:100px;object-fit:cover}.btn0[_ngcontent-%COMP%]{height:40px;width:60px;outline:none;border:none;background:#f81a5c;border-radius:60px;color:#fff;font-weight:700}.search[_ngcontent-%COMP%]{height:40px;width:30%;margin-right:-35px;border-radius:60px;outline:none;font-family:Rubik,sans-serif;border:2px solid rgb(248,26,92);background-color:#f0f0f0;color:#000}.product-card[_ngcontent-%COMP%]{position:relative}.dropdown[_ngcontent-%COMP%]{position:relative;margin-left:-7px}.dropdown-toggle[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:#dc143c;border:none}"]})}}return t})();function CH(t,e){if(t&1){let n=lt();A(0,"tr")(1,"td"),J(2,"img",7),D(),A(3,"td")(4,"h5",8),O(5),D()(),A(6,"td")(7,"h6",9),O(8),D()(),A(9,"td")(10,"div",10)(11,"button",11),me("click",function(){let i=He(n).$implicit,o=ae();return ze(o.prodservice.decrementer(i.produit))}),ps(),A(12,"svg",12),J(13,"path",13),D()(),Ya(),A(14,"span",14),O(15),D(),A(16,"button",11),me("click",function(){let i=He(n).$implicit,o=ae();return ze(o.prodservice.ajouter2(i.produit))}),ps(),A(17,"svg",15),J(18,"path",16),D()()()(),Ya(),A(19,"td")(20,"h6",9),O(21),D(),A(22,"button",17),me("click",function(){let i=He(n).$implicit,o=ae();return ze(o.buy(i))}),O(23,"Buy"),D()()()}if(t&2){let n=e.$implicit;k(2),Y("src",n.produit.images[0],Bn),k(3),Ge(n.produit.title),k(3),Ve("",n.produit.price,"$"),k(7),Ge(n.Qte),k(6),Ve("",n.total,"$")}}var hR=(()=>{class t{constructor(){this.isHovering=!1,this.router=R(vt),this.prodservice=R(pt),this.userservice=R(Nt),this.productselected=this.prodservice.productselected}ngOnInit(){this.total=0,this.prodservice.productselected.forEach(n=>{this.total+=n.total})}save(){this.userservice.save()}buyll(){this.userservice.product=!1}buy(n){this.userservice.product=!0,this.userservice.selectedpro=n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-panier1"]],standalone:!0,features:[Be],decls:12,vars:1,consts:[[1,"row"],[1,"col-lg-12"],[1,"table","table-bordered","table-hover","text-center","custom-table-width"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","align-items-center","mt-3"],["routerLink","/orders",1,"btn","btn-buy",3,"click"],[1,"btn","btn-buy",3,"click"],["alt","Product Image",1,"img-fluid","product-image","rounded",3,"src"],[1,"font-weight-bold"],[1,"text-primary"],[1,"d-flex","align-items-center","justify-content-center"],[1,"btn","btn-light","btn-sm","mx-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-dash-lg"],["fill-rule","evenodd","d","M8 2a.5.5 0 0 1 .5.5v5H3.5a.5.5 0 0 1 0-1H8v-5z"],[1,"mx-2"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-lg"],["fill-rule","evenodd","d","M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"],["routerLink","/orders",1,"btn","btn-sm",2,"background-color","orange","border-color","orange","color","white",3,"click"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"div",1)(2,"table",2)(3,"tbody"),le(4,CH,24,5,"tr",3),D()(),A(5,"div",4)(6,"button",5),me("click",function(){return i.buyll()}),O(7," Buy All "),D(),A(8,"p"),O(9," ' "),D(),A(10,"button",6),me("click",function(){return i.save()}),O(11," Save "),D()()()()),r&2&&(k(4),Y("ngForOf",i.userservice.user.panier))},dependencies:[gi,Gn],styles:[".custom-table-width[_ngcontent-%COMP%]{width:80%;margin:0 auto;border-collapse:collapse}.product-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover}table[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;box-shadow:0 4px 8px #0000001a}td[_ngcontent-%COMP%]{padding:15px;vertical-align:middle}td[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], td[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0}.badge[_ngcontent-%COMP%]{font-size:.9rem}.btn[_ngcontent-%COMP%]{white-space:nowrap;font-size:.85rem}.total-amount[_ngcontent-%COMP%]{font-size:1.5rem;color:#c7254e;border:1px solid #c7254e;padding:10px;border-radius:5px;background-color:#f8f9fa;display:inline-block;cursor:pointer;transition:background-color .3s,color .3s}.total-amount[_ngcontent-%COMP%]:hover{background-color:#c7254e;color:#fff}.styled-container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:10px 20px;box-shadow:0 4px 10px #0000001a}.total-amount[_ngcontent-%COMP%]{font-size:1.5rem;background-color:#fff;border-radius:5px;border:1px solid #ddd;padding:10px 15px;box-shadow:0 2px 5px #0000001a}.btn-buy[_ngcontent-%COMP%]{background-color:orange;color:#fff;font-size:1.2rem;padding:10px 20px;border-radius:5px;transition:background-color .3s ease,transform .3s ease}.btn-buy[_ngcontent-%COMP%]:hover{background-color:orange;transform:scale(1.05)}"]})}}return t})();var IR=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(W(ui),W(_r))}}static{this.\u0275dir=$e({type:t})}}return t})(),ER=(()=>{class t extends IR{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=vr(t)))(i||t)}})()}static{this.\u0275dir=$e({type:t,features:[qt]})}}return t})(),Mf=new B("");var DH={provide:Mf,useExisting:mn(()=>_n),multi:!0};function TH(){let t=br()?br().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var SH=new B(""),_n=(()=>{class t extends IR{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!TH())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(W(ui),W(_r),W(SH,8))}}static{this.\u0275dir=$e({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&me("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Hn([DH]),qt]})}}return t})();function Ri(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function bR(t){return t!=null&&typeof t.length=="number"}var Mo=new B(""),Nf=new B(""),AH=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ee=class{static min(e){return CR(e)}static max(e){return DR(e)}static required(e){return TR(e)}static requiredTrue(e){return xH(e)}static email(e){return RH(e)}static minLength(e){return MH(e)}static maxLength(e){return NH(e)}static pattern(e){return PH(e)}static nullValidator(e){return bf(e)}static compose(e){return NR(e)}static composeAsync(e){return PR(e)}};function CR(t){return e=>{if(Ri(e.value)||Ri(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function DR(t){return e=>{if(Ri(e.value)||Ri(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function TR(t){return Ri(t.value)?{required:!0}:null}function xH(t){return t.value===!0?null:{required:!0}}function RH(t){return Ri(t.value)||AH.test(t.value)?null:{email:!0}}function MH(t){return e=>Ri(e.value)||!bR(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function NH(t){return e=>bR(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function PH(t){if(!t)return bf;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ri(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function bf(t){return null}function SR(t){return t!=null}function AR(t){return to(t)?Pe(t):t}function xR(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function RR(t,e){return e.map(n=>n(t))}function OH(t){return!t.validate}function MR(t){return t.map(e=>OH(e)?e:n=>e.validate(n))}function NR(t){if(!t)return null;let e=t.filter(SR);return e.length==0?null:function(n){return xR(RR(n,e))}}function jw(t){return t!=null?NR(MR(t)):null}function PR(t){if(!t)return null;let e=t.filter(SR);return e.length==0?null:function(n){let r=RR(n,e).map(AR);return xp(r).pipe(ie(xR))}}function Bw(t){return t!=null?PR(MR(t)):null}function fR(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function OR(t){return t._rawValidators}function kR(t){return t._rawAsyncValidators}function kw(t){return t?Array.isArray(t)?t:[t]:[]}function Cf(t,e){return Array.isArray(t)?t.includes(e):t===e}function pR(t,e){let n=kw(e);return kw(t).forEach(i=>{Cf(n,i)||n.push(i)}),n}function mR(t,e){return kw(e).filter(n=>!Cf(t,n))}var Df=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Vr=class extends Df{get formDirective(){return null}get path(){return null}},Ro=class extends Df{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Tf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},kH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},GJ=ce(U({},kH),{"[class.ng-submitted]":"isSubmitted"}),ir=(()=>{class t extends Tf{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(W(Ro,2))}}static{this.\u0275dir=$e({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Td("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[qt]})}}return t})(),or=(()=>{class t extends Tf{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(W(Vr,10))}}static{this.\u0275dir=$e({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Td("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[qt]})}}return t})();var ou="VALID",Ef="INVALID",ia="PENDING",su="DISABLED",Mi=class{},Sf=class extends Mi{constructor(e,n){super(),this.value=e,this.source=n}},cu=class extends Mi{constructor(e,n){super(),this.pristine=e,this.source=n}},uu=class extends Mi{constructor(e,n){super(),this.touched=e,this.source=n}},oa=class extends Mi{constructor(e,n){super(),this.status=e,this.source=n}},Fw=class extends Mi{constructor(e){super(),this.source=e}},Lw=class extends Mi{constructor(e){super(),this.source=e}};function $w(t){return(Pf(t)?t.validators:t)||null}function FH(t){return Array.isArray(t)?jw(t):t||null}function Hw(t,e){return(Pf(e)?e.asyncValidators:t)||null}function LH(t){return Array.isArray(t)?Bw(t):t||null}function Pf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function FR(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[n])throw new q(1001,"")}function LR(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new q(1002,"")})}var sa=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=_s(()=>this.statusReactive()),this.statusReactive=ys(void 0),this._pristine=_s(()=>this.pristineReactive()),this.pristineReactive=ys(!0),this._touched=_s(()=>this.touchedReactive()),this.touchedReactive=ys(!1),this._events=new ut,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return qn(this.statusReactive)}set status(e){qn(()=>this.statusReactive.set(e))}get valid(){return this.status===ou}get invalid(){return this.status===Ef}get pending(){return this.status==ia}get disabled(){return this.status===su}get enabled(){return this.status!==su}get pristine(){return qn(this.pristineReactive)}set pristine(e){qn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return qn(this.touchedReactive)}set touched(e){qn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(mR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(mR(e,this._rawAsyncValidators))}hasValidator(e){return Cf(this._rawValidators,e)}hasAsyncValidator(e){return Cf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new uu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new uu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new cu(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new cu(!0,r))}markAsPending(e={}){this.status=ia;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new oa(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(U({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=su,this.errors=null,this._forEachChild(i=>{i.disable(ce(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sf(this.value,r)),this._events.next(new oa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ou,this._forEachChild(r=>{r.enable(ce(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ou||this.status===ia)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sf(this.value,n)),this._events.next(new oa(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(U({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?su:ou}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ia,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=AR(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new oa(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ue,this.statusChanges=new Ue}_calculateStatus(){return this._allControlsDisabled()?su:this.errors?Ef:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ia)?ia:this._anyControlsHaveStatus(Ef)?Ef:ou}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new cu(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new uu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=FH(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=LH(this._rawAsyncValidators)}},aa=class extends sa{constructor(e,n,r){super($w(n),Hw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){LR(this,!0,e),Object.keys(e).forEach(r=>{FR(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Vw=class extends aa{};var du=new B("CallSetDisabledState",{providedIn:"root",factory:()=>Of}),Of="always";function VR(t,e){return[...e.path,t]}function Af(t,e,n=Of){zw(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),UH(t,e),BH(t,e),jH(t,e),VH(t,e)}function gR(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Rf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function xf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function VH(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function zw(t,e){let n=OR(t);e.validator!==null?t.setValidators(fR(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=kR(t);e.asyncValidator!==null?t.setAsyncValidators(fR(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();xf(e._rawValidators,i),xf(e._rawAsyncValidators,i)}function Rf(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=OR(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=kR(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return xf(e._rawValidators,r),xf(e._rawAsyncValidators,r),n}function UH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&UR(t,e)})}function jH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&UR(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function UR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function BH(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function jR(t,e){t==null,zw(t,e)}function $H(t,e){return Rf(t,e)}function BR(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function HH(t){return Object.getPrototypeOf(t.constructor)===ER}function $R(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function HR(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===_n?n=o:HH(o)?r=o:i=o}),i||r||n||null}function zH(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var qH={provide:Vr,useExisting:mn(()=>qw)},au=Promise.resolve(),qw=(()=>{class t extends Vr{get submitted(){return qn(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=_s(()=>this.submittedReactive()),this.submittedReactive=ys(!1),this._directives=new Set,this.ngSubmit=new Ue,this.form=new aa({},jw(n),Bw(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){au.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Af(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){au.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){au.then(()=>{let r=this._findContainer(n.path),i=new aa({});jR(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){au.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){au.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),$R(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(W(Mo,10),W(Nf,10),W(du,8))}}static{this.\u0275dir=$e({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Hn([qH]),qt]})}}return t})();function yR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var lu=class extends sa{constructor(e=null,n,r){super($w(n),Hw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var GH=t=>t instanceof lu;var WH={provide:Ro,useExisting:mn(()=>Gw)},_R=Promise.resolve(),Gw=(()=>{class t extends Ro{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new lu,this._registered=!1,this.name="",this.update=new Ue,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=HR(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),BR(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Af(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){_R.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&li(r);_R.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?VR(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(W(Vr,9),W(Mo,10),W(Nf,10),W(Mf,10),W(no,8),W(du,8))}}static{this.\u0275dir=$e({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Hn([WH]),qt,jn]})}}return t})(),sr=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=$e({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),KH={provide:Mf,useExisting:mn(()=>Ww),multi:!0},Ww=(()=>{class t extends ER{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=vr(t)))(i||t)}})()}static{this.\u0275dir=$e({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&me("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Hn([KH]),qt]})}}return t})();var zR=new B("");var QH={provide:Vr,useExisting:mn(()=>Ur)},Ur=(()=>{class t extends Vr{get submitted(){return qn(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=_s(()=>this._submittedReactive()),this._submittedReactive=ys(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ue,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Af(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){gR(n.control||null,n,!1),zH(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),$R(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Fw(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Lw(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(gR(r||null,n),GH(i)&&(Af(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);jR(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&$H(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zw(this.form,this),this._oldForm&&Rf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(W(Mo,10),W(Nf,10),W(du,8))}}static{this.\u0275dir=$e({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&me("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Hn([QH]),qt,jn]})}}return t})();var YH={provide:Ro,useExisting:mn(()=>jr)},jr=(()=>{class t extends Ro{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ue,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=HR(this,o)}ngOnChanges(n){this._added||this._setUpControl(),BR(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return VR(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(W(Vr,13),W(Mo,10),W(Nf,10),W(Mf,10),W(zR,8))}}static{this.\u0275dir=$e({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Hn([YH]),qt,jn]})}}return t})();function qR(t){return typeof t=="number"?t:parseFloat(t)}var Kw=(()=>{class t{constructor(){this._validator=bf}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bf,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=$e({type:t,features:[jn]})}}return t})(),JH={provide:Mo,useExisting:mn(()=>Qw),multi:!0},Qw=(()=>{class t extends Kw{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>qR(n),this.createValidator=n=>DR(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=vr(t)))(i||t)}})()}static{this.\u0275dir=$e({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&eo("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Hn([JH]),qt]})}}return t})(),ZH={provide:Mo,useExisting:mn(()=>Yw),multi:!0},Yw=(()=>{class t extends Kw{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>qR(n),this.createValidator=n=>CR(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=vr(t)))(i||t)}})()}static{this.\u0275dir=$e({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&eo("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Hn([ZH]),qt]})}}return t})(),XH={provide:Mo,useExisting:mn(()=>hu),multi:!0};var hu=(()=>{class t extends Kw{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=li,this.createValidator=n=>TR}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=vr(t)))(i||t)}})()}static{this.\u0275dir=$e({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&eo("required",i._enabled?"":null)},inputs:{required:"required"},features:[Hn([XH]),qt]})}}return t})();var GR=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ii({type:t})}static{this.\u0275inj=ri({})}}return t})(),Uw=class extends sa{constructor(e,n,r){super($w(n),Hw(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){LR(this,!1,e),e.forEach((r,i)=>{FR(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function wR(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Ni=(()=>{class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return wR(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new aa(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Vw(i,r)}control(n,r,i){let o={};return this.useNonNullable?(wR(r)?o=r:(o.validators=r,o.asyncValidators=i),new lu(n,ce(U({},o),{nonNullable:!0}))):new lu(n,r,i)}array(n,r,i){let o=n.map(s=>this._createControl(s));return new Uw(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof lu)return n;if(n instanceof sa)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var kf=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:du,useValue:n.callSetDisabledState??Of}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ii({type:t})}static{this.\u0275inj=ri({imports:[GR]})}}return t})(),Pi=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:zR,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:du,useValue:n.callSetDisabledState??Of}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=ii({type:t})}static{this.\u0275inj=ri({imports:[GR]})}}return t})();var ez=(t,e)=>({"text-success":t,"text-danger":e}),tz=t=>["/panier",t];function nz(t,e){if(t&1){let n=lt();A(0,"form",15),me("ngSubmit",function(){He(n);let i=ae();return ze(i.submitComment())}),A(1,"div",16)(2,"textarea",17),xd("ngModelChange",function(i){He(n);let o=ae();return kg(o.newComment.comment,i)||(o.newComment.comment=i),ze(i)}),D()(),A(3,"div",16)(4,"label",18),O(5,"Note"),D(),A(6,"input",19),xd("ngModelChange",function(i){He(n);let o=ae();return kg(o.newComment.rating,i)||(o.newComment.rating=i),ze(i)}),D()(),A(7,"button",20),O(8,"Ajouter Commentaire"),D()()}if(t&2){let n=ae();k(2),Ad("ngModel",n.newComment.comment),k(4),Ad("ngModel",n.newComment.rating)}}function rz(t,e){if(t&1&&(A(0,"div",21),J(1,"img",22),D()),t&2){let n=e.$implicit,r=ae();k(),Sd("alt","Image de ",r.product==null?null:r.product.title,""),Y("src",n,Bn)}}function iz(t,e){if(t&1&&(A(0,"div",23)(1,"strong"),O(2),D(),A(3,"p",9),O(4),D(),A(5,"p"),O(6),D(),A(7,"small"),O(8),D()()),t&2){let n=e.$implicit;k(2),Og("",n.reviewerName," (",n.reviewerEmail,")"),k(2),Ve("",n.rating," \u2605"),k(2),Ge(n.comment),k(2),Ge(n.date)}}var WR=(()=>{class t{constructor(n,r){this.route=n,this.productService=r,this.products=[],this.auth=R(Mt)}ngOnInit(){let n=+this.route.snapshot.paramMap.get("id");this.productService.getProducts().subscribe(r=>{this.products=r.products,this.product=this.products.find(i=>i.id===n),this.reviews=this.product?.reviews,this.product||console.error("Product not found")},r=>{console.error("Error fetching products",r)})}submitComment(){this.newComment.reviewerName=this.auth.username,this.newComment.reviewerEmail=this.auth.username,this.newComment.date=new Date().toISOString(),this.product&&this.product.reviews.push(this.newComment)}static{this.\u0275fac=function(r){return new(r||t)(W(Tr),W(pt))}}static{this.\u0275cmp=je({type:t,selectors:[["app-detail"]],standalone:!0,features:[Be],decls:42,vars:19,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-warning"],[3,"ngClass"],[1,"btn","btn-primary",3,"routerLink"],["class","col-6 mb-2",4,"ngFor","ngForOf"],[1,"mt-5"],["class","border p-3 mb-2",4,"ngFor","ngForOf"],[3,"ngSubmit"],[1,"mb-3"],["name","comment","rows","3","placeholder","Votre commentaire",1,"form-control",3,"ngModelChange","ngModel"],["for","rating",1,"form-label"],["name","rating","id","rating","type","number","placeholder","Rating","min","1","max","5",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],[1,"col-6","mb-2"],[1,"img-fluid","rounded",3,"src","alt"],[1,"border","p-3","mb-2"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"h1",1),O(2),D(),A(3,"div",2)(4,"div",3)(5,"div",4),J(6,"img",5),A(7,"div",6)(8,"h5",7),O(9),D(),A(10,"p",8),O(11),D(),A(12,"p",8)(13,"strong"),O(14,"Cat\xE9gorie:"),D(),O(15),D(),A(16,"p",8)(17,"strong"),O(18,"\xC9valuation:"),D(),A(19,"span",9),O(20),D()(),A(21,"p",8)(22,"strong"),O(23,"Stock:"),D(),O(24),D(),A(25,"p",8)(26,"strong"),O(27,"Status:"),D(),A(28,"span",10),O(29),D()(),A(30,"a",11),O(31,"Ajouter au panier"),D()()()(),A(32,"div",3)(33,"h4"),O(34,"Autres Images"),D(),le(35,nz,9,2,"form"),A(36,"div",2),le(37,rz,2,3,"div",12),D()()(),A(38,"div",13)(39,"h4"),O(40,"Avis des Clients"),D(),le(41,iz,9,5,"div",14),D()()),r&2&&(k(2),Ge(i.product==null?null:i.product.title),k(4),Pg("alt",i.product==null?null:i.product.title),Y("src",i.product==null?null:i.product.thumbnail,Bn),k(3),Ve("Prix: ",i.product==null?null:i.product.price,"$"),k(2),Ge(i.product==null?null:i.product.description),k(4),Ve(" ",i.product==null?null:i.product.category," "),k(5),Ve("",i.product==null?null:i.product.rating," \u2605"),k(4),Ve(" ",i.product==null?null:i.product.stock," unit\xE9s "),k(4),Y("ngClass",lD(14,ez,(i.product==null?null:i.product.availabilityStatus)==="Available",(i.product==null?null:i.product.availabilityStatus)==="Out of Stock")),k(),Ge(i.product==null?null:i.product.availabilityStatus),k(),Y("routerLink",Rd(17,tz,i.product==null?null:i.product.id)),k(5),Gt(i.auth.logged?35:-1),k(2),Y("ngForOf",i.product==null?null:i.product.images),k(4),Y("ngForOf",i.reviews))},dependencies:[GD,Gn,gi,kf,sr,_n,Ww,ir,or,Yw,Qw,Gw,qw],styles:[".product-details-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px}.product-header[_ngcontent-%COMP%]{text-align:center}.product-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em}.product-price[_ngcontent-%COMP%]{font-size:1.5em;color:#2c3e50;margin:10px 0}.product-category[_ngcontent-%COMP%]{color:#7f8c8d;font-style:italic}.product-main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:20px}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:auto;object-fit:cover}.product-info[_ngcontent-%COMP%]{max-width:500px;padding:20px}.product-reviews[_ngcontent-%COMP%]{margin-top:40px}.review[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;padding:10px 0}.review[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:10px}.card-img-top[_ngcontent-%COMP%]{border-radius:10px 10px 0 0}.img-fluid[_ngcontent-%COMP%]{transition:transform .2s}.img-fluid[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.text-warning[_ngcontent-%COMP%]{color:#ffc107}"]})}}return t})();function oz(t,e){t&1&&(A(0,"small"),O(1,"Username is required."),D())}function sz(t,e){if(t&1&&(A(0,"div",21),le(1,oz,2,0,"small",22),D()),t&2){let n,r=ae(2);k(),Y("ngIf",(n=r.form.get("username"))==null||n.errors==null?null:n.errors.required)}}function az(t,e){t&1&&(A(0,"small"),O(1,"Email is required."),D())}function cz(t,e){if(t&1&&(A(0,"div",21),le(1,az,2,0,"small",22),D()),t&2){let n,r=ae(2);k(),Y("ngIf",(n=r.form.get("email"))==null||n.errors==null?null:n.errors.required)}}function uz(t,e){t&1&&(A(0,"small"),O(1,"Password is required."),D())}function lz(t,e){if(t&1&&(A(0,"div",21),le(1,uz,2,0,"small",22),D()),t&2){let n,r=ae(2);k(),Y("ngIf",(n=r.form.get("password"))==null||n.errors==null?null:n.errors.required)}}function dz(t,e){t&1&&(A(0,"small"),O(1,"Address is required."),D())}function hz(t,e){if(t&1&&(A(0,"div",21),le(1,dz,2,0,"small",22),D()),t&2){let n,r=ae(2);k(),Y("ngIf",(n=r.form.get("address"))==null||n.errors==null?null:n.errors.required)}}function fz(t,e){t&1&&(A(0,"small"),O(1,"City is required."),D())}function pz(t,e){if(t&1&&(A(0,"div",21),le(1,fz,2,0,"small",22),D()),t&2){let n,r=ae(2);k(),Y("ngIf",(n=r.form.get("city"))==null||n.errors==null?null:n.errors.required)}}function mz(t,e){t&1&&(A(0,"small"),O(1,"State is required."),D())}function gz(t,e){if(t&1&&(A(0,"div",21),le(1,mz,2,0,"small",22),D()),t&2){let n,r=ae(2);k(),Y("ngIf",(n=r.form.get("state"))==null||n.errors==null?null:n.errors.required)}}function yz(t,e){if(t&1){let n=lt();A(0,"form",1),me("ngSubmit",function(){He(n);let i=ae();return ze(i.onSubmit())}),A(1,"h3",2),O(2,"Authentication"),D(),A(3,"div",3)(4,"label",4),O(5,"Username"),D(),J(6,"input",5),le(7,sz,2,1,"div",6),D(),A(8,"div",3)(9,"label",7),O(10,"Email"),D(),J(11,"input",8),le(12,cz,2,1,"div",6),D(),A(13,"div",3)(14,"label",9),O(15,"Password"),D(),J(16,"input",10),le(17,lz,2,1,"div",6),D(),A(18,"div",3)(19,"label",11),O(20,"Address"),D(),J(21,"input",12),le(22,hz,2,1,"div",6),D(),A(23,"div",3)(24,"label",13),O(25,"City"),D(),J(26,"input",14),le(27,pz,2,1,"div",6),D(),A(28,"div",3)(29,"label",15),O(30,"State"),D(),J(31,"input",16),le(32,gz,2,1,"div",6),D(),A(33,"div",17)(34,"button",18),O(35," Sign Up "),D(),A(36,"p",19),O(37,"Do you have an account?"),D(),A(38,"button",20),me("click",function(){He(n);let i=ae();return ze(i.navigate())}),O(39," Sign In "),D()()()}if(t&2){let n,r,i,o,s,a,u=ae();Y("formGroup",u.form),k(7),Y("ngIf",((n=u.form.get("username"))==null?null:n.invalid)&&(((n=u.form.get("username"))==null?null:n.touched)||((n=u.form.get("username"))==null?null:n.dirty))),k(5),Y("ngIf",((r=u.form.get("email"))==null?null:r.invalid)&&(((r=u.form.get("email"))==null?null:r.touched)||((r=u.form.get("email"))==null?null:r.dirty))),k(5),Y("ngIf",((i=u.form.get("password"))==null?null:i.invalid)&&(((i=u.form.get("password"))==null?null:i.touched)||((i=u.form.get("password"))==null?null:i.dirty))),k(5),Y("ngIf",((o=u.form.get("address"))==null?null:o.invalid)&&(((o=u.form.get("address"))==null?null:o.touched)||((o=u.form.get("address"))==null?null:o.dirty))),k(5),Y("ngIf",((s=u.form.get("city"))==null?null:s.invalid)&&(((s=u.form.get("city"))==null?null:s.touched)||((s=u.form.get("city"))==null?null:s.dirty))),k(5),Y("ngIf",((a=u.form.get("state"))==null?null:a.invalid)&&(((a=u.form.get("state"))==null?null:a.touched)||((a=u.form.get("state"))==null?null:a.dirty))),k(2),Y("disabled",u.form.invalid)}}function vz(t,e){t&1&&(A(0,"div",23)(1,"h4",24),O(2,"Registration Successful!"),D(),A(3,"p"),O(4,"You have successfully registered. Welcome to our platform!"),D(),J(5,"hr"),A(6,"p",25),O(7,"You can now "),A(8,"a",26),O(9,"log in"),D(),O(10," and start using your account."),D()(),A(11,"div",17)(12,"button",27),O(13,"Go to Home"),D()())}var Jw=(()=>{class t{constructor(){this.fb=R(Ni),this.auth=R(Mt),this.router=R(vt),this.userserv=R(Nt),this.prodservice=R(pt),this.user={username:"",email:"",password:"",address:"",city:"",state:"",panier:[],orders:[]},this.form=this.fb.nonNullable.group({username:["",Ee.required],email:["",[Ee.required,Ee.email]],password:["",Ee.required],address:["",Ee.required],city:["",Ee.required],state:["",Ee.required]})}onSubmit(){let n=this.form.getRawValue();this.auth.register(n.email,n.username,n.password).subscribe(()=>this.prodservice.login=!0),this.user.username=n.username,this.user.email=n.email,this.user.password=n.password,this.user.address=n.address,this.user.city=n.city,this.user.state=n.state,this.userserv.addUser(this.user)}navigate(){this.router.navigate(["/login"])}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-login"]],standalone:!0,features:[Be],decls:3,vars:1,consts:[[1,"register-form","form-container","p-4","shadow","rounded","head",2,"background-color","#ffe6e9",3,"formGroup"],[1,"register-form","form-container","p-4","shadow","rounded","head",2,"background-color","#ffe6e9",3,"ngSubmit","formGroup"],[1,"text-center","mb-4",2,"color","#d32f2f"],[1,"mb-3"],["for","username",1,"form-label",2,"color","#d32f2f"],["type","text","id","username","formControlName","username","placeholder","Enter your username",1,"form-control",2,"border-color","#d32f2f"],["class","text-danger",4,"ngIf"],["for","email",1,"form-label",2,"color","#d32f2f"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control",2,"border-color","#d32f2f"],["for","password",1,"form-label",2,"color","#d32f2f"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control",2,"border-color","#d32f2f"],["for","address",1,"form-label",2,"color","#d32f2f"],["type","text","id","address","formControlName","address","placeholder","Enter your address",1,"form-control",2,"border-color","#d32f2f"],["for","city",1,"form-label",2,"color","#d32f2f"],["type","text","id","city","formControlName","city","placeholder","Enter your city",1,"form-control",2,"border-color","#d32f2f"],["for","state",1,"form-label",2,"color","#d32f2f"],["type","text","id","state","formControlName","state","placeholder","Enter your state",1,"form-control",2,"border-color","#d32f2f"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-danger","btn-block",2,"background-color","#d32f2f","border-color","#d32f2f","transition","background-color 0.3s",3,"disabled"],[1,"mt-3",2,"color","#d32f2f","font-weight","bold"],[1,"btn","btn-danger","btn-block",2,"background-color","#d32f2f","border-color","#d32f2f","transition","background-color 0.3s",3,"click"],[1,"text-danger"],[4,"ngIf"],["role","alert",1,"alert","alert-success","mt-4"],[1,"alert-heading"],[1,"mb-0"],["href","#"],[1,"btn","btn-primary"]],template:function(r,i){r&1&&(A(0,"main"),le(1,yz,40,8,"form",0)(2,vz,14,0),D()),r&2&&(k(),Gt(i.auth.logged?2:1))},dependencies:[Pi,sr,_n,ir,or,Ur,jr],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}main[_ngcontent-%COMP%]{background-color:#fff5f7}"]})}}return t})();function _z(t,e){t&1&&(A(0,"small"),O(1,"Email is required."),D())}function wz(t,e){if(t&1&&(A(0,"div",11),le(1,_z,2,0,"small",12),D()),t&2){let n,r=ae(2);k(),Y("ngIf",(n=r.form.get("email"))==null||n.errors==null?null:n.errors.required)}}function Iz(t,e){t&1&&(A(0,"small"),O(1,"Password is required."),D())}function Ez(t,e){if(t&1&&(A(0,"div",11),le(1,Iz,2,0,"small",12),D()),t&2){let n,r=ae(2);k(),Y("ngIf",(n=r.form.get("password"))==null||n.errors==null?null:n.errors.required)}}function bz(t,e){if(t&1){let n=lt();A(0,"div",0)(1,"form",2),me("ngSubmit",function(){He(n);let i=ae();return ze(i.onSubmit())}),A(2,"h2",3),O(3,"Register"),D(),A(4,"div",4)(5,"label",5),O(6,"Email"),D(),J(7,"input",6),le(8,wz,2,1,"div",7),D(),A(9,"div",4)(10,"label",8),O(11,"Password"),D(),J(12,"input",9),le(13,Ez,2,1,"div",7),D(),A(14,"button",10),O(15," Register "),D()()()}if(t&2){let n,r,i=ae();k(),Y("formGroup",i.form),k(7),Y("ngIf",((n=i.form.get("email"))==null?null:n.invalid)&&(((n=i.form.get("email"))==null?null:n.touched)||((n=i.form.get("email"))==null?null:n.dirty))),k(5),Y("ngIf",((r=i.form.get("password"))==null?null:r.invalid)&&(((r=i.form.get("password"))==null?null:r.touched)||((r=i.form.get("password"))==null?null:r.dirty))),k(),Y("disabled",i.form.invalid)}}function Cz(t,e){t&1&&(A(0,"div",1)(1,"h4",13),O(2,"Connexion r\xE9ussie !"),D(),A(3,"p"),O(4,"Vous \xEAtes maintenant connect\xE9. Vous pouvez acc\xE9der \xE0 vos ordres"),D(),J(5,"hr"),D())}var KR=(()=>{class t{constructor(){this.userservice=R(Nt),this.fb=R(Ni),this.auth=R(Mt),this.router=R(vt),this.prodservice=R(pt),this.form=this.fb.nonNullable.group({email:["",Ee.required],password:["",Ee.required]})}onSubmit(){let n=this.form.getRawValue();this.auth.login(n.email,n.password).subscribe(()=>{this.prodservice.login=!0,this.userservice.getUser(n.email),console.log(this.userservice.user),console.log("hello")})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-register"]],standalone:!0,features:[Be],decls:2,vars:1,consts:[[1,"form-container"],["role","alert",1,"alert","alert-success","mt-5","text-center"],[1,"register-form","p-4","shadow-lg","rounded",3,"ngSubmit","formGroup"],[1,"text-center","mb-4",2,"color","#e91e63"],[1,"mb-3"],["for","email",1,"form-label",2,"color","#ad1457"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control","stylish-input"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label",2,"color","#ad1457"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control","stylish-input"],["type","submit",1,"btn","btn-primary","btn-custom","w-100","mt-3",3,"disabled"],[1,"text-danger"],[4,"ngIf"],[1,"alert-heading"]],template:function(r,i){r&1&&le(0,bz,16,4,"div",0)(1,Cz,6,0,"div",1),r&2&&Gt(i.auth.logged?1:0)},dependencies:[Pi,sr,_n,ir,or,Ur,jr,WD],styles:[".form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#fff5f7}.register-form[_ngcontent-%COMP%]{max-width:400px;width:100%;background-color:#ffe6eb;border-radius:8px;box-shadow:0 4px 8px #0000001a}.stylish-input[_ngcontent-%COMP%]{border:2px solid #f8bbd0;border-radius:4px;transition:border-color .3s ease}.stylish-input[_ngcontent-%COMP%]:focus{border-color:#e91e63;box-shadow:0 0 8px #e91e634d}.btn-custom[_ngcontent-%COMP%]{background-color:#e91e63;color:#fff;border:none;padding:10px;border-radius:6px;transition:background-color .3s ease}.btn-custom[_ngcontent-%COMP%]:hover{background-color:#d81b60}.text-danger[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-weight:500;font-size:.9em}h2[_ngcontent-%COMP%]{font-weight:600}"]})}}return t})();var pu=class{constructor(e,n,r,i){this.userId=e,this.date=n,this.items=r,this.total=i}};function Dz(t,e){if(t&1&&(A(0,"li",31)(1,"div")(2,"span"),O(3),D(),A(4,"small",32),O(5),D()(),A(6,"span"),O(7),D()()),t&2){let n=e.$implicit;k(3),Ge(n.produit.title),k(2),Ve("x ",n.Qte,""),k(2),Ve("$",n.produit.price*n.Qte,"")}}function Tz(t,e){if(t&1&&(A(0,"ul",27),le(1,Dz,8,3,"li",29),A(2,"li",30),O(3," Total "),A(4,"span"),O(5),D()()()),t&2){let n=ae();k(),Y("ngForOf",n.userserv.user.panier),k(4),Ve("$",n.calculateTotal(),"")}}function Sz(t,e){if(t&1&&(A(0,"div")(1,"span"),O(2),D(),A(3,"small",32),O(4),D()(),A(5,"span"),O(6),D()),t&2){let n=ae();k(2),Ge(n.userserv.selectedpro.produit.title),k(2),Ve("x ",n.userserv.selectedpro.Qte,""),k(2),Ve("$",n.userserv.selectedpro.produit.price*n.userserv.selectedpro.Qte,"")}}function Az(t,e){if(t&1){let n=lt();A(0,"button",33),me("click",function(){He(n);let i=ae();return ze(i.buyll2())}),O(1,"Complete Payment"),D()}}function xz(t,e){if(t&1){let n=lt();A(0,"button",33),me("click",function(){He(n);let i=ae();return ze(i.buyone())}),O(1,"Complete Payment"),D()}}var QR=(()=>{class t{constructor(){this.prodservice=R(pt),this.productselected=this.prodservice.productselected,this.fb=R(Ni),this.auth=R(Mt),this.router=R(vt),this.userserv=R(Nt),this.user={username:"",email:"",password:"",address:"",city:"",state:"",panier:[],orders:[]},this.form=this.fb.nonNullable.group({username:[this.userserv.user.username,Ee.required],email:[this.userserv.user.email,[Ee.required,Ee.email]],password:[this.userserv.user.password,Ee.required],address:[this.userserv.user.address,Ee.required],city:[this.userserv.user.address,Ee.required],state:[this.userserv.user.state,Ee.required],zip:["",Ee.required],cardNumber:["",Ee.required],expiryDate:["",Ee.required],cvv:["",Ee.required]}),this.c1=new pu("",new Date,[],0)}calculateTotal(){return this.userserv.user.panier.reduce((n,r)=>n+r.produit.price*r.Qte,0)}buyll(){console.log("Starting buyAll process"),this.c1.date=new Date,this.c1.total=30,this.c1.userId=this.auth.user_Id,console.log("Prepared commande:",this.c1),this.auth.saveCommande(this.c1).then(()=>{console.log("Commande saved!")}).catch(n=>{console.error("Error saving commande:",n)})}buyll2(){let n=new pu("",new Date,[],0);console.log("Starting buyAll process");let r=this.userserv.user.panier.map(i=>({id:i.produit.id,Qte:i.Qte}));this.userserv.save(),n.items=r,n.userId=this.auth.user_Id,n.total=parseFloat(this.userserv.user.panier.reduce((i,o)=>i+o.total,0).toFixed(2)),console.log("Prepared commande:",n),this.auth.saveCommande(n).then(()=>{console.log("Commande saved!")}).catch(i=>{console.error("Error saving commande:",i)})}buyone(){console.log("Starting buyAll process"),this.userserv.user.orders.push({panier:[this.userserv.selectedpro],date:new Date,total:this.userserv.selectedpro.total}),this.userserv.save()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-orders"]],standalone:!0,features:[Be],decls:53,vars:3,consts:[[1,"container","payment-container","mt-5","p-4","bg-light","rounded","shadow-lg"],[1,"text-center","mb-4","text-danger"],[1,"billing-section","mb-4"],[1,"text-pink"],[1,"container",3,"formGroup"],[1,"form-row"],[1,"form-group","col-md-6"],["for","username"],["type","text","id","username","formControlName","username","required","",1,"form-control","border-pink"],["for","address"],["type","text","id","address","formControlName","address","required","",1,"form-control","border-pink"],[1,"form-group","col-md-4"],["for","city"],["type","text","id","city","formControlName","city","required","",1,"form-control","border-pink"],["for","state"],["type","text","id","state","formControlName","state","required","",1,"form-control","border-pink"],["for","zip"],["type","text","id","zip","formControlName","zip","required","",1,"form-control","border-pink"],[1,"payment-section","mb-4"],[1,"form-group","col-md-12"],["for","cardNumber"],["type","text","id","cardNumber","formControlName","cardNumber","required","",1,"form-control","border-pink"],["for","expiryDate"],["type","text","id","expiryDate","formControlName","expiryDate","placeholder","MM/YY","required","",1,"form-control","border-pink"],["for","cvv"],["type","text","id","cvv","formControlName","cvv","required","",1,"form-control","border-pink"],[1,"summary-section","mb-4"],[1,"list-group"],[1,"btn","btn-danger","btn-block","submit-btn"],["class","list-group-item d-flex justify-content-between align-items-center bg-pink-light border-pink",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","font-weight-bold","bg-danger","text-white"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","bg-pink-light","border-pink"],[1,"text-muted"],[1,"btn","btn-danger","btn-block","submit-btn",3,"click"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"h2",1),O(2,"Checkout"),D(),A(3,"div",2)(4,"h3",3),O(5,"Billing Address"),D(),A(6,"form",4)(7,"div",5)(8,"div",6)(9,"label",7),O(10,"Full Name"),D(),J(11,"input",8),D(),A(12,"div",6)(13,"label",9),O(14,"Address"),D(),J(15,"input",10),D()(),A(16,"div",5)(17,"div",11)(18,"label",12),O(19,"City"),D(),J(20,"input",13),D(),A(21,"div",11)(22,"label",14),O(23,"State"),D(),J(24,"input",15),D(),A(25,"div",11)(26,"label",16),O(27,"Zip Code"),D(),J(28,"input",17),D()(),A(29,"div",18)(30,"h3",3),O(31,"Payment Method"),D(),A(32,"div",5)(33,"div",19)(34,"label",20),O(35,"Card Number"),D(),J(36,"input",21),D()(),A(37,"div",5)(38,"div",6)(39,"label",22),O(40,"Expiry Date"),D(),J(41,"input",23),D(),A(42,"div",6)(43,"label",24),O(44,"CVV"),D(),J(45,"input",25),D()()()()(),A(46,"div",26)(47,"h3",3),O(48,"Order Summary"),D(),le(49,Tz,6,2,"ul",27)(50,Sz,7,3),D(),le(51,Az,2,0,"button",28)(52,xz,2,0,"button",28),D()),r&2&&(k(6),Y("formGroup",i.form),k(43),Gt(i.userserv.product?50:49),k(2),Gt(i.userserv.product?52:51))},dependencies:[Gn,Pi,sr,_n,ir,or,hu,Ur,jr],styles:[".text-pink[_ngcontent-%COMP%]{color:#e83e8c}.bg-pink-light[_ngcontent-%COMP%]{background-color:#f8d7da}.border-pink[_ngcontent-%COMP%]{border-color:#e83e8c!important}.payment-container[_ngcontent-%COMP%]{max-width:600px}.summary-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .billing-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .payment-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#e83e8c}.submit-btn[_ngcontent-%COMP%]{background-color:#e83e8c;border-color:#e83e8c;font-weight:700}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#c7254e;border-color:#c7254e}.list-group-item[_ngcontent-%COMP%]{border:none;font-size:16px}.list-group-item.bg-danger[_ngcontent-%COMP%]{font-size:18px}"]})}}return t})();var YR=(()=>{class t{constructor(n,r){this.authService=n,this.router=r}canActivate(){return this.authService.logged?!0:(this.router.navigate(["/register"]),!1)}static{this.\u0275fac=function(r){return new(r||t)(K(Mt),K(vt))}}static{this.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Rz(t,e){if(t&1&&(A(0,"tr")(1,"td"),J(2,"img",10),D(),A(3,"td")(4,"h5",11),O(5),D()(),A(6,"td")(7,"h6",12),O(8),ec(9,"currency"),D()(),A(10,"td")(11,"div",13)(12,"span",14),O(13),D()()(),A(14,"td")(15,"h6",12),O(16),ec(17,"currency"),D()()()),t&2){let n=e.$implicit,r=ae().$implicit;k(2),Y("src",n.produit.images[0],Bn),k(3),Ge(n.produit.title),k(3),Ve("",Md(9,5,n.produit.price),"$"),k(5),Ge(n.Qte),k(3),Ge(Md(17,7,r.total))}}function Mz(t,e){if(t&1&&(A(0,"table",3)(1,"div",4)(2,"p",5)(3,"span",6),O(4,"\u{1F4C5}"),D(),A(5,"span",7),O(6,"Date:"),D(),O(7),ec(8,"date"),D(),A(9,"p",8),O(10),ec(11,"currency"),D()(),A(12,"tbody"),le(13,Rz,18,9,"tr",9),D()()),t&2){let n=e.$implicit;k(7),Ve(" ",pD(8,3,n.date,"MMMM d, yyyy, h:mm a")," "),k(3),Ve("Total: ",Md(11,6,n.total),""),k(3),Y("ngForOf",n.panier)}}var JR=(()=>{class t{constructor(){this.prodservice=R(pt),this.userservice=R(Nt)}save(){this.userservice.save()}buyll(){}buy(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-commande"]],standalone:!0,features:[Be],decls:3,vars:1,consts:[[1,"row"],[1,"col-lg-12"],["class","table table-bordered table-hover text-center custom-table-width",4,"ngFor","ngForOf"],[1,"table","table-bordered","table-hover","text-center","custom-table-width"],[1,"item-info"],[1,"item-date"],[1,"date-icon"],[1,"date-label"],[1,"item-total"],[4,"ngFor","ngForOf"],["alt","Product Image",1,"img-fluid","product-image","rounded",3,"src"],[1,"font-weight-bold"],[1,"text-primary"],[1,"d-flex","align-items-center","justify-content-center"],[1,"mx-2"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"div",1),le(2,Mz,14,8,"table",2),D()()),r&2&&(k(2),Y("ngForOf",i.userservice.user.orders))},dependencies:[Gn,YD,QD],styles:[".custom-table-width[_ngcontent-%COMP%]{width:80%;margin:0 auto;border-collapse:collapse}.product-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover}table[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;box-shadow:0 4px 8px #0000001a}td[_ngcontent-%COMP%]{padding:15px;vertical-align:middle}td[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], td[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0}.badge[_ngcontent-%COMP%]{font-size:.9rem}.btn[_ngcontent-%COMP%]{white-space:nowrap;font-size:.85rem}.total-amount[_ngcontent-%COMP%]{font-size:1.5rem;color:#c7254e;border:1px solid #c7254e;padding:10px;border-radius:5px;background-color:#f8f9fa;display:inline-block;cursor:pointer;transition:background-color .3s,color .3s}.total-amount[_ngcontent-%COMP%]:hover{background-color:#c7254e;color:#fff}.styled-container[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:10px;padding:10px 20px;box-shadow:0 4px 10px #0000001a}.total-amount[_ngcontent-%COMP%]{font-size:1.5rem;background-color:#fff;border-radius:5px;border:1px solid #ddd;padding:10px 15px;box-shadow:0 2px 5px #0000001a}.btn-buy[_ngcontent-%COMP%]{background-color:orange;color:#fff;font-size:1.2rem;padding:10px 20px;border-radius:5px;transition:background-color .3s ease,transform .3s ease}.btn-buy[_ngcontent-%COMP%]:hover{background-color:orange;transform:scale(1.05)}.item-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#f9f9f9;padding:10px 15px;border-radius:8px;border:2px solid #e91e63;box-shadow:0 4px 8px #0000001a;font-family:Arial,sans-serif;margin-top:10px}.item-date[_ngcontent-%COMP%]{font-size:16px;color:#555;font-weight:700;display:flex;align-items:center}.date-icon[_ngcontent-%COMP%]{margin-right:5px}.date-label[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-right:5px}.item-total[_ngcontent-%COMP%]{font-size:18px;color:#e91e63;font-weight:600}"]})}}return t})();var ZR=(()=>{class t{constructor(){this.prodservice=R(pt),this.productselected=this.prodservice.productselected,this.fb=R(Ni),this.auth=R(Mt),this.router=R(vt),this.userserv=R(Nt),this.user={username:"",email:"",password:"",address:"",city:"",state:"",panier:[],orders:[]},this.form=this.fb.nonNullable.group({username:[this.userserv.user.username,Ee.required],email:[this.userserv.user.email,[Ee.required,Ee.email]],password:[this.userserv.user.password,Ee.required],address:[this.userserv.user.address,Ee.required],city:[this.userserv.user.address,Ee.required],state:[this.userserv.user.state,Ee.required]})}calculateTotal(){return this.userserv.user.panier.reduce((n,r)=>n+r.produit.price*r.Qte,0)}buyll(){this.userserv.user.username=this.form.getRawValue().username,this.userserv.user.email=this.form.getRawValue().email,this.userserv.user.address=this.form.getRawValue().address,this.userserv.user.city=this.form.getRawValue().city,this.userserv.user.state=this.form.getRawValue().state,this.userserv.save()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-user"]],standalone:!0,features:[Be],decls:27,vars:1,consts:[[1,"container","payment-container","mt-5","p-4","bg-light","rounded","shadow-lg"],[1,"text-center","mb-4","text-danger"],[1,"billing-section","mb-4"],[1,"text-pink"],[1,"container",3,"formGroup"],[1,"form-row"],[1,"form-group","col-md-6"],["for","username"],["type","text","id","username","formControlName","username","required","",1,"form-control","border-pink"],["for","address"],["type","text","id","address","formControlName","address","required","",1,"form-control","border-pink"],[1,"form-group","col-md-4"],["for","city"],["type","text","id","city","formControlName","city","required","",1,"form-control","border-pink"],["for","state"],["type","text","id","state","formControlName","state","required","",1,"form-control","border-pink"],[1,"btn","btn-danger","btn-block","submit-btn",3,"click"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"h2",1),O(2,"Checkout"),D(),A(3,"div",2)(4,"h3",3),O(5,"Billing Address"),D(),A(6,"form",4)(7,"div",5)(8,"div",6)(9,"label",7),O(10,"Full Name"),D(),J(11,"input",8),D(),A(12,"div",6)(13,"label",9),O(14,"Address"),D(),J(15,"input",10),D()(),A(16,"div",5)(17,"div",11)(18,"label",12),O(19,"City"),D(),J(20,"input",13),D(),A(21,"div",11)(22,"label",14),O(23,"State"),D(),J(24,"input",15),D()()()(),A(25,"button",16),me("click",function(){return i.buyll()}),O(26,"Save"),D()()),r&2&&(k(6),Y("formGroup",i.form))},dependencies:[kf,sr,_n,ir,or,hu,Pi,Ur,jr],styles:[".text-pink[_ngcontent-%COMP%]{color:#e83e8c}.bg-pink-light[_ngcontent-%COMP%]{background-color:#f8d7da}.border-pink[_ngcontent-%COMP%]{border-color:#e83e8c!important}.payment-container[_ngcontent-%COMP%]{max-width:600px}.summary-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .billing-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .payment-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#e83e8c}.submit-btn[_ngcontent-%COMP%]{background-color:#e83e8c;border-color:#e83e8c;font-weight:700}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#c7254e;border-color:#c7254e}.list-group-item[_ngcontent-%COMP%]{border:none;font-size:16px}.list-group-item.bg-danger[_ngcontent-%COMP%]{font-size:18px}"]})}}return t})();var XR=[{path:"produits",component:dR},{path:"profil",component:ZR},{path:"commandes",component:JR},{path:"panier",component:hR},{path:"produits/:id",component:WR},{path:"",component:Jw},{path:"login",component:KR},{path:"register",component:Jw},{path:"orders",component:QR,canActivate:[YR]}];var Nz={apiKey:"AIzaSyAGMLGhJHQ3fc1-0-Qd0hMnQh5_fYZ8lns",authDomain:"yoshop-a7ab4.firebaseapp.com",projectId:"yoshop-a7ab4",storageBucket:"yoshop-a7ab4.appspot.com",messagingSenderId:"949457423908",appId:"1:949457423908:web:27ffce0c16c31ad141d2b1"},eM={providers:[ED({eventCoalescing:!0}),lS(XR),AT(),yT(),BS(()=>$S(Nz)),aR(()=>lR()),VA(()=>jA())]};var tM=(()=>{class t{constructor(){this.prodservice=R(pt),this.userservice=R(Nt),this.auth=R(Mt)}panier(){this.prodservice.isPanier=!0,this.prodservice.isProduct=!1}panier1(){this.prodservice.isProduct=!0}ngOnInit(){this.prodservice.getCategories().subscribe(n=>{this.categories=n.products},n=>{console.error("Error fetching products",n)})}logout(){this.auth.logged=!1,this.userservice.user={username:"user",email:"",password:"",address:"",city:"",state:"",panier:[],orders:[]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-navbar"]],standalone:!0,features:[Be],decls:42,vars:1,consts:[["rel","preconnect","href",fd`https://fonts.googleapis.com`],["rel","preconnect","href",fd`https://fonts.gstatic.com`,"crossorigin",""],["href",fd`https://fonts.googleapis.com/css2?family=Lobster&family=Rubik:ital,wght@0,300..900;1,300..900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap`,"rel","stylesheet"],[1,"navbar","navbar-expand-lg"],[1,"container"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarScroll","aria-controls","navbarScroll","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarScroll",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","my-2","my-lg-0","navbar-nav-scroll",2,"--bs-scroll-height","100px"],[1,"nav-item"],["aria-current","page","routerLink","/",1,"nav-link","active"],["routerLink","/produits",1,"nav-link",3,"click"],["routerLink","/orders",1,"nav-link"],["routerLink","/panier",1,"nav-link",3,"click"],[1,"dropdown","position-absolute","top-0","end-0","me-3","mt-3"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","d-flex","align-items-center",2,"color","inherit"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-circle","me-2"],["d","M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"],["fill-rule","evenodd","d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu",2,"min-width","90px","max-width","300px"],["routerLink","/profil",1,"dropdown-item"],["routerLink","/commandes",1,"dropdown-item"],[1,"dropdown-item",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-right"],["fill-rule","evenodd","d","M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0z"],["fill-rule","evenodd","d","M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"]],template:function(r,i){r&1&&(A(0,"html")(1,"head"),J(2,"link",0)(3,"link",1)(4,"link",2),D(),A(5,"body")(6,"nav",3)(7,"div",4)(8,"a",5),O(9,"YoShop"),D(),A(10,"button",6),J(11,"span",7),D(),A(12,"div",8)(13,"ul",9)(14,"li",10)(15,"a",11),O(16,"Home"),D()(),A(17,"li",10)(18,"a",12),me("click",function(){return i.panier1()}),O(19,"STORE"),D()(),A(20,"li",10)(21,"a",13),O(22,"CONTACT"),D()(),A(23,"li",10)(24,"a",14),me("click",function(){return i.panier()}),O(25,"PANIER"),D()()()()(),A(26,"div",15)(27,"button",16),ps(),A(28,"svg",17),J(29,"path",18)(30,"path",19),D(),O(31),D(),Ya(),A(32,"ul",20)(33,"li")(34,"a",21),O(35,"PROFIL"),D(),A(36,"a",22),O(37,"ORDERS"),D(),A(38,"a",23),me("click",function(){return i.logout()}),ps(),A(39,"svg",24),J(40,"path",25)(41,"path",26),D()()()()()()()()),r&2&&(k(31),Ve(" ",i.userservice.user.username," "))},dependencies:[gi],styles:[".navbar-brand[_ngcontent-%COMP%]{font-size:2 rem;color:#000;font-family:Lobster,cursive}.nav-link[_ngcontent-%COMP%]{margin-right:10 px;margin-left:10 px;color:#000;font-family:Rubik,sans-serif;text-transform:uppercase}.nav-link[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#000}.btn0[_ngcontent-%COMP%]{height:40px;width:60px;outline:none;border:none;background:#f81a5c;border-radius:60px;color:#fff;font-weight:700}.search[_ngcontent-%COMP%]{height:40px;width:80%;margin-right:-35px;border-radius:60px;outline:none;font-family:Rubik,sans-serif;border:2px solid rgb(248,26,92)}"]})}}return t})();var nM=(()=>{class t{constructor(){this.title="shop4"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=je({type:t,selectors:[["app-root"]],standalone:!0,features:[Be],decls:2,vars:0,template:function(r,i){r&1&&J(0,"app-navbar")(1,"router-outlet")},dependencies:[Vy,tM]})}}return t})();TT(nM,eM).catch(t=>console.error(t));
