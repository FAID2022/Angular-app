

<div class="container payment-container mt-5 p-4 bg-light rounded shadow-lg">
  <h2 class="text-center mb-4 text-danger">Checkout</h2>

  <!-- Billing Address Section -->
  <div class="billing-section mb-4">
    <h3 class="text-pink">Billing Address</h3>
    <form [formGroup]="form" class="container">
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="username">Full Name</label>
          <input type="text" class="form-control border-pink" id="username" formControlName="username" required>
        </div>
        <div class="form-group col-md-6">
          <label for="address">Address</label>
          <input type="text" class="form-control border-pink" id="address" formControlName="address" required>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group col-md-4">
          <label for="city">City</label>
          <input type="text" class="form-control border-pink" id="city" formControlName="city" required>
        </div>
        <div class="form-group col-md-4">
          <label for="state">State</label>
          <input type="text" class="form-control border-pink" id="state" formControlName="state" required>
        </div>
        <div class="form-group col-md-4">
          <label for="zip">Zip Code</label>
          <input type="text" class="form-control border-pink" id="zip" formControlName="zip" required>
        </div>
      </div>

      <!-- Payment Method Section -->
      <div class="payment-section mb-4">
        <h3 class="text-pink">Payment Method</h3>
        <div class="form-row">
          <div class="form-group col-md-12">
            <label for="cardNumber">Card Number</label>
            <input type="text" class="form-control border-pink" id="cardNumber" formControlName="cardNumber" required>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="expiryDate">Expiry Date</label>
            <input type="text" class="form-control border-pink" id="expiryDate" formControlName="expiryDate" placeholder="MM/YY" required>
          </div>
          <div class="form-group col-md-6">
            <label for="cvv">CVV</label>
            <input type="text" class="form-control border-pink" id="cvv" formControlName="cvv" required>
          </div>
        </div>
      </div>
    </form>

  </div>

  <!-- Order Summary Section -->
  <div class="summary-section mb-4">
    <h3 class="text-pink">Order Summary</h3>
    @if (!userserv.product){
    <ul class="list-group">
      <!-- Iterate over productselected array -->
      <li *ngFor="let item of this.userserv.user.panier" class="list-group-item d-flex justify-content-between align-items-center bg-pink-light border-pink">
        <div>
          <span>{{ item.produit.title }}</span>
          <small class="text-muted">x {{ item.Qte }}</small>
        </div>
        <span>${{ item.produit.price * item.Qte }}</span>
      </li>

      <!-- Calculate total cost for all items -->
      <li class="list-group-item d-flex justify-content-between align-items-center font-weight-bold bg-danger text-white">
        Total
        <span>${{ calculateTotal() }}</span>
      </li>
    </ul>} @else {
      <div>
        <span>{{ userserv.selectedpro.produit.title }}</span>
        <small class="text-muted">x {{ userserv.selectedpro.Qte }}</small>
      </div>
      <span>${{ userserv.selectedpro.produit.price * userserv.selectedpro.Qte }}</span>
    }
  </div>
  @if (!userserv.product){
  <!-- Submit Button -->
  <button class="btn btn-danger btn-block submit-btn" (click)="buyll2()">Complete Payment</button>} @else {
    <button class="btn btn-danger btn-block submit-btn" (click)="buyone()">Complete Payment</button>
  }
</div>

<!-- Add Bootstrap JS -->
